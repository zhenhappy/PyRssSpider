<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:slash="http://purl.org/rss/1.0/modules/slash/" xmlns:sy="http://purl.org/rss/1.0/modules/syndication/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0" xmlns:wfw="http://wellformedweb.org/CommentAPI/" xmlns:dc="http://purl.org/dc/elements/1.1/"><channel><title>91ri</title><link>https://www.91ri.org/</link><atom:link href="http://117.28.237.21:29956/ording/resource/91ri.xml" type="application/rss+xml" rel="self"></atom:link><description>2015-08-04</description><language>zh-CN</language><lastBuildDate>Tue, 04 Aug 2015 17:40:58 GMT</lastBuildDate><generator>PyRSS2Gen-1.1.0</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>社工科普：捕获他的贪心-记一次通过社工拿下某站权限</title><link>https://www.91ri.org/13853.html</link><description>&lt;article class="single-post"&gt;
													&lt;section class="single-post-header"&gt;
								&lt;div class="single-post-header__headline"&gt;&lt;img src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/15_8_3_23_12_10.jpg" alt=""&gt;&lt;/div&gt;
								&lt;header class="single-post-header__meta"&gt;
									&lt;div class="single-post__postmeta"&gt; • 2015/08/3                    &lt;span style="float:right;color:#51aded;"&gt;作者: &lt;b&gt;wuyan&lt;/b&gt;&lt;/span&gt;
                  &lt;/div&gt;
									&lt;h1 class="single-post__title"&gt;社工科普：捕获他的贪心-记一次通过社工拿下某站权限&lt;/h1&gt;
								&lt;/header&gt;
							&lt;/section&gt;
							&lt;section class="article"&gt;
								&lt;p&gt;&lt;strong&gt;&lt;span style="font-size: 18pt;"&gt;&lt;span style="font-size: 14pt;"&gt;检测目标&lt;/span&gt;：&lt;/span&gt;&lt;/strong&gt;xxxx.cn 国内一个中大型站点（每天在线人数估计10000多）&lt;/p&gt;
&lt;p&gt;&lt;span style="font-family: georgia, palatino, serif;"&gt;&lt;span style="font-size: 14pt;"&gt;&lt;strong&gt;前期检测大致过程：&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/1.jpg"&gt;&lt;img class="alignnone size-full wp-image-13854" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/1.jpg" alt="1" width="554" height="210" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style="font-family: georgia, palatino, serif;"&gt;服务器是iis的，我估计是2008的。主站的确不好搞，只发现了一个&lt;strong&gt;XSS漏洞&lt;/strong&gt;。我去理性的看了一下旁站，发现旁站全是他的二级域名，发现全是统一的，难搞的cms，我当时心里一千只草泥马奔腾而过。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style="font-family: georgia, palatino, serif;"&gt;发现开了ftp，想想按照以前的经验来看，这个ftp密码一般都是没有规律的，很有可能是自己随机生成的。想爆破来着，但是觉得还是先缓缓，实在没办法再来。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style="font-family: georgia, palatino, serif;"&gt;&lt;span style="font-size: 14pt;"&gt;&lt;strong&gt;冷静分析&lt;/strong&gt;：&lt;/span&gt;弄了一下午，好不容易搞下一台c段，还嗅探不到，估计是安全狗的防护。（自带ARP防火墙）这个时候，我就想，我现在有个可以利用的地方：1.就是21端口，&lt;/span&gt;&lt;span style="font-family: georgia, palatino, serif;"&gt;可是爆破ftp，比较的费时。2.社工。社工的话无非就是假聊啊，混熟了等等。我这时候就继续去翻网站了，这时候看见公告，突然焕然大悟.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/2.jpg"&gt;&lt;img class="alignnone size-full wp-image-13855" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/2.jpg" alt="2" width="554" height="330" /&gt;&lt;/a&gt;&lt;br /&gt;
&lt;span style="font-family: georgia, palatino, serif;"&gt; App开发，哎哟，这不是我的长项吗，我是学安卓开发出身的，自然对于开发这些app之类的有过一定的经验。想起我之前接过的一个活，就是开发一个网站app，但是那时候还是没有任何接口的，只能是单纯的分析html源码，从html源码中提取出来数据。于是乎我就拿着那个给改了改，&lt;strong&gt;做成能够登陆那个网站的APP&lt;/strong&gt;，顺便在登陆的时候留下一个钓鱼的后门。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/3.jpg"&gt;&lt;img class="alignnone size-full wp-image-13856" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/3.jpg" alt="3" width="492" height="451" /&gt;&lt;/a&gt;&lt;br /&gt;
&lt;span style="font-family: georgia, palatino, serif;"&gt; （老夫当年写的）看到源码登陆那一块，屁颠屁颠的把钓鱼连接加上去&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/41.jpg"&gt;&lt;img class="alignnone size-full wp-image-13874" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/41.jpg" alt="4" width="554" height="273" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/51.jpg"&gt;&lt;img class="alignnone size-full wp-image-13875" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/51.jpg" alt="5" width="553" height="271" /&gt;&lt;/a&gt;&lt;br /&gt;
&lt;span style="font-family: georgia, palatino, serif;"&gt; 然后把地址之类的改改，再把各个html分析过滤提取器改一下，客户端接近完美。看看运行效果，在手机上截的屏幕，十分辛苦，电脑没装安卓虚拟机&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/6.jpg"&gt;&lt;img class="alignnone size-full wp-image-13859" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/6.jpg" alt="6" width="299" height="487" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/7.jpg"&gt;&lt;img class="alignnone size-full wp-image-13860" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/7.jpg" alt="7" width="265" height="463" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/8.jpg"&gt;&lt;img class="alignnone size-full wp-image-13861" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/8.jpg" alt="8" width="276" height="419" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/9.jpg"&gt;&lt;img class="alignnone size-full wp-image-13862" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/9.jpg" alt="9" width="301" height="400" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style="font-family: georgia, palatino, serif;"&gt;下载了目标站的源码进行了测试，发现可以成功截取到数据。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/10.jpg"&gt;&lt;img class="alignnone size-full wp-image-13863" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/10.jpg" alt="10" width="554" height="181" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style="font-family: georgia, palatino, serif;"&gt;第一个是我挂上vpn后的测试账号，第二个是别人的。我是刷刷的登陆xss平台，留下一条xss就走人了。终于，来cookie了,我们除了ip，甚至还能看见浏览器的一些信息，这对我们的后面渗透过程有很大的帮助.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/11.jpg"&gt;&lt;img class="alignnone size-full wp-image-13864" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/11.jpg" alt="11" width="308" height="147" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style="font-family: georgia, palatino, serif;"&gt;可以看到目标是一个ie8.0，但是是64位的，这么老版本的浏览器，说不定msf里面就有一些了可以利用的模块呢。于是我很快开启msf，查找一些比较新的ie漏洞。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/12.jpg"&gt;&lt;img class="alignnone  wp-image-13865" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/12.jpg" alt="12" width="475" height="315" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/13.jpg"&gt;&lt;img class="alignnone size-full wp-image-13866" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/13.jpg" alt="13" width="554" height="304" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style="font-family: georgia, palatino, serif;"&gt;最终选择了一个比较新的模块，当然，具体能不能成功就看天了，找到留言板处，做了一点处理，把自己的服务器连接一填。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style="font-family: georgia, palatino, serif;"&gt;&lt;strong&gt;双管齐下:&lt;/strong&gt;然后我找到了站长的qq，准备假聊了&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/14.jpg"&gt;&lt;img class="alignnone size-full wp-image-13867" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/14.jpg" alt="14" width="554" height="347" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style="font-family: georgia, palatino, serif;"&gt;下面是聊天过程&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/15.jpg"&gt;&lt;img class="alignnone size-full wp-image-13868" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/15.jpg" alt="15" width="535" height="333" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/16.jpg"&gt;&lt;img class="alignnone size-full wp-image-13869" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/16.jpg" alt="16" width="434" height="329" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/17.jpg"&gt;&lt;img class="alignnone size-full wp-image-13870" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/17.jpg" alt="17" width="434" height="238" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style="font-family: georgia, palatino, serif;"&gt;之后当然我就给他发了过去，没想到，这老小子也太吝啬了，一开始就想到钱的问题。后来他果然顺利的上钩了，拿到账号密码。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/18.jpg"&gt;&lt;img class="alignnone size-full wp-image-13871" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/18.jpg" alt="18" width="554" height="178" /&gt;&lt;/a&gt;&lt;br /&gt;
&lt;span style="font-family: georgia, palatino, serif;"&gt; 当然我们的msf还在那开着，一直没有数据过来，到这里的话，我已经成功的拿到了账号和密码，于是登陆后台了。接下来拿shell，提权什么的，就不说了。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;[via@&lt;a href="https://forum.90sec.org/forum.php?mod=viewthread&amp;amp;tid=8785"&gt;wuyan&lt;/a&gt;]&lt;/p&gt;
							&lt;/section&gt;
							&lt;section class="single-post-share cf"&gt;
							&lt;div class="single-post-share-social"&gt;
								&lt;ul class="single-post-share-social__action"&gt;
									&lt;li&gt;
										&lt;a class="social-btn share-btn" href="javascript:void(0)"&gt;&lt;i class="icon icon-share"&gt;&lt;/i&gt; &lt;span&gt;&lt;/span&gt; &lt;/a&gt;
										&lt;div class="single-post-social__popup"&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13853.html&amp;title=社工科普：捕获他的贪心-记一次通过社工拿下某站权限" target="_blank" class="weibo"&gt;
										    &lt;i class="icon-social-weibo"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13853.html&amp;title=社工科普：捕获他的贪心-记一次通过社工拿下某站权限&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;
										    &lt;i class="icon-social-qq"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=twi&amp;url=https://www.91ri.org/13853.html&amp;title=社工科普：捕获他的贪心-记一次通过社工拿下某站权限&amp;key=" target="_blank" class="twitter"&gt;
										    &lt;i class="icon-social-twitter"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" target="_blank" class="evernote"&gt;
										    &lt;i class="icon-social-evernote"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=douban&amp;url=https://www.91ri.org/13853.html&amp;title=社工科普：捕获他的贪心-记一次通过社工拿下某站权限" target="_blank" class="douban"&gt;
										    &lt;i class="icon-social-douban"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=renren&amp;url=https://www.91ri.org/13853.html&amp;title=社工科普：捕获他的贪心-记一次通过社工拿下某站权限" target="_blank" class="renren"&gt;
										    &lt;i class="icon-social-renren"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										&lt;/div&gt;
									&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;div class="single-post-share-list"&gt;
								&lt;ul class="cf"&gt;
									&lt;li&gt;&lt;a href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13853.html&amp;title=社工科普：捕获他的贪心-记一次通过社工拿下某站权限" target="_blank" class="weibo"&gt;分享到微博&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="#panel-weixin" class="weixin overlay"&gt;分享到微信&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13853.html&amp;title=社工科普：捕获他的贪心-记一次通过社工拿下某站权限&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;分享到QQ&lt;/a&gt;&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;/section&gt;
																		&lt;/article&gt;</description><comments>https://www.91ri.org/13853.html#comments</comments><guid>https://www.91ri.org/13853.html1</guid><pubDate>Tue, 04 Aug 2015 17:42:26 GMT</pubDate></item><item><title>通过Mesos、Docker和Go，使用300行代码创建一个分布式系统</title><link>https://www.91ri.org/13851.html</link><description>&lt;article class="single-post"&gt;
													&lt;section class="single-post-header"&gt;
								&lt;div class="single-post-header__headline"&gt;&lt;img src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/08/222211.jpg" alt=""&gt;&lt;/div&gt;
								&lt;header class="single-post-header__meta"&gt;
									&lt;div class="single-post__postmeta"&gt; • 2015/08/1                    &lt;span style="float:right;color:#51aded;"&gt;作者: &lt;b&gt;admin&lt;/b&gt;&lt;/span&gt;
                  &lt;/div&gt;
									&lt;h1 class="single-post__title"&gt;通过Mesos、Docker和Go，使用300行代码创建一个分布式系统&lt;/h1&gt;
								&lt;/header&gt;
							&lt;/section&gt;
							&lt;section class="article"&gt;
								&lt;p&gt;构建一个分布式系统是很困难的。它需要可扩展性、容错性、高可用性、一致性、可伸缩以及高效。为了达到这些目的，分布式系统需要很多复杂的组件以一 种复杂的方式协同工作。例如，Apache Hadoop在大型集群上并行处理TB级别的数据集时，需要依赖有着高容错的文件系统（HDFS）来达到高吞 吐量。&lt;/p&gt;
&lt;p&gt;在之前，每一个新的分布式系统，例如Hadoop和Cassandra，都需要构建自己的底层架构，包括消息处理、存储、网络、容错 性和可伸缩性。庆幸的是，像Apache Mesos这样的系统，通过给分布式系统的关键构建模块提供类似操作系统的管理服务，简化了构建和管理分布式系 统的任务。Mesos抽离了CPU、存储和其它计算资源，因此开发者开发分布式应用程序时能够将整个数据中心集群当做一台巨型机对待。&lt;/p&gt;
&lt;p&gt;构建 在Mesos上的应用程序被称为框架，它们能解决很多问题：Apache Spark，一种流行的集群式数据分析工具；Chronos，一个类似cron 的具有容错性的分布式scheduler，这是两个构建在Mesos上的框架的例子。构建框架可以使用多种语言，包括 C++，Go，Python，Java，Haskell和 Scala。&lt;/p&gt;
&lt;p&gt;在分布式系统用例上，比特币开采就是一个很好的例子。比特币将为生 成 acceptable hash 的挑战转为验证一块事务的可靠性。可能需要几十年，单台笔记本电脑挖一块可能需要花费超过150年。结果是，有许多 的“采矿池”允许采矿者将他们的计算资源联合起来以加快挖矿速度。Mesosphere的一个实习生，Derek，写了一个比特币开采框架 （https://github.com/derekchiang/Mesos-Bitcoin-Miner），利用集群资源的优势来做同样的事情。在接 下来的内容中，会以他的代码为例。&lt;/p&gt;
&lt;p&gt;1个Mesos框架有1个scheduler 和1个executor组成。scheduler 和 Mesos master通信并决定运行什么任务，而executor 运行在slaves上面，执行实际任务。大多数的框架实现了自己的 scheduler，并使用1个由Mesos提供的标准executors。当然，框架也可以自己定制executor。在这个例子中即会编写定制的 scheduler，并使用标准命令执行器（executor）运行包含我们比特币服务的Docker镜像。&lt;/p&gt;
&lt;p&gt;对这里的scheduler来 说，需要运行的有两种任务——one miner server task and multiple miner worker tasks。 server会和一个比特币采矿池通信，并给每个worker分配blocks。Worker会努力工作，即开采比特币。&lt;/p&gt;
&lt;p&gt;任务实际上被封装 在executor框架中，因此任务运行意味着告诉Mesos master在其中一个slave上面启动一个executor。由于这里使用的是标准命 令执行器（executor），因此可以指定任务是二进制可执行文件、bash脚本或者其他命令。由于Mesos支持Docker，因此在本例中将使用可 执行的Docker镜像。Docker是这样一种技术，它允许你将应用程序和它运行时需要的依赖一起打包。&lt;/p&gt;
&lt;p&gt;为了在Mesos中使用Docker镜像，这里需要在Docker registry中注册它们的名称：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7d352b0146193087" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
const (
    MinerServerDockerImage = "derekchiang/p2pool"
    MinerDaemonDockerImage = "derekchiang/cpuminer"
)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352b0146193087-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352b0146193087-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352b0146193087-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352b0146193087-4"&gt;4&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352b0146193087-1"&gt;&lt;span class="crayon-m"&gt;const&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352b0146193087-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;MinerServerDockerImage&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"derekchiang/p2pool"&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352b0146193087-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;MinerDaemonDockerImage&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"derekchiang/cpuminer"&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352b0146193087-4"&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0007 seconds] --&gt;
&lt;p&gt;然后定义一个常量，指定每个任务所需资源：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7d352c0723270237" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
const (
    MemPerDaemonTask = 128  // mining shouldn't be memory-intensive
    MemPerServerTask = 256
    CPUPerServerTask = 1    // a miner server does not use much CPU
)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352c0723270237-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352c0723270237-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352c0723270237-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352c0723270237-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352c0723270237-5"&gt;5&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352c0723270237-1"&gt;&lt;span class="crayon-m"&gt;const&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352c0723270237-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;MemPerDaemonTask&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;128&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-c"&gt;// mining shouldn't be memory-intensive&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352c0723270237-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;MemPerServerTask&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;256&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352c0723270237-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;CPUPerServerTask&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;1&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-c"&gt;// a miner server does not use much CPU&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352c0723270237-5"&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0010 seconds] --&gt;
&lt;p&gt;现在定义一个真正的scheduler，对其跟踪，并确保其正确运行需要的状态：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7d352c6240438042" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
type MinerScheduler struct {
    // bitcoind RPC credentials
    bitcoindAddr string
    rpcUser      string
    rpcPass      string
    // mutable state
    minerServerRunning  bool
    minerServerHostname string 
    minerServerPort     int    // the port that miner daemons 
                               // connect to
    // unique task ids
    tasksLaunched        int
    currentDaemonTaskIDs []*mesos.TaskID
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352c6240438042-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352c6240438042-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352c6240438042-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352c6240438042-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352c6240438042-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352c6240438042-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352c6240438042-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352c6240438042-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352c6240438042-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352c6240438042-10"&gt;10&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352c6240438042-11"&gt;11&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352c6240438042-12"&gt;12&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352c6240438042-13"&gt;13&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352c6240438042-14"&gt;14&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352c6240438042-1"&gt;&lt;span class="crayon-e"&gt;type&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;MinerScheduler&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;struct&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352c6240438042-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-c"&gt;// bitcoind RPC credentials&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352c6240438042-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;bitcoindAddr &lt;/span&gt;&lt;span class="crayon-t"&gt;string&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352c6240438042-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;rpcUser&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-t"&gt;string&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352c6240438042-5"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;rpcPass&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-t"&gt;string&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352c6240438042-6"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-c"&gt;// mutable state&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352c6240438042-7"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;minerServerRunning&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-t"&gt;bool&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352c6240438042-8"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;minerServerHostname &lt;/span&gt;&lt;span class="crayon-t"&gt;string&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352c6240438042-9"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;minerServerPort&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class="crayon-t"&gt;int&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-c"&gt;// the port that miner daemons &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352c6240438042-10"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class="crayon-c"&gt;// connect to&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352c6240438042-11"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-c"&gt;// unique task ids&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352c6240438042-12"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;tasksLaunched&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-t"&gt;int&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352c6240438042-13"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-i"&gt;currentDaemonTaskIDs&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-o"&gt;*&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-i"&gt;TaskID&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352c6240438042-14"&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0018 seconds] --&gt;
&lt;p&gt;这个scheduler必须实现下面的接口：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7d352cd944998428" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
type Scheduler interface {
    Registered(SchedulerDriver, *mesos.FrameworkID, *mesos.MasterInfo)
    Reregistered(SchedulerDriver, *mesos.MasterInfo)
    Disconnected(SchedulerDriver)
    ResourceOffers(SchedulerDriver, []*mesos.Offer)
    OfferRescinded(SchedulerDriver, *mesos.OfferID)
    StatusUpdate(SchedulerDriver, *mesos.TaskStatus)
    FrameworkMessage(SchedulerDriver, *mesos.ExecutorID, 
                     *mesos.SlaveID, string)
    SlaveLost(SchedulerDriver, *mesos.SlaveID)
    ExecutorLost(SchedulerDriver, *mesos.ExecutorID, *mesos.SlaveID, 
                 int)
    Error(SchedulerDriver, string)
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352cd944998428-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352cd944998428-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352cd944998428-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352cd944998428-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352cd944998428-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352cd944998428-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352cd944998428-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352cd944998428-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352cd944998428-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352cd944998428-10"&gt;10&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352cd944998428-11"&gt;11&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352cd944998428-12"&gt;12&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352cd944998428-13"&gt;13&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352cd944998428-14"&gt;14&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352cd944998428-1"&gt;&lt;span class="crayon-e"&gt;type&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;Scheduler&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;interface&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352cd944998428-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;Registered&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;SchedulerDriver&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;*&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;FrameworkID&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;*&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;MasterInfo&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352cd944998428-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;Reregistered&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;SchedulerDriver&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;*&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;MasterInfo&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352cd944998428-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;Disconnected&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;SchedulerDriver&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352cd944998428-5"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;ResourceOffers&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;SchedulerDriver&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-o"&gt;*&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;Offer&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352cd944998428-6"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;OfferRescinded&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;SchedulerDriver&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;*&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;OfferID&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352cd944998428-7"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;StatusUpdate&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;SchedulerDriver&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;*&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;TaskStatus&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352cd944998428-8"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;FrameworkMessage&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;SchedulerDriver&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;*&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;ExecutorID&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352cd944998428-9"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class="crayon-o"&gt;*&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SlaveID&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;string&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352cd944998428-10"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;SlaveLost&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;SchedulerDriver&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;*&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SlaveID&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352cd944998428-11"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;ExecutorLost&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;SchedulerDriver&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;*&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;ExecutorID&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;*&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SlaveID&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352cd944998428-12"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class="crayon-t"&gt;int&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352cd944998428-13"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;Error&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;SchedulerDriver&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;string&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352cd944998428-14"&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0044 seconds] --&gt;
&lt;p&gt;现在一起看一个回调函数：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7d352d4538725671" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
func (s *MinerScheduler) Registered(_ sched.SchedulerDriver, 
      frameworkId *mesos.FrameworkID, masterInfo *mesos.MasterInfo) {
    log.Infoln("Framework registered with Master ", masterInfo)
}
func (s *MinerScheduler) Reregistered(_ sched.SchedulerDriver, 
      masterInfo *mesos.MasterInfo) {
    log.Infoln("Framework Re-Registered with Master ", masterInfo)
}
func (s *MinerScheduler) Disconnected(sched.SchedulerDriver) {
    log.Infoln("Framework disconnected with Master")
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352d4538725671-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352d4538725671-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352d4538725671-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352d4538725671-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352d4538725671-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352d4538725671-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352d4538725671-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352d4538725671-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352d4538725671-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352d4538725671-10"&gt;10&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352d4538725671-11"&gt;11&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352d4538725671-1"&gt;&lt;span class="crayon-e"&gt;func&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e "&gt;s *&lt;/span&gt;&lt;span class="crayon-v"&gt;MinerScheduler&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;Registered&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-i"&gt;_&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;sched&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SchedulerDriver&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352d4538725671-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e "&gt;frameworkId *&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;FrameworkID&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e "&gt;masterInfo *&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;MasterInfo&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352d4538725671-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;log&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;Infoln&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;"Framework registered with Master "&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;masterInfo&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352d4538725671-4"&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352d4538725671-5"&gt;&lt;span class="crayon-e"&gt;func&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e "&gt;s *&lt;/span&gt;&lt;span class="crayon-v"&gt;MinerScheduler&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;Reregistered&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-i"&gt;_&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;sched&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SchedulerDriver&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352d4538725671-6"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e "&gt;masterInfo *&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;MasterInfo&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352d4538725671-7"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;log&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;Infoln&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;"Framework Re-Registered with Master "&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;masterInfo&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352d4538725671-8"&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352d4538725671-9"&gt;&lt;span class="crayon-e"&gt;func&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e "&gt;s *&lt;/span&gt;&lt;span class="crayon-v"&gt;MinerScheduler&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;Disconnected&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;sched&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SchedulerDriver&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352d4538725671-10"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;log&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;Infoln&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;"Framework disconnected with Master"&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352d4538725671-11"&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0036 seconds] --&gt;
&lt;p&gt;&lt;b&gt;Registered&lt;/b&gt;在scheduler 成功向Mesos master注册之后被调用。&lt;/p&gt;
&lt;p&gt;&lt;b&gt;Reregistered&lt;/b&gt;在scheduler 与Mesos master断开连接并且再次注册时被调用，例如，在master重启的时候。&lt;/p&gt;
&lt;p&gt;&lt;b&gt;Disconnected&lt;/b&gt;在scheduler 与Mesos master断开连接时被调用。这个在master挂了的时候会发生。&lt;/p&gt;
&lt;p&gt;目前为止，这里仅仅在回调函数中打印了日志信息，因为对于一个像这样的简单框架，大多数回调函数可以空在那里。然而，下一个回调函数就是每一个框架的核心，必须要认真的编写。&lt;/p&gt;
&lt;p&gt;&lt;b&gt;ResourceOffers&lt;/b&gt;在scheduler 从master那里得到一个offer的时候被调用。每一个offer包含一个集群上可以给框架使用的资源列表。资源通常包括CPU、内存、端口和磁盘。一个框架可以使用它提供的一些资源、所有资源或者一点资源都不给用。&lt;/p&gt;
&lt;p&gt;针 对每一个offer，现在期望聚集所有的提供的资源并决定是否需要发布一个新的server任务或者一个新的worker任务。这里可以向每个offer 发送尽可能多的任务以测试最大容量，但是由于开采比特币是依赖CPU的，所以这里每个offer运行一个开采者任务并使用所有可用的CPU资源。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7d352dc982880561" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
for i, offer := range offers {
    // … Gather resource being offered and do setup
    if !s.minerServerRunning &amp;amp;&amp;amp; mems &amp;gt;= MemPerServerTask &amp;amp;&amp;amp;
            cpus &amp;gt;= CPUPerServerTask &amp;amp;&amp;amp; ports &amp;gt;= 2 {
        // … Launch a server task since no server is running and we 
        // have resources to launch it.
    } else if s.minerServerRunning &amp;amp;&amp;amp; mems &amp;gt;= MemPerDaemonTask {
        // … Launch a miner since a server is running and we have mem 
        // to launch one.
    }
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352dc982880561-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352dc982880561-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352dc982880561-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352dc982880561-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352dc982880561-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352dc982880561-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352dc982880561-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352dc982880561-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352dc982880561-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352dc982880561-10"&gt;10&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352dc982880561-11"&gt;11&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352dc982880561-1"&gt;&lt;span class="crayon-st"&gt;for&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;i&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;offer&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;range&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;offers&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352dc982880561-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-c"&gt;// … Gather resource being offered and do setup&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352dc982880561-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;!&lt;/span&gt;&lt;span class="crayon-v"&gt;s&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;minerServerRunning&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;mems&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;MemPerServerTask&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352dc982880561-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;cpus&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;CPUPerServerTask&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;ports&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;2&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352dc982880561-5"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-c"&gt;// … Launch a server task since no server is running and we &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352dc982880561-6"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-c"&gt;// have resources to launch it.&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352dc982880561-7"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;s&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;minerServerRunning&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;mems&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;MemPerDaemonTask&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352dc982880561-8"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-c"&gt;// … Launch a miner since a server is running and we have mem &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352dc982880561-9"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-c"&gt;// to launch one.&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352dc982880561-10"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352dc982880561-11"&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0028 seconds] --&gt;
&lt;p&gt;针对每个任务都需要创建一个对应的TaskInfo message ，它包含了运行这个任务需要的信息。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7d352e3919440065" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
s.tasksLaunched++
taskID = &amp;amp;mesos.TaskID {
    Value: proto.String("miner-server-" + 
                        strconv.Itoa(s.tasksLaunched)),
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352e3919440065-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352e3919440065-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352e3919440065-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352e3919440065-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352e3919440065-5"&gt;5&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352e3919440065-1"&gt;&lt;span class="crayon-v"&gt;s&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;tasksLaunched&lt;/span&gt;&lt;span class="crayon-o"&gt;++&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352e3919440065-2"&gt;&lt;span class="crayon-v"&gt;taskID&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-i"&gt;TaskID&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352e3919440065-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;Value&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;proto&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-t"&gt;String&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;"miner-server-"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352e3919440065-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;strconv&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;Itoa&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;s&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;tasksLaunched&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352e3919440065-5"&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0013 seconds] --&gt;
&lt;p&gt;Task IDs由框架决定，并且每个框架必须是唯一的。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7d352e9696633197" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
containerType := mesos.ContainerInfo_DOCKER
task = &amp;amp;mesos.TaskInfo {
    Name: proto.String("task-" + taskID.GetValue()),
    TaskId: taskID,
    SlaveId: offer.SlaveId,
    Container: &amp;amp;mesos.ContainerInfo {
        Type: &amp;amp;containerType,
        Docker: &amp;amp;mesos.ContainerInfo_DockerInfo {
            Image: proto.String(MinerServerDockerImage),
        },
    },
    Command: &amp;amp;mesos.CommandInfo {
        Shell: proto.Bool(false),
        Arguments: []string {
            // these arguments will be passed to run_p2pool.py
            "--bitcoind-address", s.bitcoindAddr,
            "--p2pool-port", strconv.Itoa(int(p2poolPort)),
            "-w", strconv.Itoa(int(workerPort)),
            s.rpcUser, s.rpcPass,
        },
    },
    Resources: []*mesos.Resource {
        util.NewScalarResource("cpus", CPUPerServerTask),
        util.NewScalarResource("mem", MemPerServerTask),
    },
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352e9696633197-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352e9696633197-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352e9696633197-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352e9696633197-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352e9696633197-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352e9696633197-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352e9696633197-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352e9696633197-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352e9696633197-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352e9696633197-10"&gt;10&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352e9696633197-11"&gt;11&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352e9696633197-12"&gt;12&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352e9696633197-13"&gt;13&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352e9696633197-14"&gt;14&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352e9696633197-15"&gt;15&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352e9696633197-16"&gt;16&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352e9696633197-17"&gt;17&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352e9696633197-18"&gt;18&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352e9696633197-19"&gt;19&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352e9696633197-20"&gt;20&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352e9696633197-21"&gt;21&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352e9696633197-22"&gt;22&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352e9696633197-23"&gt;23&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352e9696633197-24"&gt;24&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352e9696633197-25"&gt;25&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352e9696633197-26"&gt;26&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352e9696633197-1"&gt;&lt;span class="crayon-v"&gt;containerType&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;ContainerInfo_DOCKER&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352e9696633197-2"&gt;&lt;span class="crayon-v"&gt;task&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-i"&gt;TaskInfo&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352e9696633197-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;Name&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;proto&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-t"&gt;String&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;"task-"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;taskID&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;GetValue&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352e9696633197-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;TaskId&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;taskID&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352e9696633197-5"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;SlaveId&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;offer&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SlaveId&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352e9696633197-6"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;Container&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-i"&gt;ContainerInfo&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352e9696633197-7"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;Type&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="crayon-v"&gt;containerType&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352e9696633197-8"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;Docker&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;ContainerInfo&lt;/span&gt;&lt;span class="crayon-sy"&gt;_&lt;/span&gt;DockerInfo&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352e9696633197-9"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;Image&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;proto&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-t"&gt;String&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;MinerServerDockerImage&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352e9696633197-10"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352e9696633197-11"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352e9696633197-12"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;Command&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-i"&gt;CommandInfo&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352e9696633197-13"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;Shell&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;proto&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-t"&gt;Bool&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-t"&gt;false&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352e9696633197-14"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;Arguments&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-t"&gt;string&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352e9696633197-15"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-c"&gt;// these arguments will be passed to run_p2pool.py&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352e9696633197-16"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-s"&gt;"--bitcoind-address"&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;s&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;bitcoindAddr&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352e9696633197-17"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-s"&gt;"--p2pool-port"&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;strconv&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;Itoa&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-t"&gt;int&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;p2poolPort&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352e9696633197-18"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-s"&gt;"-w"&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;strconv&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;Itoa&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-t"&gt;int&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;workerPort&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352e9696633197-19"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;s&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;rpcUser&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;s&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;rpcPass&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352e9696633197-20"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352e9696633197-21"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352e9696633197-22"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;Resources&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-o"&gt;*&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-i"&gt;Resource&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352e9696633197-23"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;util&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;NewScalarResource&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;"cpus"&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;CPUPerServerTask&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352e9696633197-24"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;util&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;NewScalarResource&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;"mem"&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;MemPerServerTask&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352e9696633197-25"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352e9696633197-26"&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0065 seconds] --&gt;
&lt;p&gt;TaskInfo message指定了一些关于任务的重要元数据信息，它允许Mesos节点运行Docker容器，特别会指定name、task ID、container information以及一些需要给容器传递的参数。这里也会指定任务需要的资源。&lt;/p&gt;
&lt;p&gt;现在TaskInfo已经被构建好，因此任务可以这样运行：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7d352f1194009369" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
driver.LaunchTasks([]*mesos.OfferID{offer.Id}, tasks, &amp;amp;mesos.Filters{RefuseSeconds: proto.Float64(1)})&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352f1194009369-1"&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352f1194009369-1"&gt;&lt;span class="crayon-v"&gt;driver&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;LaunchTasks&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-o"&gt;*&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;OfferID&lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;span class="crayon-v"&gt;offer&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;Id&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;tasks&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;Filters&lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;span class="crayon-v"&gt;RefuseSeconds&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;proto&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;Float64&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-cn"&gt;1&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0012 seconds] --&gt;
&lt;p&gt;在框架中，需要处理的最后一件事情是当开采者server关闭时会发生什么。这里可以利用StatusUpdate 函数来处理。&lt;/p&gt;
&lt;p&gt;在一个任务的生命周期中，针对不同的阶段有不同类型的状态更新。对这个框架来说，想要确保的是如果开采者server由于某种原因失败，系统会Kill所有开采者worker以避免浪费资源。这里是相关的代码：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7d352f7768449544" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
if strings.Contains(status.GetTaskId().GetValue(), "server") &amp;amp;&amp;amp;
    (status.GetState() == mesos.TaskState_TASK_LOST ||
        status.GetState() == mesos.TaskState_TASK_KILLED ||
        status.GetState() == mesos.TaskState_TASK_FINISHED ||
        status.GetState() == mesos.TaskState_TASK_ERROR ||
        status.GetState() == mesos.TaskState_TASK_FAILED) {
    s.minerServerRunning = false
    // kill all tasks
    for _, taskID := range s.currentDaemonTaskIDs {
        _, err := driver.KillTask(taskID)
        if err != nil {
            log.Errorf("Failed to kill task %s", taskID)
        }
    }
    s.currentDaemonTaskIDs = make([]*mesos.TaskID, 0)
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352f7768449544-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352f7768449544-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352f7768449544-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352f7768449544-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352f7768449544-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352f7768449544-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352f7768449544-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352f7768449544-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352f7768449544-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352f7768449544-10"&gt;10&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352f7768449544-11"&gt;11&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352f7768449544-12"&gt;12&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352f7768449544-13"&gt;13&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352f7768449544-14"&gt;14&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7d352f7768449544-15"&gt;15&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7d352f7768449544-16"&gt;16&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352f7768449544-1"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;strings&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;Contains&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;status&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;GetTaskId&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;GetValue&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"server"&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352f7768449544-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;status&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;GetState&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;TaskState_TASK_LOST&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;||&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352f7768449544-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;status&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;GetState&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;TaskState_TASK_KILLED&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;||&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352f7768449544-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;status&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;GetState&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;TaskState_TASK_FINISHED&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;||&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352f7768449544-5"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;status&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;GetState&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;TaskState_TASK_ERROR&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;||&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352f7768449544-6"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;status&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;GetState&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;TaskState_TASK_FAILED&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352f7768449544-7"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;s&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;minerServerRunning&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;false&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352f7768449544-8"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-c"&gt;// kill all tasks&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352f7768449544-9"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;for&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;_&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;taskID&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-i"&gt;range&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;s&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-i"&gt;currentDaemonTaskIDs&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352f7768449544-10"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;_&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;err&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;driver&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;KillTask&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;taskID&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352f7768449544-11"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;err&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;!=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;nil&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352f7768449544-12"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;log&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;Errorf&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;"Failed to kill task %s"&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;taskID&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352f7768449544-13"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352f7768449544-14"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7d352f7768449544-15"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;s&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;currentDaemonTaskIDs&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;make&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-o"&gt;*&lt;/span&gt;&lt;span class="crayon-v"&gt;mesos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;TaskID&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;0&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7d352f7768449544-16"&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0053 seconds] --&gt;
&lt;p&gt;万事大吉！通过努力，这里在Apache Mesos上建立一个正常工作的分布式比特币开采框架，它只用了大约300行GO代码。这证明了使用Mesos 框架的API编写分布式系统是多么快速和简单。&lt;/p&gt;
&lt;p&gt;【via@&lt;span class="ago"&gt;John Walter / &lt;/span&gt;由&lt;a href="http://www.oneapm.com/" target="_blank"&gt;OneAPM&lt;/a&gt;工程师翻译】&lt;/p&gt;
							&lt;/section&gt;
							&lt;section class="single-post-share cf"&gt;
							&lt;div class="single-post-share-social"&gt;
								&lt;ul class="single-post-share-social__action"&gt;
									&lt;li&gt;
										&lt;a class="social-btn share-btn" href="javascript:void(0)"&gt;&lt;i class="icon icon-share"&gt;&lt;/i&gt; &lt;span&gt;&lt;/span&gt; &lt;/a&gt;
										&lt;div class="single-post-social__popup"&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13851.html&amp;title=通过Mesos、Docker和Go，使用300行代码创建一个分布式系统" target="_blank" class="weibo"&gt;
										    &lt;i class="icon-social-weibo"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13851.html&amp;title=通过Mesos、Docker和Go，使用300行代码创建一个分布式系统&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;
										    &lt;i class="icon-social-qq"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=twi&amp;url=https://www.91ri.org/13851.html&amp;title=通过Mesos、Docker和Go，使用300行代码创建一个分布式系统&amp;key=" target="_blank" class="twitter"&gt;
										    &lt;i class="icon-social-twitter"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" target="_blank" class="evernote"&gt;
										    &lt;i class="icon-social-evernote"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=douban&amp;url=https://www.91ri.org/13851.html&amp;title=通过Mesos、Docker和Go，使用300行代码创建一个分布式系统" target="_blank" class="douban"&gt;
										    &lt;i class="icon-social-douban"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=renren&amp;url=https://www.91ri.org/13851.html&amp;title=通过Mesos、Docker和Go，使用300行代码创建一个分布式系统" target="_blank" class="renren"&gt;
										    &lt;i class="icon-social-renren"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										&lt;/div&gt;
									&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;div class="single-post-share-list"&gt;
								&lt;ul class="cf"&gt;
									&lt;li&gt;&lt;a href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13851.html&amp;title=通过Mesos、Docker和Go，使用300行代码创建一个分布式系统" target="_blank" class="weibo"&gt;分享到微博&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="#panel-weixin" class="weixin overlay"&gt;分享到微信&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13851.html&amp;title=通过Mesos、Docker和Go，使用300行代码创建一个分布式系统&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;分享到QQ&lt;/a&gt;&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;/section&gt;
																		&lt;/article&gt;</description><comments>https://www.91ri.org/13851.html#comments</comments><guid>https://www.91ri.org/13851.html2</guid><pubDate>Tue, 04 Aug 2015 17:42:20 GMT</pubDate></item><item><title>DEFCON 23｜被取消的演讲－－“代理火腿”</title><link>https://www.91ri.org/13843.html</link><description>&lt;article class="single-post"&gt;
													&lt;section class="single-post-header"&gt;
								&lt;div class="single-post-header__headline"&gt;&lt;img src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/5555555_.jpg" alt=""&gt;&lt;/div&gt;
								&lt;header class="single-post-header__meta"&gt;
									&lt;div class="single-post__postmeta"&gt; • 2015/07/31                    &lt;span style="float:right;color:#51aded;"&gt;作者: &lt;b&gt;Venvoo&lt;/b&gt;&lt;/span&gt;
                  &lt;/div&gt;
									&lt;h1 class="single-post__title"&gt;DEFCON 23｜被取消的演讲－－“代理火腿”&lt;/h1&gt;
								&lt;/header&gt;
							&lt;/section&gt;
							&lt;section class="article"&gt;
								&lt;p&gt;几天之前，安全公司犀牛（Rhino Security）的本·考迪尔还排在DEFCON大会的演讲日程上，他的演示项目是&lt;strong&gt;“代理火腿”（ProxyHam）&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;代理火腿是为那些追求绝对匿名性的人提供的一种设备。用技术的语言来说，就是解除了于IP地址和地理位置绑定。要知道，网络上的任何活动都可能被政府和情报机构跟踪。然后执法机构可以破门而入，拘留那些“煽动性”的记者和活动家。当然，也可能是网络罪犯。&lt;/p&gt;
&lt;p&gt;但 如果用户使用代理火腿，IP地址和物理地址之间的联系就会被切断。这个设备能将900MHz的无线电信号与数英里外的WiFi网络桥接在一起，任何通过代 理火腿远程连接到公共WiFi的人都可以获得百分百的在线匿名。如果政府要来查水表，只会被导向市图书馆、星巴克，huo任何提供免费WiFi的地方。&lt;/p&gt;
&lt;p&gt;本·考迪尔不会在DEFCON大会上演讲了，虽然DEFCON大会主办方并没有取消这次演讲，他自己也没有。但这次演讲已经死亡，没人知道原因。可能是接收到了国家安全信函被政府禁言，也可能是设备的工作效果未能达到预期。&lt;/p&gt;
&lt;p&gt;然而，演讲被取消并不意味着技术会消失：你依然可以通过从亚马逊、Newegg或者任何一家电商网站上购买电子设备，自己来搭建代理火腿。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;如何搭建ProxyHam&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/640.webp-4211.jpg"&gt;&lt;img class="alignnone size-full wp-image-13844" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/640.webp-4211.jpg" alt="640.webp-421(1)" width="400" height="267" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;文章配图显示，本·考迪尔正在使用一台连接到八木天线（Yagi Antenna）的笔记本电脑。图中的天线指向水平方向，意味着整套系统其实并没有在运行，但这一点无关紧要，我们理解其技术原理就够了。代理火腿中的一 端装着一台RJ45连接器，另一端则是两个RF连接器。总之，这是一个无线电基站，能够将网络信号转换成900MHz的无线电波。要制作代理火腿，你需要 购买两台这样的设备。&lt;/p&gt;
&lt;p&gt;除此之外，还需要将一台树莓派（Raspberry Pi）计算机连接到无线网卡和小型的900MHz天线上。在电商网站上可以买到树莓派、天线和无线网卡，可能还需要几个SD卡。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/640.webp-431.jpg"&gt;&lt;img class="alignnone size-full wp-image-13845" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/640.webp-431.jpg" alt="640.webp-431" width="400" height="300" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;900MHz路由器&lt;/p&gt;
&lt;p&gt;在 实现代理火腿的信号推送功能方面，需要首先连接到目标WiFi网络，然后将WiFi信号和有线信号桥接到一起。本文并不会介绍如何通过树莓派桥接信号，因 为我们有着强大的Google。当然，你也需要配置900MHz基站，但根据Ubiquiti产品页面(https://www.ubnt.com /airmax/rocketm/)上的说明书介绍，此过程难度大约相当于配置无线路由器。接着，需要将无线信号设置为桥接模式。&lt;/p&gt;
&lt;p&gt;然后将大 型的八木天线连接到整套设备的“移动”部分，这里 (http://cse.unl.edu/~akoch/apps/Yagi_Waveguide.php)是连接方法。然后将以太网缆线插入笔记本电 脑。OK，我们刚刚仅仅通过网购复制了一次DEFCON上的演讲。&lt;/p&gt;
&lt;p&gt;以上就是配置代理火腿的过程。不过，这种行为实际上已经违反了美国联邦通 讯委员会（FCC）第97号条例：不能使用SSH或者HTTPS加密无线电波。因为同样的原因，身处美国的代理火腿制造者还可能会被以计算机欺诈与滥用法 案指控。从几公里外连接到图书馆WiFi几乎确定无疑地属于”超出授权范围”的行为。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;接下来让我们研究一下代理火腿演讲被取消的原因&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;认为ProxyHam演讲是因为国家安全信函才被取消的想法简直是天方夜谭。这个方法使用的都是现成的设备，使用方式也没有超过设备的本来设计目的。&lt;/p&gt;
&lt;p&gt;另外，也不要相信FBI和执法机构对本·考迪尔采取了某种措施。几周之后，黑帽大会就将在拉斯维加斯举办。一周后，DEFCON也会启动。这是有些“安全专家”们推销自己的黄金周时段，他们本来就非常愿意在DEFCON大会上作出最吸引眼球的演讲，他们打得是公关牌。&lt;/p&gt;
&lt;p&gt;因此最可能的情况是这样，本·考迪尔只是保证了他成为了今年DEFCON大会上最受热议的研究者。要做到这一点很简单，只需要取消演讲，然后等着看科技媒体们大肆想象国家信息安全信函的发送，代理火腿触怒了政府高层的可能性就好了。&lt;/p&gt;
&lt;p&gt;不过话又说回来，本·考迪尔只是使用了几个路由器和一台树莓派就黑掉了整个媒体圈。&lt;strong&gt;如果这都不值得尊敬，那还有什么值得尊敬呢？&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;91ri.org：好东西要拿出来分享，刚刚去查了一下类似的东西，看到了这个，大家可以看看：&lt;a href="https://github.com/samyk/proxygambit"&gt;proxygambit&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[via@&lt;span class="meta-author"&gt;&lt;a href="http://www.aqniu.com/tools/9036.html"&gt;Venvoo&lt;/a&gt;&lt;/span&gt;]&lt;/p&gt;
							&lt;/section&gt;
							&lt;section class="single-post-share cf"&gt;
							&lt;div class="single-post-share-social"&gt;
								&lt;ul class="single-post-share-social__action"&gt;
									&lt;li&gt;
										&lt;a class="social-btn share-btn" href="javascript:void(0)"&gt;&lt;i class="icon icon-share"&gt;&lt;/i&gt; &lt;span&gt;&lt;/span&gt; &lt;/a&gt;
										&lt;div class="single-post-social__popup"&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13843.html&amp;title=DEFCON 23｜被取消的演讲－－“代理火腿”" target="_blank" class="weibo"&gt;
										    &lt;i class="icon-social-weibo"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13843.html&amp;title=DEFCON 23｜被取消的演讲－－“代理火腿”&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;
										    &lt;i class="icon-social-qq"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=twi&amp;url=https://www.91ri.org/13843.html&amp;title=DEFCON 23｜被取消的演讲－－“代理火腿”&amp;key=" target="_blank" class="twitter"&gt;
										    &lt;i class="icon-social-twitter"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" target="_blank" class="evernote"&gt;
										    &lt;i class="icon-social-evernote"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=douban&amp;url=https://www.91ri.org/13843.html&amp;title=DEFCON 23｜被取消的演讲－－“代理火腿”" target="_blank" class="douban"&gt;
										    &lt;i class="icon-social-douban"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=renren&amp;url=https://www.91ri.org/13843.html&amp;title=DEFCON 23｜被取消的演讲－－“代理火腿”" target="_blank" class="renren"&gt;
										    &lt;i class="icon-social-renren"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										&lt;/div&gt;
									&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;div class="single-post-share-list"&gt;
								&lt;ul class="cf"&gt;
									&lt;li&gt;&lt;a href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13843.html&amp;title=DEFCON 23｜被取消的演讲－－“代理火腿”" target="_blank" class="weibo"&gt;分享到微博&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="#panel-weixin" class="weixin overlay"&gt;分享到微信&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13843.html&amp;title=DEFCON 23｜被取消的演讲－－“代理火腿”&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;分享到QQ&lt;/a&gt;&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;/section&gt;
																		&lt;/article&gt;</description><comments>https://www.91ri.org/13843.html#comments</comments><guid>https://www.91ri.org/13843.html3</guid><pubDate>Tue, 04 Aug 2015 17:42:12 GMT</pubDate></item><item><title>【入门篇】威胁情报共享的相关规范和标准</title><link>https://www.91ri.org/13839.html</link><description>&lt;article class="single-post"&gt;
													&lt;section class="single-post-header"&gt;
								&lt;div class="single-post-header__headline"&gt;&lt;img src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/8888888.jpg" alt=""&gt;&lt;/div&gt;
								&lt;header class="single-post-header__meta"&gt;
									&lt;div class="single-post__postmeta"&gt; • 2015/07/31                    &lt;span style="float:right;color:#51aded;"&gt;作者: &lt;b&gt;securityintelligence.com&lt;/b&gt;&lt;/span&gt;
                  &lt;/div&gt;
									&lt;h1 class="single-post__title"&gt;【入门篇】威胁情报共享的相关规范和标准&lt;/h1&gt;
								&lt;/header&gt;
							&lt;/section&gt;
							&lt;section class="article"&gt;
								&lt;div id="magicdomid2" class="locate lineguid-0gfWmEscaY0CHMAA"&gt;&lt;span class="author-9952 font-size-3"&gt;美国一些媒体已开始将2015年称为&amp;#8221;威胁情报共享元年&amp;#8221;，威胁情报共享的概念也频繁在新闻里刷脸。尽管今年上半年几乎没有什么新规范出来，但是由于部分人在威胁情报共享方面的努力，让更多人开始了解并关注这个领域。&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;/div&gt;
&lt;div id="magicdomid6" class="locate lineguid-rEENO4h6o8SqhGev"&gt;&lt;span class="author-9952 font-size-3"&gt;IBM Security Systems X-Force的高级研究员Doug Franklin把安全从业者之前一直关注的统称为DHS规范，因为这是美国国土安全部（DHS）在引导着这些社区驱动的努力成果。 这些规范包括知名的CVE、CVSS等等。而最近，诸如 &lt;/span&gt;&lt;span class="author-9952 font-size-3 link-block  url-2XhTrYgW4H1mXlLy  url"&gt;CybOX, STIX and TAXII&lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt;也开始进入大家的关注范围。&lt;/span&gt;&lt;/div&gt;
&lt;h2 id="magicdomid8" class="locate lineguid-jhgUs0n1dqkRDRCe"&gt;&lt;span class="author-9952 b font-size-7" style="font-size: 24pt;"&gt;&lt;b&gt;CybOX&lt;/b&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;div id="magicdomid10" class="locate lineguid-FgMjtScp0jiswgmY"&gt;&lt;span class="author-9952 font-size-3 link-block  url-wSI3mzwnQEgACtKI  url"&gt;Cyber Observable eXpression (CybOX)&lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt; 规范定义了一个表征计算机可观察对象与网络动态和实体的方法。可观察对象包括文件，HTTP会话，X509证书，系统配置项等。CybOX 规范提供了一套标准且支持扩展的语法，用来描述所有我们可以从计算系统和操作上观察到的内容。在某些情况下，可观察的对象可以作为判断威胁的指标，比如Windows的RegistryKey。这种可观察对象由于具有某个特定值，往往作为判断威胁存在与否的指标。IP地址也是一种可观察的对象，通常作为判断恶意企图的指标。&lt;/span&gt;&lt;/div&gt;
&lt;h2 id="magicdomid12" class="locate lineguid-hQTCTHiC1NcAREQS"&gt;&lt;span class="author-9952 b font-size-7" style="font-size: 24pt;"&gt;&lt;b&gt;STIX&lt;/b&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;div id="magicdomid14" class="locate lineguid-GoASfDnOG6VvvwIv"&gt;&lt;span class="author-9952 font-size-3 link-block  url-OaH3QWDFXPrnNi0y  url"&gt;Structured Threat Information eXpression (STIX)&lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt; 提供了基于标准XML的语法描述威胁情报的细节和威胁内容的方法。STIX支持使用CybOX格式去描述大部分STIX语法本身就能描述的内容，当然，STIX还支持其他格式。标准化将使安全研究人员交换威胁情报的效率和准确率大大提升，大大减少沟通中的误解，还能自动化处理某些威胁情报。实践证明，STIX规范可以描述威胁情报中多方面的特征，包括威胁因素，威胁活动，安全事故等。它极大程度利用DHS规范来指定各个STIX实体中包含的数据项的格式。&lt;/span&gt;&lt;/div&gt;
&lt;h2 id="magicdomid16" class="locate lineguid-S32zY2DBhwCdhCjg"&gt;&lt;span class="author-9952 b font-size-7" style="font-size: 24pt;"&gt;&lt;b&gt;TAXII&lt;/b&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;div id="magicdomid18" class="locate lineguid-s4epbFkuHDLQuUMt"&gt;&lt;span class="author-9952 font-size-3 link-block  url-QhN7761L0MZQ9azN  url"&gt;Trusted Automated eXchange of Indicator Information (TAXII)&lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt; 提供安全的传输和威胁情报信息的交换。很多文章让人误以为TAXII只能传输TAXII格式的数据，但实际上它支持多种格式传输数据。当前的通常做法是用TAXII来传输数据，用STIX来作情报描述，用CybOX的词汇。&lt;/span&gt;&lt;/div&gt;
&lt;div id="magicdomid19"&gt;&lt;/div&gt;
&lt;div id="magicdomid20" class="locate lineguid-lu0tfe4UyJzVdgOn"&gt;&lt;span class="author-9952 font-size-3"&gt;TAXII在标准化服务和信息交换的条款中定义了交换协议，可以支持多种共享模型，包括hub-and-spoke，peer-to-peer，subscription。&lt;/span&gt;&lt;/div&gt;
&lt;div id="magicdomid21"&gt;&lt;/div&gt;
&lt;div id="magicdomid22" class="locate lineguid-G6rWAkHCGeyLWgM6"&gt;&lt;span class="author-9952 font-size-3"&gt;TAXII在提供了安全传输的同时，还无需考虑拓朴结构、信任问题、授权管理等策略，留给更高级别的协议和约定去考虑。&lt;/span&gt;&lt;/div&gt;
&lt;h2 id="magicdomid24" class="locate lineguid-u1ckVsh1ohKQvDVD"&gt;&lt;span style="font-size: 24pt;"&gt;&lt;strong&gt;&lt;span class="author-9952 b font-size-7"&gt;其它规范&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;div id="magicdomid26" class="locate lineguid-TNHF1oOauAzZMtBR"&gt;&lt;span class="author-9952 font-size-3"&gt;不难看出，目前大量文章内容聚焦在STIX，TAXII，CybOX。有些文章甚至都没提到扮演着同样重要角色的CVE和CVSS。另外，还有很多DHS的补充性规范也经常被所谓的“专家”所忽视。&lt;/span&gt;&lt;/div&gt;
&lt;div id="magicdomid27"&gt;&lt;/div&gt;
&lt;div id="magicdomid28" class="locate lineguid-H2IphsbIhKXDmgUu"&gt;&lt;span class="author-9952 font-size-3"&gt;Common Platform Enumeration（CPE）和Common Configuration Enumeration（CCE）规范了平台和配置的描述标准，就像CVE规范了漏洞的描述标准一样。Common Configuration Scoring System（CCSS）则提供了一套基于CVSS的指标。&lt;/span&gt;&lt;/div&gt;
&lt;h3 id="magicdomid30" class="locate lineguid-GYR7TJ1gQzKsxQFT"&gt;&lt;span class="author-9952 font-size-3" style="font-size: 14pt;"&gt;其他规范包括：&lt;/span&gt;&lt;/h3&gt;
&lt;div id="magicdomid32" class="font-size-3 list-div locate lineguid-xYIDuc7e0eIXgW9L"&gt;
&lt;ul class="list-bullet1"&gt;
&lt;li&gt;&lt;span class="author-9952 font-size-3 link-block  url-4ME3Fz62kNN18dia  url"&gt;Common Weakness Enumeration (CWE)&lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt; 定义了通用软件设计与实现的弱点，安全漏洞往往是由这些弱点而来的。&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="magicdomid33" class="font-size-3 list-div locate lineguid-VDxog6SE8PIDyZaR"&gt;
&lt;ul class="list-bullet1"&gt;
&lt;li&gt;&lt;span class="author-9952 font-size-3 link-block  url-itIUyYDmsQT6ZAzE  url"&gt;Common Attack Pattern Enumeration and Classification (CAPEC)&lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt; 提供了一个与跨事件攻击相似的功能。&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="magicdomid34" class="font-size-3 list-div locate lineguid-KHnA1knsdwQULZFg"&gt;
&lt;ul class="list-bullet1"&gt;
&lt;li&gt;&lt;span class="author-9952 font-size-3 link-block  url-c0uk0iuvIXYklYEA  url"&gt;Malware Attribute Enumeration and Characterization (MAEC)&lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt; 可用于描述恶意软件的信息，类似于CVE和漏洞之间的关系。&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="magicdomid35" class="font-size-3 list-div locate lineguid-5ujHIZGAv6z9XUSU"&gt;
&lt;ul class="list-bullet1"&gt;
&lt;li&gt;&lt;span class="author-9952 font-size-3 link-block  url-2MWsx0dkBSCkjItV  url"&gt;Open Vulnerability Assessment Language (OVAL)&lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt; 为评估漏洞范围和影响提供了一个框架。&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="magicdomid36"&gt;&lt;/div&gt;
&lt;div id="magicdomid37" class="locate lineguid-zsd0ouUX3RCuAGKW"&gt;&lt;span class="author-9952 font-size-3"&gt;当然还有其他的规范和标准，就不一一列举了。所有这些规范的目标都是覆盖更全面的安全通信领域，并使之成为一种标准化的东西。&lt;/span&gt;&lt;/div&gt;
&lt;h2 id="magicdomid55" class="locate lineguid-qKE65QFnnit3sG1C"&gt;&lt;span style="font-size: 24pt;"&gt;&lt;strong&gt;&lt;span class="author-9952 b font-size-7"&gt;美国政府和威胁情报&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;div id="magicdomid57" class="locate lineguid-WqF8O9Xq7QOWuobz"&gt;&lt;span class="author-9952 font-size-3"&gt;美国的标准化工作和努力紧密围绕Defense Information Systems Agency（国防信息系统局，简称DISA）和美国National Institute of Standards and Technology（国际标准与技术研究院，简称NIST）。 NIST主要制定系统安全的规范，特别是网络安全框架规范，并主管计算机安全资源中心。 DISA则负责制定&lt;/span&gt;&lt;span class="author-9952 font-size-3 link-block  url-0jESOqooUVR47z58  url"&gt;Secure Technical Implementation Guides &lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt;（安全技术实施指南，简称STIGs）来规范信息系统的安全安装与维护。这些高级术语可不止是表面功夫，它们指代了包含技术指导在内的多种标准，允许安装和维修人员锁定系统，否则可能容易受到攻击。&lt;/span&gt;&lt;/div&gt;
&lt;div id="magicdomid58"&gt;&lt;/div&gt;
&lt;div id="magicdomid59" class="locate lineguid-FmrMdhXkw5gzLAL5"&gt;&lt;span class="author-9952 font-size-3"&gt;最近，这些组织已经完全支持NIST 的&lt;/span&gt;&lt;span class="author-9952 font-size-3 link-block  url-ARA4zeiJYBPHLZyX  url"&gt;Security Content Automation Protocol &lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt;（安全内容自动化协议，简称SCAP）。&lt;/span&gt;&lt;span class="author-9952 font-size-3 link-block  url-HZlp4DznOzJ7h39K  url"&gt;National Vulnerability Database &lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt;（国家漏洞数据库，简称NVD） 提供官方 SCAP 映射层。这个开放标准的套件目的是：让安全配置的管理和测量能像威胁情报共享一样自动化。&lt;/span&gt;&lt;/div&gt;
&lt;div id="magicdomid60"&gt;&lt;/div&gt;
&lt;div id="magicdomid61" class="locate lineguid-ZI8THv1iR4py2gvD"&gt;&lt;span class="author-9952 font-size-3"&gt;虽然不是经常被提起，但STIX协议可以和其他方式一样，轻松地封装SCAP的payloads。事实上，来自DHS系列中的很多标准其实都已经被SCAP覆盖到了。SCAP实际包含以下的标准：&lt;/span&gt;&lt;/div&gt;
&lt;div id="magicdomid63" class="font-size-3 list-div locate lineguid-LrdKLcIzCMuEHIQp"&gt;
&lt;ul class="list-bullet1"&gt;
&lt;li&gt;&lt;span class="author-9952 font-size-3"&gt;CVE&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="magicdomid64" class="font-size-3 list-div locate lineguid-piMDACu2RC5VzmnW"&gt;
&lt;ul class="list-bullet1"&gt;
&lt;li&gt;&lt;span class="author-9952 font-size-3"&gt;CCE（通用配置列表标准）&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="magicdomid65" class="font-size-3 list-div locate lineguid-nb8L6IsZR7qYNa5k"&gt;
&lt;ul class="list-bullet1"&gt;
&lt;li&gt;&lt;span class="author-9952 font-size-3"&gt;CPE&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="magicdomid66" class="font-size-3 list-div locate lineguid-y7kfh3sOKymCGB1v"&gt;
&lt;ul class="list-bullet1"&gt;
&lt;li&gt;&lt;span class="author-9952 font-size-3"&gt;CVSS&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="magicdomid67" class="font-size-3 list-div locate lineguid-hDbOI9eQV8tdWlXF"&gt;
&lt;ul class="list-bullet1"&gt;
&lt;li&gt;&lt;span class="author-9952 font-size-3"&gt;CCSS&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="magicdomid68" class="font-size-3 list-div locate lineguid-nJ57UdJ6zkMEd09y"&gt;
&lt;ul class="list-bullet1"&gt;
&lt;li&gt;&lt;span class="author-9952 font-size-3"&gt;OVAL&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="magicdomid69" class="font-size-3 list-div locate lineguid-9RDhvFWOKg5BGAa7"&gt;
&lt;ul class="list-bullet1"&gt;
&lt;li&gt;&lt;span class="author-9952 font-size-3 link-block  url-41SNYKo4xbeEzMBM  url"&gt;Extensible Configuration Checklist Description Format &lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt; （可扩展性配置清单描述格式标准，简称XCCDF）&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="magicdomid70" class="font-size-3 list-div locate lineguid-fqADh8sSL4VGsUve"&gt;
&lt;ul class="list-bullet1"&gt;
&lt;li&gt;&lt;span class="author-9952 font-size-3 link-block  url-b1jJa7YH3XuiaaC9  url"&gt;Open Checklist Interactive Language &lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt;​（开放检查表交互式语言，简称OCIL）&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="magicdomid72" class="locate lineguid-RyFUoHqJQYdMIyPf"&gt;&lt;span class="author-9952 font-size-3"&gt;上述的除了XCCDF，OCIL和CCSS来自DHS系列标准，剩下的都是NIST定义的。XCCDF给系统配置规则的结构化集合提供了一个标准的描述。该标准支持自动化信息交换，合规测试与评分，同时大家仍然可以根据具体需求来作定制化开发。与DHS的安全威胁情报系列标准相比，XCCDF与DHS系列中的CCE仅存在少量差异。幸运的是，这是SCAP覆盖的内容和DHS系列规范中唯一的明显差异。&lt;/span&gt;&lt;/div&gt;
&lt;div id="magicdomid73"&gt;&lt;/div&gt;
&lt;div id="magicdomid74" class="locate lineguid-rVE20CRc8AUW0zTZ"&gt;&lt;span class="author-9952 font-size-3"&gt;OCIL提供了一个标准化的框架，以描述清单问题和解答问题的步骤，而CCSS有一套指标来衡量软件配置问题的安全性。它从公认的CVSS规范衍生出来，并提供类似的功能。&lt;/span&gt;&lt;/div&gt;
&lt;h2 id="magicdomid76" class="locate lineguid-slAAPgU41MGo2nOf"&gt;&lt;span class="author-9952 b font-size-7" style="font-size: 24pt;"&gt;&lt;b&gt;MILE&lt;/b&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;div id="magicdomid78" class="locate lineguid-3QqpgisJSgYcq6qP"&gt;&lt;span class="author-9952 font-size-3 link-block  url-252Pj4nE30RsFUp1  url"&gt;Managed Incident Lightweight Exchange &lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt;（轻量级交换托管事件，简称MILE） 封装的标准涵盖了与DHS系列规范大致相同的的内容，特别是CybOX，STIX和TAXII。MILE标准为指标和事件定义了一个数据格式。该封装还包含了 &lt;/span&gt;&lt;span class="author-9952 font-size-3 link-block  url-TDQqLXM4JUjY4onF  url"&gt;Incident Object Description and Exchange Format &lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt;（事件对象描述和交换格式,简称IODEF）。IODEF合并了许多DHS系列规范的数据格式，并提供了一种交换那些可操作的统计性事件信息的格式，且支持自动处理。它还包含了IODEF for &lt;/span&gt;&lt;span class="author-9952 font-size-3 link-block  url-Y3hDjILgZyYGs6Ar  url"&gt;Structured Cybersecurity Information&lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt;（结构化网络安全信息，简称IODEF-SCI）扩展和&lt;/span&gt;&lt;span class="author-9952 font-size-3 link-block  url-XtPkGnhxfP7MQRnD  url"&gt;Realtime Internetwork Defense &lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt;（实时网络防御，简称RID），支持自动共享情报和事件。&lt;/span&gt;&lt;/div&gt;
&lt;h2 id="magicdomid80" class="locate lineguid-p4n23GbZM4TObMh6"&gt;&lt;span class="author-9952 b font-size-7" style="font-size: 24pt;"&gt;&lt;b&gt;更多&lt;/b&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;div id="magicdomid82" class="locate lineguid-TeJO5uqjo25Fh41j"&gt;&lt;span class="author-9952 font-size-3"&gt;在美国还有许多其他的努力，无论是在现有的标准和规范的覆盖面下填补感知的差距或纠正他们的缺陷。Mandiant开发的&lt;/span&gt;&lt;span class="author-9952 font-size-3 link-block  url-sK51c2hMyA1FYSWE  url"&gt;Open Indicators of Compromise&lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt;（开放妥协的指标，简称OpenIOC）规范提供了一个对于妥协的指标技术细节的词汇表。它与CybOX有一些重叠，但也扩展了可用的词汇。&lt;/span&gt;&lt;/div&gt;
&lt;div id="magicdomid83"&gt;&lt;/div&gt;
&lt;div id="magicdomid84" class="locate lineguid-OSZKCKrwsX7tbEG2"&gt;&lt;span class="author-9952 font-size-3"&gt;Verizon公司创造的&lt;/span&gt;&lt;span class="author-9952 font-size-3 link-block  url-qokCGoFEdbQuUbOF  url"&gt;Vocabulary for Event Recording and Incident Sharing&lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt;（事件记录和事故共享词汇，简称VERIS） 定义了一个用于描述安全事件的词汇表。就OpenIOC而言，它跟CybOX也有一些重叠，但它也扩展了可用的词汇。&lt;/span&gt;&lt;/div&gt;
&lt;div id="magicdomid85"&gt;&lt;/div&gt;
&lt;div id="magicdomid86" class="locate lineguid-xOlKQzVNdx6uNnN1"&gt;&lt;span class="author-9952 font-size-3"&gt;最后，US-CERT开发了&lt;/span&gt;&lt;span class="author-9952 font-size-3 link-block  url-oKr8Dxp2kdEOBtMT  url"&gt;Traffic Light Protocol &lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt;（红绿灯协议，简称TLP）。这个规范提供了一组名称，而不是一个数据格式，但是可以简单的被包含在任何相关的标准或规范之中。TLP将可能被共享的情报分类，以控制共享范围。它定义了四个层次的共享（对应四种颜色）：&lt;/span&gt;&lt;/div&gt;
&lt;div id="magicdomid87"&gt;&lt;/div&gt;
&lt;div id="magicdomid88" class="font-size-3 list-div locate lineguid-RKkY73NpfoLndvwF"&gt;
&lt;ul class="list-bullet1"&gt;
&lt;li&gt;&lt;span class="author-9952 font-size-3"&gt;红色：该项目不能共享。&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="magicdomid89" class="font-size-3 list-div locate lineguid-zH65EiXJMJG57IgP"&gt;
&lt;ul class="list-bullet1"&gt;
&lt;li&gt;&lt;span class="author-9952 font-size-3"&gt;黄色：该项目只能在产生的组织内共享。&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="magicdomid90" class="font-size-3 list-div locate lineguid-94ZiVrrsNL1I0RqG"&gt;
&lt;ul class="list-bullet1"&gt;
&lt;li&gt;&lt;span class="author-9952 font-size-3"&gt;绿色：该项目可以在组织外部共享，但有范围限制。&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="magicdomid91" class="font-size-3 list-div locate lineguid-yj8sYQ9H9h8NnNqL"&gt;
&lt;ul class="list-bullet1"&gt;
&lt;li&gt;&lt;span class="author-9952 font-size-3"&gt;白色：该项可被广泛共享。&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="magicdomid93" class="locate lineguid-6I3xfxHy8ec7gXqX"&gt;&lt;span style="font-size: 24pt;"&gt;&lt;strong&gt;&lt;span class="author-9952 b font-size-7"&gt;总结&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;div id="magicdomid95" class="locate lineguid-nWmZfHLUTBNZQJgL"&gt;&lt;span class="author-9952 font-size-3"&gt;Doug认为，无论是&lt;/span&gt;&lt;span class="author-9952 font-size-3 link-block  url-bxI5uSOoow3PJNMU  url"&gt;威胁情报共享&lt;/span&gt;&lt;span class="author-9952 font-size-3"&gt;的概念还是实践，还都不具有革命性的意义。现在可以看到越来越多的信息泄露的新闻，更多的还藏在水面下未被报道。攻击者最近频繁得手，而信息安全从业者作为防御方需要考虑如何反击。善用威胁情报共享，便可以帮助我们扭转局面。在需求如此明显的情况下，围绕着威胁情报共享的活动会越来越丰富。老美当前的做法是，推动威胁情报数据的获取、封装和消费的项目，并将这些项目成果融合成标准和规范，来推动威胁情报共享事业的发展。&lt;/span&gt;&lt;/div&gt;
&lt;div id="magicdomid96"&gt;&lt;/div&gt;
&lt;div id="magicdomid97" class="locate lineguid-NeRxMcvUhxjNYren"&gt;&lt;/div&gt;
&lt;div class="locate lineguid-NeRxMcvUhxjNYren"&gt; [via@&lt;a href="https://sobug.com/article/detail/29"&gt;翻译SOBUG&lt;/a&gt; / 原文&lt;a href="http://securityintelligence.com/navigating-a-sea-of-threat-intelligence-specifications/#.VZCsXPnvPIX"&gt;securityintelligence.com&lt;/a&gt; ]&lt;/div&gt;
&lt;div id="magicdomid98"&gt;&lt;/div&gt;
							&lt;/section&gt;
							&lt;section class="single-post-share cf"&gt;
							&lt;div class="single-post-share-social"&gt;
								&lt;ul class="single-post-share-social__action"&gt;
									&lt;li&gt;
										&lt;a class="social-btn share-btn" href="javascript:void(0)"&gt;&lt;i class="icon icon-share"&gt;&lt;/i&gt; &lt;span&gt;&lt;/span&gt; &lt;/a&gt;
										&lt;div class="single-post-social__popup"&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13839.html&amp;title=【入门篇】威胁情报共享的相关规范和标准" target="_blank" class="weibo"&gt;
										    &lt;i class="icon-social-weibo"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13839.html&amp;title=【入门篇】威胁情报共享的相关规范和标准&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;
										    &lt;i class="icon-social-qq"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=twi&amp;url=https://www.91ri.org/13839.html&amp;title=【入门篇】威胁情报共享的相关规范和标准&amp;key=" target="_blank" class="twitter"&gt;
										    &lt;i class="icon-social-twitter"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" target="_blank" class="evernote"&gt;
										    &lt;i class="icon-social-evernote"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=douban&amp;url=https://www.91ri.org/13839.html&amp;title=【入门篇】威胁情报共享的相关规范和标准" target="_blank" class="douban"&gt;
										    &lt;i class="icon-social-douban"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=renren&amp;url=https://www.91ri.org/13839.html&amp;title=【入门篇】威胁情报共享的相关规范和标准" target="_blank" class="renren"&gt;
										    &lt;i class="icon-social-renren"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										&lt;/div&gt;
									&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;div class="single-post-share-list"&gt;
								&lt;ul class="cf"&gt;
									&lt;li&gt;&lt;a href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13839.html&amp;title=【入门篇】威胁情报共享的相关规范和标准" target="_blank" class="weibo"&gt;分享到微博&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="#panel-weixin" class="weixin overlay"&gt;分享到微信&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13839.html&amp;title=【入门篇】威胁情报共享的相关规范和标准&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;分享到QQ&lt;/a&gt;&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;/section&gt;
																		&lt;/article&gt;</description><comments>https://www.91ri.org/13839.html#comments</comments><guid>https://www.91ri.org/13839.html4</guid><pubDate>Tue, 04 Aug 2015 17:42:03 GMT</pubDate></item><item><title>如何追踪对方手机GSM网络是否在线</title><link>https://www.91ri.org/13841.html</link><description>&lt;article class="single-post"&gt;
													&lt;section class="single-post-header"&gt;
								&lt;div class="single-post-header__headline"&gt;&lt;img src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/88855_5_3.jpg" alt=""&gt;&lt;/div&gt;
								&lt;header class="single-post-header__meta"&gt;
									&lt;div class="single-post__postmeta"&gt; • 2015/07/31                    &lt;span style="float:right;color:#51aded;"&gt;作者: &lt;b&gt;living&lt;/b&gt;&lt;/span&gt;
                  &lt;/div&gt;
									&lt;h1 class="single-post__title"&gt;如何追踪对方手机GSM网络是否在线&lt;/h1&gt;
								&lt;/header&gt;
							&lt;/section&gt;
							&lt;section class="article"&gt;
								&lt;p&gt;&lt;strong&gt;在过去的几个月中，我一直研究Android的底层的GSM API。数年前API函数SendRawPdu还能使用，它允许开发者在将其发送给GSM基带之前，自己在较低的层次对SMS消息进行编码，相当多的能发送各种奇怪的sms(flash sms,slient sms,等等)的应用得以诞生。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;不幸的是，google决定去掉该api，尚不清楚google是出于安全考虑还是出于重构其IPC IBinder 机制才这样做的。但实际就是，除非你使用一些老的手机或者固件(在大多数设备上，为了给GSM modem发送AT命令，他们都移除了ttyUSB串行接口), 否则现在就不能使用该Api函数了。&lt;/p&gt;
&lt;p&gt;直到数月之前，我发现了API函数 SmsManager.sendDataMessage，显然该函数并没有在其他任何地方使用过(如果你查找 它，只能找到少数的几个例子，但没有涉及怎么用自己编码的PDU数据使用该函数)。使用该API函数，我们能够自己编码我们的SMS，而且我们能够指定其 中的“port”参数(该参数能标识我们发送的sms的类型)。本文讨论的port是2948，也就是发送WAP PUSH 通知的端口。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;WAP PUSH消息是一种以前就有的机制，它主要用于强制远程设备访问SMS负载中编码了的URL，这个特殊的请求被称为“Service Load”（SL）请求，该请求中一个类似如下的XML负载被编码在二进制form中，和PDU一起发送给设备。&lt;/strong&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05e0aca3b7875157671" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-mixed-highlight" title="含多种语言"&gt;&lt;/span&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
&amp;lt;?xml version="1.0"?&amp;gt;  
&amp;lt;!DOCTYPE sl PUBLIC "-//WAPFORUM//DTD SL 1.0//EN"  
                    "www.wapforum.org/DTD/sl.dtd"&amp;gt;
&amp;lt;sl href="http://some-evil-site.com/evil-content.html"/&amp;gt;&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05e0aca3b7875157671-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05e0aca3b7875157671-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05e0aca3b7875157671-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05e0aca3b7875157671-4"&gt;4&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05e0aca3b7875157671-1"&gt;&lt;span class="crayon-ta"&gt;&amp;lt;?&lt;/span&gt;&lt;span class="crayon-e"&gt;xml &lt;/span&gt;&lt;span class="crayon-i"&gt;version&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-s"&gt;"1.0"&lt;/span&gt;&lt;span class="crayon-ta"&gt;?&amp;gt;&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05e0aca3b7875157671-2"&gt;&lt;span class="crayon-o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="crayon-o"&gt;!&lt;/span&gt;&lt;span class="crayon-e"&gt;DOCTYPE &lt;/span&gt;&lt;span class="crayon-e"&gt;sl &lt;/span&gt;&lt;span class="crayon-m"&gt;PUBLIC&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"-//WAPFORUM//DTD SL 1.0//EN"&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05e0aca3b7875157671-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-s"&gt;"www.wapforum.org/DTD/sl.dtd"&lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05e0aca3b7875157671-4"&gt;&lt;span class="crayon-o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="crayon-e"&gt;sl &lt;/span&gt;&lt;span class="crayon-v"&gt;href&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-s"&gt;"http://some-evil-site.com/evil-content.html"&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0075 seconds] --&gt;
&lt;p&gt;如今，该协议由于显然的原因没有被处理(之所以说是不处理，而不是不支持，是因为GSM基带任然能够收到它，只是上层软件–os及其组件，不对其进行处理)。例如Android 5.0中，当设备收到这样的负载时，能看到下面的日志(logcat –b radio)&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05e0aca3c6645879794" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
D/WAP PUSH( 1287): Rx: 0a0603...  
D/RILC    (  185): SOCKET RIL_SOCKET_1 REQUEST: SMS_ACKNOWLEDGE length:20  
D/RILC    (  185): RequestComplete, RIL_SOCKET_1  
E/RILC    (  185): Send Response to RIL_SOCKET_1  
D/RILJ    ( 1287): [9277]&amp;lt; SMS_ACKNOWLEDGE  [SUB0]  
V/WAP PUSH( 1287): appid found: 2:application/vnd.wap.slc  
W/WAP PUSH( 1287): wap push manager not found!  
V/WAP PUSH( 1287): fall back to existing handler  
 V/WAP PUSH( 1287): Delivering MMS to: com.google.android.talk com.google.android.apps.hangouts.sms.MmsWapPushDeliverReceiver&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05e0aca3c6645879794-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05e0aca3c6645879794-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05e0aca3c6645879794-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05e0aca3c6645879794-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05e0aca3c6645879794-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05e0aca3c6645879794-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05e0aca3c6645879794-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05e0aca3c6645879794-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05e0aca3c6645879794-9"&gt;9&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05e0aca3c6645879794-1"&gt;&lt;span class="crayon-v"&gt;D&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-e"&gt;WAP &lt;/span&gt;&lt;span class="crayon-e"&gt;PUSH&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;1287&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;Rx&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;0a0603...&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05e0aca3c6645879794-2"&gt;&lt;span class="crayon-v"&gt;D&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-e"&gt;RILC&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-cn"&gt;185&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;SOCKET &lt;/span&gt;&lt;span class="crayon-e"&gt;RIL_SOCKET_1 &lt;/span&gt;&lt;span class="crayon-v"&gt;REQUEST&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;SMS_ACKNOWLEDGE &lt;/span&gt;&lt;span class="crayon-v"&gt;length&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-cn"&gt;20&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05e0aca3c6645879794-3"&gt;&lt;span class="crayon-v"&gt;D&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-e"&gt;RILC&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-cn"&gt;185&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;RequestComplete&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;RIL_SOCKET&lt;/span&gt;&lt;span class="crayon-sy"&gt;_&lt;/span&gt;1&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05e0aca3c6645879794-4"&gt;&lt;span class="crayon-v"&gt;E&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-e"&gt;RILC&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-cn"&gt;185&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;Send &lt;/span&gt;&lt;span class="crayon-e"&gt;Response &lt;/span&gt;&lt;span class="crayon-st"&gt;to&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;RIL_SOCKET&lt;/span&gt;&lt;span class="crayon-sy"&gt;_&lt;/span&gt;1&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05e0aca3c6645879794-5"&gt;&lt;span class="crayon-v"&gt;D&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-e"&gt;RILJ&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;1287&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;9277&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;SMS&lt;/span&gt;&lt;span class="crayon-sy"&gt;_&lt;/span&gt;ACKNOWLEDGE&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-v"&gt;SUB0&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05e0aca3c6645879794-6"&gt;&lt;span class="crayon-v"&gt;V&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-e"&gt;WAP &lt;/span&gt;&lt;span class="crayon-e"&gt;PUSH&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;1287&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;appid &lt;/span&gt;&lt;span class="crayon-v"&gt;found&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;2&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-v"&gt;application&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;vnd&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;wap&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-i"&gt;slc&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05e0aca3c6645879794-7"&gt;&lt;span class="crayon-v"&gt;W&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-e"&gt;WAP &lt;/span&gt;&lt;span class="crayon-e"&gt;PUSH&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;1287&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;wap &lt;/span&gt;&lt;span class="crayon-e"&gt;push &lt;/span&gt;&lt;span class="crayon-e"&gt;manager &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;found&lt;/span&gt;&lt;span class="crayon-o"&gt;!&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05e0aca3c6645879794-8"&gt;&lt;span class="crayon-v"&gt;V&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-e"&gt;WAP &lt;/span&gt;&lt;span class="crayon-e"&gt;PUSH&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;1287&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;fall &lt;/span&gt;&lt;span class="crayon-e"&gt;back &lt;/span&gt;&lt;span class="crayon-st"&gt;to&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;existing &lt;/span&gt;&lt;span class="crayon-i"&gt;handler&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05e0aca3c6645879794-9"&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;V&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-e"&gt;WAP &lt;/span&gt;&lt;span class="crayon-e"&gt;PUSH&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;1287&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;Delivering &lt;/span&gt;&lt;span class="crayon-e"&gt;MMS &lt;/span&gt;&lt;span class="crayon-st"&gt;to&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;com&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;google&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;android&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;talk &lt;/span&gt;&lt;span class="crayon-v"&gt;com&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;google&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;android&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;apps&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;hangouts&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;sms&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;MmsWapPushDeliverReceiver&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0058 seconds] --&gt;
&lt;p&gt;因此事件传递给了Google Hangouts应用(作者手机上默认处理SMS/MMS的处理者)，如果不是简单的MMS而是其他的（本例中为WAP PUSH）,则它会忽略这种类型的负载。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05e0aca3ce761449003" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
public class MmsWapPushDeliverReceiver extends BroadcastReceiver  
{
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    if (("android.provider.Telephony.WAP_PUSH_DELIVER".equals(paramIntent.getAction())) &amp;amp;&amp;amp; ("application/vnd.wap.mms-message".equals(paramIntent.getType())))
      RealTimeChatService.a(paramIntent.getByteArrayExtra("data"));
  }
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05e0aca3ce761449003-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05e0aca3ce761449003-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05e0aca3ce761449003-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05e0aca3ce761449003-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05e0aca3ce761449003-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05e0aca3ce761449003-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05e0aca3ce761449003-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05e0aca3ce761449003-8"&gt;8&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05e0aca3ce761449003-1"&gt;&lt;span class="crayon-m"&gt;public&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;class&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;MmsWapPushDeliverReceiver&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-r"&gt;extends&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;BroadcastReceiver&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05e0aca3ce761449003-2"&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05e0aca3ce761449003-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-m"&gt;public&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;void&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;onReceive&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e"&gt;Context &lt;/span&gt;&lt;span class="crayon-v"&gt;paramContext&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;Intent &lt;/span&gt;&lt;span class="crayon-v"&gt;paramIntent&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05e0aca3ce761449003-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05e0aca3ce761449003-5"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;"android.provider.Telephony.WAP_PUSH_DELIVER"&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;equals&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;paramIntent&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getAction&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;"application/vnd.wap.mms-message"&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;equals&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;paramIntent&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getType&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05e0aca3ce761449003-6"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;RealTimeChatService&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;a&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;paramIntent&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getByteArrayExtra&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;"data"&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05e0aca3ce761449003-7"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05e0aca3ce761449003-8"&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0024 seconds] --&gt;
&lt;p&gt;这也就意味着，虽然设备收到了数据，对用户却没有任何提示，数据也不会被系统保存，而是直接丢弃掉。&lt;/p&gt;
&lt;p&gt;有个细节对我们来说是很方便的—在传送了WAP PUSH消息后，接收方的BTS会回复我们一个传送端口。仅仅当接收方设备是开着的，并且能接收到该消息时（有足够的GSM网络型号覆盖），我们才会收到 该回复。事实上，API函数sendDataMessage 将其最后一个参数作为传送的PendingIntent.换言之，一旦delivery report返回，我们的应用就会收到通知。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;我们可以利用这个做到以下几点:&lt;/strong&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05e0aca3d5741112108" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
①构造一个WAP PUSH消息，并自己编码；
②将其传递给sendDataMessage API，并注册一个delivery intent;
③WAP PUSH会发送到目标手机上，如果目标手机是开着的，我们就会收到通知。如果目标手机是关机的，只要它一开，我们也会收到通知;
④目标对象不会有任何察觉&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05e0aca3d5741112108-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05e0aca3d5741112108-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05e0aca3d5741112108-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05e0aca3d5741112108-4"&gt;4&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05e0aca3d5741112108-1"&gt;①构造一个&lt;span class="crayon-e"&gt;WAP &lt;/span&gt;&lt;span class="crayon-i"&gt;PUSH&lt;/span&gt;消息，并自己编码；&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05e0aca3d5741112108-2"&gt;②将其传递给&lt;span class="crayon-e"&gt;sendDataMessage &lt;/span&gt;&lt;span class="crayon-i"&gt;API&lt;/span&gt;，并注册一个&lt;span class="crayon-e"&gt;delivery &lt;/span&gt;&lt;span class="crayon-v"&gt;intent&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05e0aca3d5741112108-3"&gt;③&lt;span class="crayon-e"&gt;WAP &lt;/span&gt;&lt;span class="crayon-i"&gt;PUSH&lt;/span&gt;会发送到目标手机上，如果目标手机是开着的，我们就会收到通知。如果目标手机是关机的，只要它一开，我们也会收到通知&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05e0aca3d5741112108-4"&gt;④目标对象不会有任何察觉&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0015 seconds] --&gt;
&lt;p&gt;因此，我们可以追踪目标对象的GSM网络活动，知道其设备什么时候是开着的，而又不让其察觉。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;一个简单的POC程序&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/evilsocket/pdusms"&gt;https://github.com/evilsocket/pdusms&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[via@&lt;span class="name"&gt;&lt;a href="http://www.freebuf.com/articles/wireless/73545.html"&gt;living&lt;/a&gt;]&lt;/span&gt;&lt;/p&gt;
							&lt;/section&gt;
							&lt;section class="single-post-share cf"&gt;
							&lt;div class="single-post-share-social"&gt;
								&lt;ul class="single-post-share-social__action"&gt;
									&lt;li&gt;
										&lt;a class="social-btn share-btn" href="javascript:void(0)"&gt;&lt;i class="icon icon-share"&gt;&lt;/i&gt; &lt;span&gt;&lt;/span&gt; &lt;/a&gt;
										&lt;div class="single-post-social__popup"&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13841.html&amp;title=如何追踪对方手机GSM网络是否在线" target="_blank" class="weibo"&gt;
										    &lt;i class="icon-social-weibo"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13841.html&amp;title=如何追踪对方手机GSM网络是否在线&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;
										    &lt;i class="icon-social-qq"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=twi&amp;url=https://www.91ri.org/13841.html&amp;title=如何追踪对方手机GSM网络是否在线&amp;key=" target="_blank" class="twitter"&gt;
										    &lt;i class="icon-social-twitter"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" target="_blank" class="evernote"&gt;
										    &lt;i class="icon-social-evernote"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=douban&amp;url=https://www.91ri.org/13841.html&amp;title=如何追踪对方手机GSM网络是否在线" target="_blank" class="douban"&gt;
										    &lt;i class="icon-social-douban"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=renren&amp;url=https://www.91ri.org/13841.html&amp;title=如何追踪对方手机GSM网络是否在线" target="_blank" class="renren"&gt;
										    &lt;i class="icon-social-renren"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										&lt;/div&gt;
									&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;div class="single-post-share-list"&gt;
								&lt;ul class="cf"&gt;
									&lt;li&gt;&lt;a href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13841.html&amp;title=如何追踪对方手机GSM网络是否在线" target="_blank" class="weibo"&gt;分享到微博&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="#panel-weixin" class="weixin overlay"&gt;分享到微信&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13841.html&amp;title=如何追踪对方手机GSM网络是否在线&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;分享到QQ&lt;/a&gt;&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;/section&gt;
																		&lt;/article&gt;</description><comments>https://www.91ri.org/13841.html#comments</comments><guid>https://www.91ri.org/13841.html5</guid><pubDate>Tue, 04 Aug 2015 17:41:57 GMT</pubDate></item><item><title>思路分享：安全狗+360全套添加账户时一些小技巧</title><link>https://www.91ri.org/13805.html</link><description>&lt;article class="single-post"&gt;
													&lt;section class="single-post-header"&gt;
								&lt;div class="single-post-header__headline"&gt;&lt;img src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/556.jpg" alt=""&gt;&lt;/div&gt;
								&lt;header class="single-post-header__meta"&gt;
									&lt;div class="single-post__postmeta"&gt; • 2015/07/30                    &lt;span style="float:right;color:#51aded;"&gt;作者: &lt;b&gt;javexj&lt;/b&gt;&lt;/span&gt;
                  &lt;/div&gt;
									&lt;h1 class="single-post__title"&gt;思路分享：安全狗+360全套添加账户时一些小技巧&lt;/h1&gt;
								&lt;/header&gt;
							&lt;/section&gt;
							&lt;section class="article"&gt;
								&lt;p&gt;起因：某日某群某人&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/95.jpg"&gt;&lt;img class="alignnone size-full wp-image-13835" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/95.jpg" alt="95" width="342" height="285" /&gt;&lt;/a&gt;&lt;br /&gt;
有句话说的很好“&lt;strong&gt;如果你还没瞎，就别用耳朵去了解&lt;/strong&gt;！” ，还是自己去琢磨下比较保险。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/21.jpg"&gt;&lt;img class="alignnone  wp-image-13806" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/21.jpg" alt="2" width="459" height="159" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;运气好，是system权限。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/41.jpg"&gt;&lt;img class="alignnone size-full wp-image-13808" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/41.jpg" alt="4" width="520" height="49" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style="color: #ff0000;"&gt;&lt;strong&gt;本以为应该很简单，但是&amp;#8230;&amp;#8230;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;systeminfo查询得出系统信息：win7旗舰版 目测X86系统。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/51.jpg"&gt;&lt;img class="alignnone size-full wp-image-13809" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/51.jpg" alt="5" width="547" height="452" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;没错就是win7，但发现3389无法连接。&lt;br /&gt;
随机执行tasklist /svc命令得出：360全套+服务器安全狗&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/61.jpg"&gt;&lt;img class="alignnone size-full wp-image-13810" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/61.jpg" alt="6" width="493" height="669" /&gt;&lt;/a&gt;&lt;br /&gt;
在通过netstat -ano命令得出：3389端口是开启&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/71.jpg"&gt;&lt;img class="alignnone size-full wp-image-13811" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/71.jpg" alt="7" width="496" height="137" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;出现上面得出思路：&lt;br /&gt;
&lt;strong&gt;1.tcp/ip筛选&lt;/strong&gt;&lt;br /&gt;
&lt;strong&gt; 2.防火墙&lt;/strong&gt;&lt;br /&gt;
&lt;strong&gt; 3.安全狗拦截&lt;/strong&gt;&lt;br /&gt;
&lt;strong&gt; 4.内网环境&lt;/strong&gt;&lt;br /&gt;
一般情况大家可能通过菜刀得出ip。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/81.jpg"&gt;&lt;img class="alignnone size-full wp-image-13812" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/81.jpg" alt="8" width="638" height="265" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;这个Ip给出的是不准确的，如果你不相信可以就试试做了cdn的网站。&lt;/strong&gt;&lt;br /&gt;
&lt;strong&gt; 建议也不要通过域名去连接服务器。因为&amp;#8230;..&lt;/strong&gt;&lt;br /&gt;
通过ipconfig得出服务器真实ip：XX.XX.XX.XX（确定是&lt;strong&gt;外网&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/91.jpg"&gt;&lt;img class="alignnone size-full wp-image-13813" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/91.jpg" alt="9" width="605" height="421" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;本地telnet 目标ip 端口 发现没有连接上。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/101.jpg"&gt;&lt;img class="alignnone size-full wp-image-13814" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/101.jpg" alt="10" width="461" height="113" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;通过query user命令：发现管理员在线且账户为administrator&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/112.jpg"&gt;&lt;img class="alignnone size-full wp-image-13815" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/112.jpg" alt="11" width="536" height="52" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;综合上面问题再次分析：&lt;br /&gt;
&lt;strong&gt; 我经常用win7系统，当win7+360全套的时候，每次杀毒都会提示让电脑开启防火墙。&lt;/strong&gt;&lt;br /&gt;
&lt;strong&gt; 既然管理员会用win7系统当做服务器那么，安全狗桌面守护开启的几率很小。&lt;/strong&gt;&lt;br /&gt;
为了证明我执行了一句关闭防火墙命令：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05e5c4266c880041498" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
netsh firewall set opmode disable&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05e5c4266c880041498-1"&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05e5c4266c880041498-1"&gt;&lt;span class="crayon-e"&gt;netsh &lt;/span&gt;&lt;span class="crayon-e"&gt;firewall &lt;/span&gt;&lt;span class="crayon-e"&gt;set &lt;/span&gt;&lt;span class="crayon-e"&gt;opmode &lt;/span&gt;&lt;span class="crayon-v"&gt;disable&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;果然是防火墙的问题，可以连接。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/131.jpg"&gt;&lt;img class="alignnone size-full wp-image-13817" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/131.jpg" alt="13" width="411" height="126" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;既然如此，完成任务。交给酷帅牛。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/141.jpg"&gt;&lt;img class="alignnone size-full wp-image-13818" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/141.jpg" alt="14" width="748" height="380" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;出现这类情况请注意：&lt;strong&gt;&lt;span style="color: #ff0000;"&gt;本地应该是xp&lt;/span&gt;,&lt;/strong&gt;&lt;span style="color: #ff0000;"&gt;&lt;strong&gt;mstsc不行，请更换win7以上的mstsc。&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;
&lt;span style="color: #ff0000;"&gt;&lt;strong&gt; 反之，有些服务器或电脑需要win7以下的mstsc才能连接。&lt;/strong&gt;&lt;span style="color: #000000;"&gt;（3389链接不上的解决方法请看《&lt;a href="https://www.91ri.org/4432.html"&gt;突破各种对3389连接的访问限制&lt;/a&gt;》）&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/151.jpg"&gt;&lt;img class="alignnone size-full wp-image-13819" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/151.jpg" alt="15" width="453" height="328" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;——————————————————————————————————————————————&lt;br /&gt;
原以为这样就完事了，开了一天的会，到了晚上吃完饭，在群里看见又是酷帅牛。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/16.jpg"&gt;&lt;img class="alignnone size-full wp-image-13820" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/16.jpg" alt="16" width="342" height="285" /&gt;&lt;/a&gt;&lt;br /&gt;
酷帅牛居然还没有进服务器，好吧。不要研究目录权限了，直接进服务器不是啥都有了么。&lt;br /&gt;
随后和酷帅牛交换工作，我继续帮他深入提权。&lt;br /&gt;
既然是system权限了，不需要任何溢出权限，加个账户就好了。&lt;br /&gt;
执行net user xxxxx&amp;#8230;&amp;#8230;&amp;#8230;&amp;#8230;&lt;br /&gt;
没能回显，确定是安全狗在捣乱(早就想到了)&lt;br /&gt;
自行上传cmd+net1-net111&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/17.jpg"&gt;&lt;img class="alignnone size-full wp-image-13821" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/17.jpg" alt="17" width="397" height="268" /&gt;&lt;/a&gt;&lt;br /&gt;
执行结果让我失望。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/18.jpg"&gt;&lt;img class="alignnone size-full wp-image-13822" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/18.jpg" alt="18" width="590" height="263" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;多种方法都执行了不行&lt;br /&gt;
&lt;strong&gt; 菜刀里面运行exe程序要加引号。&lt;/strong&gt;&lt;br /&gt;
多款免杀的都不行，再次肯定是狗又在捣乱。&lt;br /&gt;
&lt;strong&gt;在webshell下程序都会以exe的后缀去执行。&lt;/strong&gt;菜刀里面我就不说了。&lt;br /&gt;
在目录下翻到root密码&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/19.jpg"&gt;&lt;img class="alignnone size-full wp-image-13823" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/19.jpg" alt="19" width="289" height="168" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;由于网站目录限制的非常严，不允许上传修改任何文件。服务器有360和安全狗就暂时放弃了。&lt;br /&gt;
既然net不行，那就直接爆hash。getpass有些时候暴不出，为了避免这里我直接开始hash。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/201.jpg"&gt;&lt;img class="alignnone size-full wp-image-13824" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/201.jpg" alt="20" width="552" height="48" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;爆出不完整的，没办法解密。二次利用getpass爆密码。得出密码是空。&lt;br /&gt;
经过尝试，密码果然是空，但是被组策略拦截了，&lt;strong&gt;空密码只允许本地登录，不允许远程登录。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/211.jpg"&gt;&lt;img class="alignnone size-full wp-image-13825" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/211.jpg" alt="21" width="399" height="292" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;上远控不免杀肯定是不行的。直接被杀了。&lt;br /&gt;
期间上了好多api加账户的，包括aio克隆。f4ck，Seay,dadan,wlozz，add统统都不可以加，还有好多直接被杀。&lt;br /&gt;
通过vbs脚本，和bat脚本进行加账户。也是不行。尝试结束安全狗，找出安全狗的进程，bat批量结束并且在后门加入了其他命令。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/22.jpg"&gt;&lt;img class="alignnone size-full wp-image-13826" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/22.jpg" alt="22" width="334" height="207" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;大体就是先结束，在停止服务。下面还有允许exe等等的命令。在菜刀执行了一下。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/23.jpg"&gt;&lt;img class="alignnone size-full wp-image-13827" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/23.jpg" alt="23" width="659" height="257" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;只有安全狗被暂时结束了，其他命令没有执行成功。&lt;br /&gt;
迫于无奈，只有增加开机启动了。因为每次电脑开启的时候都会加载，而且开机启动脚本比安全狗启动要快。&lt;br /&gt;
在安全狗之前添加账户理论上是可以的。修改修改脚本，开机启动项加载进去。也没细看添加到启动项没有。&lt;br /&gt;
直接shutdown -r -t 5重启服务器，然后去了趟厕所，回来的时候。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/24.jpg"&gt;&lt;img class="alignnone size-full wp-image-13828" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/24.jpg" alt="24" width="486" height="512" /&gt;&lt;/a&gt;&lt;br /&gt;
虽然可能大概应该没有添加到系统启动项，但是重启后让我惊喜的就是上图。&lt;br /&gt;
你没看错，360sd没了。(&lt;strong&gt;其实是开机启动没启动&lt;/strong&gt;)。&lt;br /&gt;
query user查询用户没有发现用户在线，如果用户登陆的情况下，杀毒马上就会起来(不信你去试试)。&lt;br /&gt;
这回没了杀毒继续上api添加账户工具。没错，不行就重启服务器没准能有意外呢。(当年我提权过一台，重启后安全狗开了，直接给我拦截到shell处了)&lt;br /&gt;
&lt;strong&gt;-ConfigService&lt;/strong&gt; 可以修改开机启动，把安全狗360等等都禁止启动在重启服务器。&lt;br /&gt;
&lt;strong&gt;-Clone&lt;/strong&gt; 克隆没有成功，查看密码hash还是一样。&lt;br /&gt;
再次轮上了一圈api加账户。还是没行。最后翻出多功能神器，前面被杀毒直接K了。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/26.jpg"&gt;&lt;img class="alignnone size-full wp-image-13830" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/26.jpg" alt="26" width="532" height="95" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;通过&lt;strong&gt;注册表&lt;/strong&gt;添加账户显示成功。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/27.jpg"&gt;&lt;img class="alignnone size-full wp-image-13831" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/27.jpg" alt="27" width="626" height="188" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;net user查询不了，不知道成功添加上没。这里用getpass或pw7看一下。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/28.jpg"&gt;&lt;img class="alignnone size-full wp-image-13832" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/28.jpg" alt="28" width="562" height="104" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;结果你懂得。看吧，这个api就可以。添加。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/29.jpg"&gt;&lt;img class="alignnone size-full wp-image-13833" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/29.jpg" alt="29" width="932" height="592" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;提权就结束了，win7系统。看到360杀毒启动了吧？&lt;br /&gt;
附上张服务器安全配置图：&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/30.jpg"&gt;&lt;img class="alignnone size-full wp-image-13834" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/30.jpg" alt="30" width="835" height="445" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;总结：&lt;/strong&gt;很多人以为自己是system权限了，就能做一切的事情，狗狗和360一起给这些人敲了一棒。&lt;/p&gt;
&lt;p&gt;攻防的进步总在对抗之间，作者思考了许多，折腾的许久，最终还是绕过了这两个安全软件的防护添加了用户，耐心及思路值得称赞。本文旨在思路分享，为大家提供一个绕过安全软件的路子，希望大家读后有所收获。：）&lt;/p&gt;
&lt;p&gt;[via@&lt;a href="https://forum.90sec.org/forum.php?mod=viewthread&amp;amp;tid=8771"&gt;javexj&lt;/a&gt;]&lt;/p&gt;
							&lt;/section&gt;
							&lt;section class="single-post-share cf"&gt;
							&lt;div class="single-post-share-social"&gt;
								&lt;ul class="single-post-share-social__action"&gt;
									&lt;li&gt;
										&lt;a class="social-btn share-btn" href="javascript:void(0)"&gt;&lt;i class="icon icon-share"&gt;&lt;/i&gt; &lt;span&gt;&lt;/span&gt; &lt;/a&gt;
										&lt;div class="single-post-social__popup"&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13805.html&amp;title=思路分享：安全狗+360全套添加账户时一些小技巧" target="_blank" class="weibo"&gt;
										    &lt;i class="icon-social-weibo"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13805.html&amp;title=思路分享：安全狗+360全套添加账户时一些小技巧&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;
										    &lt;i class="icon-social-qq"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=twi&amp;url=https://www.91ri.org/13805.html&amp;title=思路分享：安全狗+360全套添加账户时一些小技巧&amp;key=" target="_blank" class="twitter"&gt;
										    &lt;i class="icon-social-twitter"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" target="_blank" class="evernote"&gt;
										    &lt;i class="icon-social-evernote"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=douban&amp;url=https://www.91ri.org/13805.html&amp;title=思路分享：安全狗+360全套添加账户时一些小技巧" target="_blank" class="douban"&gt;
										    &lt;i class="icon-social-douban"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=renren&amp;url=https://www.91ri.org/13805.html&amp;title=思路分享：安全狗+360全套添加账户时一些小技巧" target="_blank" class="renren"&gt;
										    &lt;i class="icon-social-renren"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										&lt;/div&gt;
									&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;div class="single-post-share-list"&gt;
								&lt;ul class="cf"&gt;
									&lt;li&gt;&lt;a href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13805.html&amp;title=思路分享：安全狗+360全套添加账户时一些小技巧" target="_blank" class="weibo"&gt;分享到微博&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="#panel-weixin" class="weixin overlay"&gt;分享到微信&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13805.html&amp;title=思路分享：安全狗+360全套添加账户时一些小技巧&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;分享到QQ&lt;/a&gt;&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;/section&gt;
																		&lt;/article&gt;</description><comments>https://www.91ri.org/13805.html#comments</comments><guid>https://www.91ri.org/13805.html6</guid><pubDate>Tue, 04 Aug 2015 17:41:54 GMT</pubDate></item><item><title>Node-Webkit配合HTML5实现拍照功能</title><link>https://www.91ri.org/13802.html</link><description>&lt;article class="single-post"&gt;
													&lt;section class="single-post-header"&gt;
								&lt;div class="single-post-header__headline"&gt;&lt;img src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/1438094790-70.jpg" alt=""&gt;&lt;/div&gt;
								&lt;header class="single-post-header__meta"&gt;
									&lt;div class="single-post__postmeta"&gt; • 2015/07/28                    &lt;span style="float:right;color:#51aded;"&gt;作者: &lt;b&gt;simon4545&lt;/b&gt;&lt;/span&gt;
                  &lt;/div&gt;
									&lt;h1 class="single-post__title"&gt;Node-Webkit配合HTML5实现拍照功能&lt;/h1&gt;
								&lt;/header&gt;
							&lt;/section&gt;
							&lt;section class="article"&gt;
								&lt;p&gt;因工作原因，最近在使用Node-Webkit做一个桌面高拍仪（摄像头）应用。这个应用本身也只是一个尝试性的东西，不太具有参考价值，就不在这里提供下载了。&lt;/p&gt;
&lt;h2&gt;&lt;span style="font-size: 18pt;"&gt;使用的知识点：&lt;/span&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;navigator.getUserMedia&lt;/li&gt;
&lt;li&gt;MediaStreamTrack.getSources&lt;/li&gt;
&lt;li&gt;Node.JS相关&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;span style="font-size: 18pt;"&gt;涉及到的一些不常见却必须的方法或属性&lt;/span&gt;&lt;/h2&gt;
&lt;h3&gt;&lt;span style="font-size: 14pt;"&gt;getUserMedia&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;getUserMedia是window&lt;/code&gt;宿主下&lt;code&gt;navigator&lt;/code&gt;对象的方法，由于直到目前HTML5的多媒体相关的标准还没有最终确定，所以还是用下文中列出的兼容方法，而在我的这个应用场景中，由于只在webkit下路，所以事实上，只需要&lt;strong&gt;&lt;code&gt;navigator.webkitGetUserMedia&lt;/code&gt;&lt;/strong&gt;即可。&lt;/p&gt;
&lt;h3&gt;&lt;span style="font-size: 14pt;"&gt;JavaScript:&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f796524b616209563" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
navigator.getUserMedia = ( 
    navigator.getUserMedia ||
    navigator.webkitGetUserMedia ||
    navigator.mozGetUserMedia || 
    navigator.msGetUserMedia
);&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796524b616209563-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796524b616209563-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796524b616209563-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796524b616209563-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796524b616209563-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796524b616209563-6"&gt;6&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f796524b616209563-1"&gt;&lt;span class="crayon-v"&gt;navigator&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;getUserMedia&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796524b616209563-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;navigator&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;getUserMedia&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;||&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796524b616209563-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;navigator&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;webkitGetUserMedia&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;||&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796524b616209563-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;navigator&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;mozGetUserMedia&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;||&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796524b616209563-5"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;navigator&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-i"&gt;msGetUserMedia&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796524b616209563-6"&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0012 seconds] --&gt;
&lt;p&gt;完整的调用语句:&lt;/p&gt;
&lt;h3&gt;&lt;span style="font-size: 14pt;"&gt;JavaScript:&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f796525e463389241" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
navigator.getUserMedia({video: true,audio:false}, function (stream) {
     //在这里操作stream对象，一般是用createObjectURL把stream生成URL对象输出给video元素的src属性
     //videoDom.src=window.webkitURL.createObjectURL(stream);
}, function (error) {
     console.log(error);
});&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796525e463389241-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796525e463389241-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796525e463389241-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796525e463389241-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796525e463389241-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796525e463389241-6"&gt;6&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f796525e463389241-1"&gt;&lt;span class="crayon-v"&gt;navigator&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getUserMedia&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;span class="crayon-v"&gt;video&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;true&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-v"&gt;audio&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-t"&gt;false&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;function&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;stream&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796525e463389241-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class="crayon-c"&gt;//在这里操作stream对象，一般是用createObjectURL把stream生成URL对象输出给video元素的src属性&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796525e463389241-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class="crayon-c"&gt;//videoDom.src=window.webkitURL.createObjectURL(stream);&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796525e463389241-4"&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;function&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;error&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796525e463389241-5"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class="crayon-v"&gt;console&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;log&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;error&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796525e463389241-6"&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0016 seconds] --&gt;
&lt;p&gt;网上有许多教程为&lt;code&gt;getUserMedia&lt;/code&gt;的第一个参数赋值是&lt;strong&gt;&lt;code&gt;video&lt;/code&gt;&lt;/strong&gt;,而不是&lt;strong&gt;&lt;code&gt;{video: true}&lt;/code&gt;&lt;/strong&gt;。这是因为之前说的标准还没有确定，这个接口早期就是这样定义的，而之后发现它不足够，就重新定义了。&lt;/p&gt;
&lt;p&gt;为什么说之前定义一个&lt;strong&gt;&lt;code&gt;video&lt;/code&gt;&lt;/strong&gt;是不够的？&lt;/p&gt;
&lt;p&gt;&lt;code&gt;getUserMedia&lt;/code&gt;，顾名思意是&lt;strong&gt;获取用户的多媒体&lt;/strong&gt;，所以除了视频，还有音频，所以接口要变成类似&lt;strong&gt;&lt;code&gt;{video: true,audio:false}&lt;/code&gt;&lt;/strong&gt;，可以设定音视频的获取开关。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;如果只是知道这里，那么很认真的告诉你，你目前的知识还不足够使用！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;你会发现video元素渲染的画面品质很差，不管你使用多好的摄像头设备！当遇到这个问题时，我几乎放弃了Node-Webkit+H5方案，打算 直接调directshow的vfw接口。但就在我打开vs2012，打算开操c++时候，不甘的心情让我决定做一个尝试，直接看一下chrome的相关 源码，我不相信他们会傻x成这样.&lt;/p&gt;
&lt;p&gt;于是让我看到了这么一段代码：&lt;/p&gt;
&lt;p&gt;&lt;a href="http://code.ohloh.net/file?fid=6J7ryGiCNonI80xjGMKjt20p4Xk&amp;amp;cid=0W4KUpSYxGo&amp;amp;s=&amp;amp;fp=302915&amp;amp;mp&amp;amp;projSelected=true#L0" target="_blank"&gt;media_stream_video_source.cc&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;span style="font-size: 14pt;"&gt;CPP:&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f796526c362240041" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
#include "base/logging.h"    
#include "base/strings/string_number_conversions.h"    
#include "content/renderer/media/media_stream_dependency_factory.h"   
#include "content/renderer/media/media_stream_video_track.h"   
#include "content/renderer/media/webrtc/webrtc_video_capturer_adapter.h"   
namespace content {

// Constraint keys. Specified by draft-alvestrand-constraints-resolution-00b
const char MediaStreamVideoSource::kMinAspectRatio[] = "minAspectRatio";
const char MediaStreamVideoSource::kMaxAspectRatio[] = "maxAspectRatio";
const char MediaStreamVideoSource::kMaxWidth[] = "maxWidth";
const char MediaStreamVideoSource::kMinWidth[] = "minWidth";
const char MediaStreamVideoSource::kMaxHeight[] = "maxHeight";
const char MediaStreamVideoSource::kMinHeight[] = "minHeight";
const char MediaStreamVideoSource::kMaxFrameRate[] = "maxFrameRate";
const char MediaStreamVideoSource::kMinFrameRate[] = "minFrameRate"


const char* kSupportedConstraints[] = {    
    MediaStreamVideoSource::kMaxAspectRatio,
    MediaStreamVideoSource::kMinAspectRatio,
    MediaStreamVideoSource::kMaxWidth,
    MediaStreamVideoSource::kMinWidth,
    MediaStreamVideoSource::kMaxHeight,
    MediaStreamVideoSource::kMinHeight,
    MediaStreamVideoSource::kMaxFrameRate,
    MediaStreamVideoSource::kMinFrameRate    
};

const int MediaStreamVideoSource::kDefaultWidth = 640;   
const int MediaStreamVideoSource::kDefaultHeight = 480;  
const int MediaStreamVideoSource::kDefaultFrameRate = 30;  

namespace {  

// Constraints keys for http://dev.w3.org/2011/webrtc/editor/getusermedia.html
const char kSourceId[] = "sourceId";
// Google-specific key prefix. Constraints with this prefix are ignored if they
// are unknown.

const char kGooglePrefix[] = "goog";&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-10"&gt;10&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-11"&gt;11&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-12"&gt;12&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-13"&gt;13&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-14"&gt;14&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-15"&gt;15&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-16"&gt;16&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-17"&gt;17&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-18"&gt;18&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-19"&gt;19&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-20"&gt;20&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-21"&gt;21&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-22"&gt;22&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-23"&gt;23&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-24"&gt;24&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-25"&gt;25&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-26"&gt;26&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-27"&gt;27&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-28"&gt;28&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-29"&gt;29&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-30"&gt;30&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-31"&gt;31&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-32"&gt;32&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-33"&gt;33&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-34"&gt;34&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-35"&gt;35&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-36"&gt;36&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-37"&gt;37&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-38"&gt;38&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-39"&gt;39&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796526c362240041-40"&gt;40&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796526c362240041-41"&gt;41&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-1"&gt;&lt;span class="crayon-p"&gt;#include "base/logging.h"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-2"&gt;&lt;span class="crayon-p"&gt;#include "base/strings/string_number_conversions.h"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-3"&gt;&lt;span class="crayon-p"&gt;#include "content/renderer/media/media_stream_dependency_factory.h"&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-4"&gt;&lt;span class="crayon-p"&gt;#include "content/renderer/media/media_stream_video_track.h"&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-5"&gt;&lt;span class="crayon-p"&gt;#include "content/renderer/media/webrtc/webrtc_video_capturer_adapter.h"&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-6"&gt;&lt;span class="crayon-t"&gt;namespace&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;content&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-7"&gt;&amp;nbsp;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-8"&gt;&lt;span class="crayon-c"&gt;// Constraint keys. Specified by draft-alvestrand-constraints-resolution-00b&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-9"&gt;&lt;span class="crayon-m"&gt;const&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;char&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kMinAspectRatio&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"minAspectRatio"&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-10"&gt;&lt;span class="crayon-m"&gt;const&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;char&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kMaxAspectRatio&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"maxAspectRatio"&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-11"&gt;&lt;span class="crayon-m"&gt;const&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;char&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kMaxWidth&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"maxWidth"&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-12"&gt;&lt;span class="crayon-m"&gt;const&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;char&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kMinWidth&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"minWidth"&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-13"&gt;&lt;span class="crayon-m"&gt;const&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;char&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kMaxHeight&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"maxHeight"&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-14"&gt;&lt;span class="crayon-m"&gt;const&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;char&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kMinHeight&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"minHeight"&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-15"&gt;&lt;span class="crayon-m"&gt;const&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;char&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kMaxFrameRate&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"maxFrameRate"&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-16"&gt;&lt;span class="crayon-m"&gt;const&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;char&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kMinFrameRate&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"minFrameRate"&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-17"&gt;&amp;nbsp;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-18"&gt;&amp;nbsp;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-19"&gt;&lt;span class="crayon-m"&gt;const&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;char&lt;/span&gt;&lt;span class="crayon-o"&gt;*&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kSupportedConstraints&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-20"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kMaxAspectRatio&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-21"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kMinAspectRatio&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-22"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kMaxWidth&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-23"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kMinWidth&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-24"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kMaxHeight&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-25"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kMinHeight&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-26"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kMaxFrameRate&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-27"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-i"&gt;kMinFrameRate&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-28"&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-29"&gt;&amp;nbsp;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-30"&gt;&lt;span class="crayon-m"&gt;const&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;int&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kDefaultWidth&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;640&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-31"&gt;&lt;span class="crayon-m"&gt;const&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;int&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kDefaultHeight&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;480&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-32"&gt;&lt;span class="crayon-m"&gt;const&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;int&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;MediaStreamVideoSource&lt;/span&gt;&lt;span class="crayon-o"&gt;::&lt;/span&gt;&lt;span class="crayon-v"&gt;kDefaultFrameRate&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;30&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-33"&gt;&amp;nbsp;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-34"&gt;&lt;span class="crayon-t"&gt;namespace&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-35"&gt;&amp;nbsp;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-36"&gt;&lt;span class="crayon-c"&gt;// Constraints keys for http://dev.w3.org/2011/webrtc/editor/getusermedia.html&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-37"&gt;&lt;span class="crayon-m"&gt;const&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;char&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kSourceId&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"sourceId"&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-38"&gt;&lt;span class="crayon-c"&gt;// Google-specific key prefix. Constraints with this prefix are ignored if they&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-39"&gt;&lt;span class="crayon-c"&gt;// are unknown.&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796526c362240041-40"&gt;&amp;nbsp;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796526c362240041-41"&gt;&lt;span class="crayon-m"&gt;const&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;char&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kGooglePrefix&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"goog"&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0080 seconds] --&gt;
&lt;p&gt;看到这段代码后我的困惑消失了，&lt;strong&gt;&lt;code&gt;kDefaultWidth&lt;/code&gt;&lt;/strong&gt;及&lt;strong&gt;&lt;code&gt;kDefaultHeight&lt;/code&gt;&lt;/strong&gt;是组成了默认的视频分辩率,如果没有特别设定的话，这种品质最多也就相当于我们平时所说的480p。&lt;/p&gt;
&lt;p&gt;在这段代码里还有几个特别的属性&lt;code&gt;minAspectRatio&lt;/code&gt;（最小宽比）、&lt;code&gt;maxAspectRatio&lt;/code&gt;（最大宽高比）、&lt;code&gt;maxFrameRate&lt;/code&gt;（最大每秒帧数）、&lt;code&gt;minFrameRate&lt;/code&gt;（最小每秒帧数），似乎我们所能想到的都已经定义了。&lt;/p&gt;
&lt;p&gt;而上文提到的&lt;strong&gt;&lt;code&gt;kDefaultWidth&lt;/code&gt;&lt;/strong&gt;及&lt;strong&gt;&lt;code&gt;kDefaultHeight&lt;/code&gt;&lt;/strong&gt;并不是webkit暴露给JavaScript的接口，需要用到maxHeight,minHeight,maxWidth,minHeight，只要在这里设定的合理的值(4:3或16:9，我使用的是1280*720,也就是常说的720p)，就可以改变输出的画质&lt;/p&gt;
&lt;p&gt;最后的代码如下:&lt;/p&gt;
&lt;h3&gt;&lt;span style="font-size: 14pt;"&gt;JavaScript:&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f796527e243681366" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
 navigator.getUserMedia({
        video: {
            mandatory: {
                minAspectRatio: 1.40,
                maxAspectRatio: 1.78,
                minFrameRate: 15,
                maxFrameRate: 25,
                minWidth: 1280,
                minHeight: 720
            }
        }
    }, function (stream) {  
      //xxxx  
    }, function (error) {
        console.log(error);
    });&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796527e243681366-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796527e243681366-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796527e243681366-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796527e243681366-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796527e243681366-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796527e243681366-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796527e243681366-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796527e243681366-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796527e243681366-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796527e243681366-10"&gt;10&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796527e243681366-11"&gt;11&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796527e243681366-12"&gt;12&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796527e243681366-13"&gt;13&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796527e243681366-14"&gt;14&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796527e243681366-15"&gt;15&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796527e243681366-16"&gt;16&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f796527e243681366-1"&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;navigator&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getUserMedia&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796527e243681366-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;video&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796527e243681366-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;mandatory&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796527e243681366-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;minAspectRatio&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;1.40&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796527e243681366-5"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;maxAspectRatio&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;1.78&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796527e243681366-6"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;minFrameRate&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;15&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796527e243681366-7"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;maxFrameRate&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;25&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796527e243681366-8"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;minWidth&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;1280&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796527e243681366-9"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;minHeight&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;720&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796527e243681366-10"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796527e243681366-11"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796527e243681366-12"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;function&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;stream&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796527e243681366-13"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-c"&gt;//xxxx&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796527e243681366-14"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;function&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;error&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796527e243681366-15"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;console&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;log&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;error&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796527e243681366-16"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0032 seconds] --&gt;
&lt;p&gt;可能有的同学会问到，为何你不直接输出1080p的效果出来？&lt;/p&gt;
&lt;p&gt;答案是：我试过了从30到1000的摄像头不等，发现1280&lt;em&gt;720和1920&lt;/em&gt;1080，真心没有看出区别，生成的文件大小，也是一样的，所以极有可能最高只到720p&lt;/p&gt;
&lt;p&gt;在这里还要说明的是FrameRate也是不生效的，AspectRatio是生效的，但设定的最大最小值一定要能取1.333333(4:3)及 1.777777777(16:9)这两个值其中一个。因为video元素输出时，会认得这两个宽高比，如果计算得不出这两个比值，那你会看到一片漆黑！&lt;/p&gt;
&lt;h3&gt;&lt;span style="font-size: 14pt;"&gt;MediaStreamTrack.getSources&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;H5同时还提供MediaStreamTrack对象，用以跟踪多媒体的输出源。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;MediaStreamTrack.getSources&lt;/strong&gt;方法需要一个回调函数,并向该回调函数传入本机器所有的（音，视频）多媒体源。&lt;/p&gt;
&lt;p&gt;接上文的需求，如果我们的机器上有两部（以上）的摄像设备，如何人工选择我们的视（音）频源设备？代码如下：&lt;/p&gt;
&lt;h3&gt;&lt;span style="font-size: 14pt;"&gt;JavaScript:&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f796528c106847425" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
var exArray=[];
MediaStreamTrack.getSources(function (sourceInfos) {
            console.log("sourceInfos:%o", sourceInfos);
            for (var i = 0; i != sourceInfos.length; ++i) {
                var sourceInfo = sourceInfos[i];
//这里会遍历audio,video，所以要加以区分
                if (sourceInfo.kind === 'video') {
                    exArray.push(sourceInfo.label);
                }
            }
        });

   navigator.getUserMedia({
            video: {
                mandatory: {
                    minAspectRatio: 1.40,
                    maxAspectRatio: 1.78,
                    minFrameRate: 15,
                    maxFrameRate: 25,
                    minWidth: 1280,
                    minHeight: 720
                },
                optional: [
                    {
                        sourceId: exArray[0]
                    }
                ]
            }
        }, function (stream) {  
          //xxxx  
        }, function (error) {
            console.log(error);
        });&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796528c106847425-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796528c106847425-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796528c106847425-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796528c106847425-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796528c106847425-10"&gt;10&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-11"&gt;11&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796528c106847425-12"&gt;12&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-13"&gt;13&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796528c106847425-14"&gt;14&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-15"&gt;15&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796528c106847425-16"&gt;16&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-17"&gt;17&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796528c106847425-18"&gt;18&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-19"&gt;19&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796528c106847425-20"&gt;20&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-21"&gt;21&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796528c106847425-22"&gt;22&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-23"&gt;23&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796528c106847425-24"&gt;24&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-25"&gt;25&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796528c106847425-26"&gt;26&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-27"&gt;27&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796528c106847425-28"&gt;28&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-29"&gt;29&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796528c106847425-30"&gt;30&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-31"&gt;31&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f796528c106847425-32"&gt;32&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f796528c106847425-33"&gt;33&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-1"&gt;&lt;span class="crayon-t"&gt;var&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;exArray&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796528c106847425-2"&gt;&lt;span class="crayon-v"&gt;MediaStreamTrack&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getSources&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-t"&gt;function&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;sourceInfos&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;console&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;log&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;"sourceInfos:%o"&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;sourceInfos&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796528c106847425-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;for&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-t"&gt;var&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;i&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;0&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;i&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;!=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;sourceInfos&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;length&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;++&lt;/span&gt;&lt;span class="crayon-v"&gt;i&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-5"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-t"&gt;var&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;sourceInfo&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;sourceInfos&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-v"&gt;i&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796528c106847425-6"&gt;&lt;span class="crayon-c"&gt;//这里会遍历audio,video，所以要加以区分&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-7"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;sourceInfo&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;kind&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;===&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;'video'&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796528c106847425-8"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;exArray&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;push&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;sourceInfo&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;label&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-9"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796528c106847425-10"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-11"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796528c106847425-12"&gt;&amp;nbsp;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-13"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class="crayon-v"&gt;navigator&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getUserMedia&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796528c106847425-14"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;video&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-15"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;mandatory&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796528c106847425-16"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;minAspectRatio&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;1.40&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-17"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;maxAspectRatio&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;1.78&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796528c106847425-18"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;minFrameRate&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;15&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-19"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;maxFrameRate&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;25&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796528c106847425-20"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;minWidth&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;1280&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-21"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;minHeight&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;720&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796528c106847425-22"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-23"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;optional&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796528c106847425-24"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-25"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;sourceId&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;exArray&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;0&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796528c106847425-26"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-27"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796528c106847425-28"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-29"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;function&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;stream&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796528c106847425-30"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-c"&gt;//xxxx&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-31"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;function&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;error&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f796528c106847425-32"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;console&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;log&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;error&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f796528c106847425-33"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;}&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0069 seconds] --&gt;
&lt;p&gt;video对象的还提供了一个optional属性来处理多媒体源的选择，MediaStreamTrack.getSources的回调中我们可以得到每个多媒体源的“标志”，我们只要把这个标志输给sourceId即可。&lt;/p&gt;
&lt;h2&gt;&lt;span style="font-size: 18pt;"&gt;最后要说的&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;Node-Webkit后MediaStreamTrack.getSources会传入一些无效的视频源信息到回调函数里，需要人工过滤一下，在chrome里没有发现这个问题。&lt;/p&gt;
&lt;p&gt;Node-Webkit取摄像头，有时会走到error里，不给权限，目前在chrome里，没有发现&lt;/p&gt;
&lt;p&gt;Node-Webkit要走的路还很远！&lt;/p&gt;
&lt;p&gt;[via@&lt;a href="http://www.w3cplus.com/html5/node-webkit-for-photograph.html"&gt;simon4545&lt;/a&gt; ]&lt;/p&gt;
							&lt;/section&gt;
							&lt;section class="single-post-share cf"&gt;
							&lt;div class="single-post-share-social"&gt;
								&lt;ul class="single-post-share-social__action"&gt;
									&lt;li&gt;
										&lt;a class="social-btn share-btn" href="javascript:void(0)"&gt;&lt;i class="icon icon-share"&gt;&lt;/i&gt; &lt;span&gt;&lt;/span&gt; &lt;/a&gt;
										&lt;div class="single-post-social__popup"&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13802.html&amp;title=Node-Webkit配合HTML5实现拍照功能" target="_blank" class="weibo"&gt;
										    &lt;i class="icon-social-weibo"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13802.html&amp;title=Node-Webkit配合HTML5实现拍照功能&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;
										    &lt;i class="icon-social-qq"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=twi&amp;url=https://www.91ri.org/13802.html&amp;title=Node-Webkit配合HTML5实现拍照功能&amp;key=" target="_blank" class="twitter"&gt;
										    &lt;i class="icon-social-twitter"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" target="_blank" class="evernote"&gt;
										    &lt;i class="icon-social-evernote"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=douban&amp;url=https://www.91ri.org/13802.html&amp;title=Node-Webkit配合HTML5实现拍照功能" target="_blank" class="douban"&gt;
										    &lt;i class="icon-social-douban"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=renren&amp;url=https://www.91ri.org/13802.html&amp;title=Node-Webkit配合HTML5实现拍照功能" target="_blank" class="renren"&gt;
										    &lt;i class="icon-social-renren"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										&lt;/div&gt;
									&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;div class="single-post-share-list"&gt;
								&lt;ul class="cf"&gt;
									&lt;li&gt;&lt;a href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13802.html&amp;title=Node-Webkit配合HTML5实现拍照功能" target="_blank" class="weibo"&gt;分享到微博&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="#panel-weixin" class="weixin overlay"&gt;分享到微信&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13802.html&amp;title=Node-Webkit配合HTML5实现拍照功能&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;分享到QQ&lt;/a&gt;&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;/section&gt;
																		&lt;/article&gt;</description><comments>https://www.91ri.org/13802.html#comments</comments><guid>https://www.91ri.org/13802.html7</guid><pubDate>Tue, 04 Aug 2015 17:41:52 GMT</pubDate></item><item><title>SQLMAP源码分析Part1:流程篇</title><link>https://www.91ri.org/13785.html</link><description>&lt;article class="single-post"&gt;
													&lt;section class="single-post-header"&gt;
								&lt;div class="single-post-header__headline"&gt;&lt;img src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/6silramgfupyignc4ixhxfubhx2v5qt0-1.jpg" alt=""&gt;&lt;/div&gt;
								&lt;header class="single-post-header__meta"&gt;
									&lt;div class="single-post__postmeta"&gt; • 2015/07/27                    &lt;span style="float:right;color:#51aded;"&gt;作者: &lt;b&gt;3xpl0it&lt;/b&gt;&lt;/span&gt;
                  &lt;/div&gt;
									&lt;h1 class="single-post__title"&gt;SQLMAP源码分析Part1:流程篇&lt;/h1&gt;
								&lt;/header&gt;
							&lt;/section&gt;
							&lt;section class="article"&gt;
								&lt;h1&gt;&lt;span style="font-size: 24pt;"&gt;0x00 概述&lt;/span&gt;&lt;/h1&gt;
&lt;p&gt;1.drops之前的文档 &lt;a href="http://drops.wooyun.org/tips/5254"&gt;SQLMAP进阶使用&lt;/a&gt;介绍过SQLMAP的高级使用方法，网上也有几篇介绍过SQLMAP源码的文章&lt;a href="http://www.cnblogs.com/hongfei/category/372087.html"&gt;曾是土木人&lt;/a&gt;,都写的非常好，建议大家都看一下。&lt;br /&gt;
2.我准备分几篇文章详细的介绍下SQLMAP的源码，让想了解的朋友们熟悉一下SQLMAP的原理和一些手工注入的语句，今天先开始第一篇：流程篇。&lt;br /&gt;
3.之前最好了解SQLMAP各个选项的意思，可以参考&lt;a href="https://www.91ri.org/6775.html"&gt;sqlmap用户手册&lt;/a&gt;和SQLMAP目录doc/README.pdf&lt;br /&gt;
4.内容中如有错误或者没有写清楚的地方，欢迎指正交流。有部分内容是参考上面介绍的几篇文章的，在此一并说明，感谢他们。&lt;/p&gt;
&lt;h1&gt;&lt;span style="font-size: 24pt;"&gt;0x01 流程图&lt;/span&gt;&lt;/h1&gt;
&lt;p&gt;&lt;img class="" src="https://www.91ri.org/wp-content/uploads/auto_save_image/2015/07/125608hhN.jpg" alt="enter image description here" width="702" height="395" /&gt;&lt;/p&gt;
&lt;h1&gt;&lt;span style="font-size: 24pt;"&gt;0x02 调试方法&lt;/span&gt;&lt;/h1&gt;
&lt;p&gt;1.我用的IDE是PyCharm。&lt;br /&gt;
2.在菜单栏Run-&amp;gt;Edit Configurations。点击左侧的“+”，选择Python，Script中选择sqlmap.py的路径，Script parameters中填入注入时的命令，如下图。 &lt;img class="" src="https://www.91ri.org/wp-content/uploads/auto_save_image/2015/07/1256088IH.jpg" alt="enter image description here" width="564" height="355" /&gt;&lt;/p&gt;
&lt;p&gt;3.打开sqlmap.py，开始函数是main函数,在main函数处下断点。 &lt;img class="" src="https://www.91ri.org/wp-content/uploads/auto_save_image/2015/07/125609aYp.jpg" alt="enter image description here" width="542" height="231" /&gt;&lt;/p&gt;
&lt;p&gt;4.右键Debug &amp;#8216;sqlmap&amp;#8217;,然后程序就自动跳到我们下断点的main()函数处，后面可以继续添加断点进行调试。如下图，左边红色的代表跳转到下一个断点处，上面红色的表示跳到下一句代码处&lt;/p&gt;
&lt;p&gt;&lt;img class="" src="https://www.91ri.org/wp-content/uploads/auto_save_image/2015/07/125609D2y.jpg" alt="enter image description here" width="417" height="207" /&gt;&lt;/p&gt;
&lt;p&gt;5.另外，如果要在代码中加中文注释，需要在开始处添加以下语句：#coding:utf-8。&lt;/p&gt;
&lt;h1&gt;&lt;span style="font-size: 24pt;"&gt;0x03 流程&lt;/span&gt;&lt;/h1&gt;
&lt;h2&gt;&lt;span style="font-size: 18pt;"&gt;3.1 初始化&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;我这里用的版本是：1.0-dev-nongit-20150614&lt;br /&gt;
miin()函数开始73行：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7745152504445405" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
paths.SQLMAP_ROOT_PATH = modulePath()
setPaths()&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745152504445405-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745152504445405-2"&gt;2&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7745152504445405-1"&gt;&lt;span class="crayon-v"&gt;paths&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SQLMAP_ROOT_PATH&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;modulePath&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745152504445405-2"&gt;&lt;span class="crayon-e"&gt;setPaths&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0006 seconds] --&gt;
&lt;p&gt;进入common.py中的setPaths()函数后，就可以看到这个函数是定义SQLMAP路径和文件的，类似于：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7745161348749799" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
paths.SQLMAP_EXTRAS_PATH = os.path.join(paths.SQLMAP_ROOT_PATH, "extra")
paths.SQLMAP_PROCS_PATH = os.path.join(paths.SQLMAP_ROOT_PATH, "procs")
paths.SQLMAP_SHELL_PATH = os.path.join(paths.SQLMAP_ROOT_PATH, "shell")
paths.SQLMAP_TAMPER_PATH = os.path.join(paths.SQLMAP_ROOT_PATH, "tamper")
paths.SQLMAP_WAF_PATH = os.path.join(paths.SQLMAP_ROOT_PATH, "waf")&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745161348749799-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745161348749799-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745161348749799-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745161348749799-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745161348749799-5"&gt;5&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7745161348749799-1"&gt;&lt;span class="crayon-v"&gt;paths&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SQLMAP_EXTRAS_PATH&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;os&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;path&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;join&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;paths&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SQLMAP_ROOT_PATH&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"extra"&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745161348749799-2"&gt;&lt;span class="crayon-v"&gt;paths&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SQLMAP_PROCS_PATH&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;os&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;path&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;join&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;paths&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SQLMAP_ROOT_PATH&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"procs"&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745161348749799-3"&gt;&lt;span class="crayon-v"&gt;paths&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SQLMAP_SHELL_PATH&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;os&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;path&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;join&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;paths&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SQLMAP_ROOT_PATH&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"shell"&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745161348749799-4"&gt;&lt;span class="crayon-v"&gt;paths&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SQLMAP_TAMPER_PATH&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;os&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;path&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;join&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;paths&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SQLMAP_ROOT_PATH&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"tamper"&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745161348749799-5"&gt;&lt;span class="crayon-v"&gt;paths&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SQLMAP_WAF_PATH&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;os&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;path&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;join&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;paths&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SQLMAP_ROOT_PATH&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"waf"&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0029 seconds] --&gt;
&lt;p&gt;接下来的78行函数initOptions(cmdLineOptions),包含了三个函数，作用如流程图所示，设置conf,KB,参数. conf会保存用户输入的一些参数，比如url，端口&lt;br /&gt;
kb会保存注入时的一些参数，其中有两个是比较特殊的kb.chars.start和kb.chars.stop，这两个是随机字符串，后面会有介绍。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7745168876615428" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
_setConfAttributes()
_setKnowledgeBaseAttributes()
_mergeOptions(inputOptions, overrideOptions)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745168876615428-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745168876615428-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745168876615428-3"&gt;3&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7745168876615428-1"&gt;&lt;span class="crayon-e"&gt;_setConfAttributes&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745168876615428-2"&gt;&lt;span class="crayon-e"&gt;_setKnowledgeBaseAttributes&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745168876615428-3"&gt;&lt;span class="crayon-e"&gt;_mergeOptions&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;inputOptions&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;overrideOptions&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0006 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h2&gt;&lt;span style="font-size: 18pt;"&gt;3.2 start&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;102行的start函数，算是检测开始的地方.start()函数位于controller.py中。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f774516f441813032" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
if conf.direct: 
initTargetEnv()
setupTargetEnv()
action()
return True&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f774516f441813032-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f774516f441813032-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f774516f441813032-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f774516f441813032-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f774516f441813032-5"&gt;5&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f774516f441813032-1"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;direct&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f774516f441813032-2"&gt;&lt;span class="crayon-e"&gt;initTargetEnv&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f774516f441813032-3"&gt;&lt;span class="crayon-e"&gt;setupTargetEnv&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f774516f441813032-4"&gt;&lt;span class="crayon-e"&gt;action&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f774516f441813032-5"&gt;&lt;span class="crayon-st"&gt;return&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0010 seconds] --&gt;
&lt;p&gt;首先这四句，意思是，如果你使用-d选项，那么sqlmap就会直接进入action()函数，连接数据库，语句类似为：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7745175015297251" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
python sqlmap.py -d "mysql://admin:admin@192.168.21.17
/* &amp;lt;![CDATA[ */!function(){try{var t="currentScript"in document?document.currentScript:function(){for(var t=document.getElementsByTagName("script"),e=t.length;e--;)if(t[e].getAttribute("cf-hash"))return t[e]}();if(t&amp;amp;&amp;amp;t.previousSibling){var e,r,n,i,c=t.previousSibling,a=c.getAttribute("data-cfemail");if(a){for(e="",r=parseInt(a.substr(0,2),16),n=2;a.length-n;n+=2)i=parseInt(a.substr(n,2),16)^r,e+=String.fromCharCode(i);e=document.createTextNode(e),c.parentNode.replaceChild(e,c)}}}catch(u){}}();/* ]]&amp;gt; */:3306/testdb" -f --banner --dbs --user


#!python
if conf.url and not any((conf.forms, conf.crawlDepth)):
    kb.targets.add((conf.url, conf.method, conf.data, conf.cookie, None))&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745175015297251-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745175015297251-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745175015297251-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745175015297251-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745175015297251-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745175015297251-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745175015297251-7"&gt;7&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7745175015297251-1"&gt;&lt;span class="crayon-e"&gt;python &lt;/span&gt;&lt;span class="crayon-v"&gt;sqlmap&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;py&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-i"&gt;d&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"mysql://admin:admin@192.168.21.17&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745175015297251-2"&gt;&lt;span class="crayon-s"&gt;/* &amp;lt;![CDATA[ */!function(){try{var t="&lt;/span&gt;&lt;span class="crayon-i"&gt;currentScript&lt;/span&gt;&lt;span class="crayon-s"&gt;"in document?document.currentScript:function(){for(var t=document.getElementsByTagName("&lt;/span&gt;&lt;span class="crayon-i"&gt;script&lt;/span&gt;&lt;span class="crayon-s"&gt;"),e=t.length;e--;)if(t[e].getAttribute("&lt;/span&gt;&lt;span class="crayon-v"&gt;cf&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-i"&gt;hash&lt;/span&gt;&lt;span class="crayon-s"&gt;"))return t[e]}();if(t&amp;amp;&amp;amp;t.previousSibling){var e,r,n,i,c=t.previousSibling,a=c.getAttribute("&lt;/span&gt;&lt;span class="crayon-v"&gt;data&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-i"&gt;cfemail&lt;/span&gt;&lt;span class="crayon-s"&gt;");if(a){for(e="&lt;/span&gt;&lt;span class="crayon-s"&gt;",r=parseInt(a.substr(0,2),16),n=2;a.length-n;n+=2)i=parseInt(a.substr(n,2),16)^r,e+=String.fromCharCode(i);e=document.createTextNode(e),c.parentNode.replaceChild(e,c)}}}catch(u){}}();/* ]]&amp;gt; */:3306/testdb"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;f&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;--&lt;/span&gt;&lt;span class="crayon-v"&gt;banner&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;--&lt;/span&gt;&lt;span class="crayon-v"&gt;dbs&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;--&lt;/span&gt;&lt;span class="crayon-v"&gt;user&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745175015297251-3"&gt;&amp;nbsp;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745175015297251-4"&gt;&amp;nbsp;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745175015297251-5"&gt;&lt;span class="crayon-p"&gt;#!python&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745175015297251-6"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;url &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;any&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;forms&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;crawlDepth&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745175015297251-7"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;targets&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;add&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;url&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;method&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;data&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;cookie&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;None&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0030 seconds] --&gt;
&lt;p&gt;上面代码会把url,methos,data,cookie加入到kb.targets，这些参数就是我们输入的&lt;/p&gt;
&lt;p&gt;&lt;img class="" src="https://www.91ri.org/wp-content/uploads/auto_save_image/2015/07/131351g94.jpg" alt="enter image description here" width="375" height="257" /&gt;&lt;/p&gt;
&lt;p&gt;接下来从274行的for循环中，可以进入检测环节&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f774517d419972623" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
for targetUrl, targetMethod, targetData, targetCookie,
targetHeaders in kb.targets:&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f774517d419972623-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f774517d419972623-2"&gt;2&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f774517d419972623-1"&gt;&lt;span class="crayon-st"&gt;for&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;targetUrl&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;targetMethod&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;targetData&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;targetCookie&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f774517d419972623-2"&gt;&lt;span class="crayon-e"&gt;targetHeaders &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;targets&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0009 seconds] --&gt;
&lt;p&gt;此循环先初始化一些一些变量，然后判断之前是否注入过，如果没有注入过，testSqlInj=True,否则testSqlInj=false。后面会进行判断是否检测过。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7745183606200682" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
def setupTargetEnv():
_createTargetDirs()
_setRequestParams()
_setHashDB()
_resumeHashDBValues()
_setResultsFile()
_setAuthCred()&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745183606200682-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745183606200682-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745183606200682-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745183606200682-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745183606200682-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745183606200682-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745183606200682-7"&gt;7&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7745183606200682-1"&gt;&lt;span class="crayon-e"&gt;def &lt;/span&gt;&lt;span class="crayon-e"&gt;setupTargetEnv&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745183606200682-2"&gt;&lt;span class="crayon-e"&gt;_createTargetDirs&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745183606200682-3"&gt;&lt;span class="crayon-e"&gt;_setRequestParams&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745183606200682-4"&gt;&lt;span class="crayon-e"&gt;_setHashDB&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745183606200682-5"&gt;&lt;span class="crayon-e"&gt;_resumeHashDBValues&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745183606200682-6"&gt;&lt;span class="crayon-e"&gt;_setResultsFile&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745183606200682-7"&gt;&lt;span class="crayon-e"&gt;_setAuthCred&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0009 seconds] --&gt;
&lt;p&gt;372行setupTargetEnv()函数中包含了5个函数，这些函数作用是&lt;/p&gt;
&lt;p&gt;1.创建输出结果目录&lt;/p&gt;
&lt;p&gt;2.解析请求参数&lt;/p&gt;
&lt;p&gt;3.设置session信息，就是session.sqlite。&lt;/p&gt;
&lt;p&gt;4.恢复session的数据，继续扫描。&lt;/p&gt;
&lt;p&gt;5.存储扫描结果。&lt;/p&gt;
&lt;p&gt;6.添加认证信息&lt;/p&gt;
&lt;p&gt;其中比较重要的就是session.sqlite，这个文件在sqlmap的输出目录中，测试的结果都会保存在这个文件里。&lt;/p&gt;
&lt;h2&gt;&lt;span style="font-size: 18pt;"&gt;3.2.1 checkWaf&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f774518a270272032" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
checkWaf()
if conf.identifyWaf:
identifyWaf()&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f774518a270272032-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f774518a270272032-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f774518a270272032-3"&gt;3&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f774518a270272032-1"&gt;&lt;span class="crayon-e"&gt;checkWaf&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f774518a270272032-2"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;identifyWaf&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f774518a270272032-3"&gt;&lt;span class="crayon-e"&gt;identifyWaf&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;
&lt;p&gt;377行checkWaf()是检测是否有WAF,检测方法是NMAP的http-waf-detect.nse，比如页面为index.php?id=1，那现在添加一个随机变量index.php?id=1&amp;amp;aaa=2，设置paoyload类似为AND 1=1 UNION ALL SELECT 1,2,3,table_name FROM information_schema.tables WHERE 2&amp;gt;1&amp;#8211; ../../../etc/passwd，如果没有WAF，页面不会变化，如果有WAF，因为payload中有很多敏感字符，大多数时候页面都会发生改变。&lt;br /&gt;
接下来的conf.identifyWaf代表sqlmap的参数&amp;#8211;identify-waf,如果指定了此参数，就会进入identifyWaf()函数，主要检测的waf都在sqlmap的waf目录下。&lt;/p&gt;
&lt;p&gt;&lt;img class="" src="https://www.91ri.org/wp-content/uploads/auto_save_image/2015/07/131352x7G.jpg" alt="enter image description here" width="590" height="375" /&gt;&lt;/p&gt;
&lt;p&gt;当然检测的方法都比较简单，都是查看返回的数据库包种是否包含了某些特征字符。如：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7745191682937504" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
__product__ = "360 Web Application Firewall (360)"
 
def detect(get_page):
    retval = False
 
    for vector in WAF_ATTACK_VECTORS:
        page, headers, code = get_page(get=vector)
        retval = re.search(r"wangzhan\.360\.cn", headers.get("X-Powered-By-360wzb", ""), re.I) is not None
        if retval:
            break
 
    return retval
 
 
 
if (len(kb.injections) == 0 or (len(kb.injections) == 1 and kb.injections[0].place is None)) \
                and (kb.injection.place is None or kb.injection.parameter is None):&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745191682937504-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745191682937504-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745191682937504-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745191682937504-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745191682937504-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745191682937504-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745191682937504-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745191682937504-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745191682937504-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745191682937504-10"&gt;10&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745191682937504-11"&gt;11&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745191682937504-12"&gt;12&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745191682937504-13"&gt;13&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745191682937504-14"&gt;14&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745191682937504-15"&gt;15&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745191682937504-16"&gt;16&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745191682937504-17"&gt;17&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7745191682937504-1"&gt;&lt;span class="crayon-v"&gt;__product__&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"360 Web Application Firewall (360)"&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745191682937504-2"&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745191682937504-3"&gt;&lt;span class="crayon-e"&gt;def &lt;/span&gt;&lt;span class="crayon-e"&gt;detect&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;get_page&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745191682937504-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;retval&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745191682937504-5"&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745191682937504-6"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;for&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;vector &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;WAF_ATTACK_VECTORS&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745191682937504-7"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;page&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;headers&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;code&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;get_page&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;get&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-v"&gt;vector&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745191682937504-8"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;retval&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;re&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;search&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-i"&gt;r&lt;/span&gt;&lt;span class="crayon-s"&gt;"wangzhan\.360\.cn"&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;headers&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;get&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;"X-Powered-By-360wzb"&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;""&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;re&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;I&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;is&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;None&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745191682937504-9"&gt;&lt;span class="crayon-e"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;retval&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745191682937504-10"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;break&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745191682937504-11"&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745191682937504-12"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;return&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;retval&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745191682937504-13"&gt;&lt;span class="crayon-e"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745191682937504-14"&gt;&lt;span class="crayon-e"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745191682937504-15"&gt;&lt;span class="crayon-e"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745191682937504-16"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e"&gt;len&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;injections&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;0&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e"&gt;len&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;injections&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;1&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;injections&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;0&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;place &lt;/span&gt;&lt;span class="crayon-st"&gt;is&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;None&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;\&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745191682937504-17"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;injection&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;place &lt;/span&gt;&lt;span class="crayon-st"&gt;is&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;None &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;injection&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;parameter &lt;/span&gt;&lt;span class="crayon-st"&gt;is&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;None&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0045 seconds] --&gt;
&lt;p&gt;回到start函数，385行会判断是否注入过，如果还没有测试过参数是否可以注入，则进入if语句中。如果之前测试过，则不会进入此语句。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7745198426405527" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
for place in parameters:
    # Test User-Agent and Referer headers only if
    # --level &amp;gt;= 3
    skip = (place == PLACE.USER_AGENT and conf.level &amp;lt;
    skip |= (place == PLACE.REFERER and conf.level &amp;lt; 3)
    # Test Host header only if
    # --level &amp;gt;= 5
    skip |= (place == PLACE.HOST and conf.level &amp;lt; 5)
    # Test Cookie header only if --level &amp;gt;= 2
    skip |= (place == PLACE.COOKIE and conf.level &amp;lt; 2)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745198426405527-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745198426405527-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745198426405527-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745198426405527-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745198426405527-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745198426405527-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745198426405527-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745198426405527-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745198426405527-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745198426405527-10"&gt;10&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7745198426405527-1"&gt;&lt;span class="crayon-st"&gt;for&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;place &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;parameters&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745198426405527-2"&gt;    &lt;span class="crayon-p"&gt;# Test User-Agent and Referer headers only if&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745198426405527-3"&gt;    &lt;span class="crayon-p"&gt;# --level &amp;gt;= 3&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745198426405527-4"&gt;    &lt;span class="crayon-v"&gt;skip&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PLACE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;USER_AGENT &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;level&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;lt;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745198426405527-5"&gt;    &lt;span class="crayon-v"&gt;skip&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;|=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PLACE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;REFERER &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;level&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;3&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745198426405527-6"&gt;    &lt;span class="crayon-p"&gt;# Test Host header only if&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745198426405527-7"&gt;    &lt;span class="crayon-p"&gt;# --level &amp;gt;= 5&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745198426405527-8"&gt;    &lt;span class="crayon-v"&gt;skip&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;|=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PLACE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;HOST &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;level&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;5&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745198426405527-9"&gt;    &lt;span class="crayon-p"&gt;# Test Cookie header only if --level &amp;gt;= 2&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745198426405527-10"&gt;    &lt;span class="crayon-v"&gt;skip&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;|=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PLACE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;COOKIE &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;level&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;2&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0033 seconds] --&gt;
&lt;p&gt;这中间sqlmap给了我们一些注释，可以看到，level&amp;gt;=3时，会测试user-agent,referer，level&amp;gt;=5时，会测试HOST，level&amp;gt;=2时，会测试cookie。当然最终的测试判断还要在相应的xml中指定，后面会介绍。&lt;br /&gt;
480行的checkDynParam()函数会判断参数是否是动态的，比如index.php?id=1，通过更改id的值，如果参数是动态的，页面会不同。&lt;/p&gt;
&lt;h2&gt;&lt;span style="font-size: 18pt;"&gt;3.2.2 heuristicCheckSqlInjection&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f774519f645094972" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
check = heuristicCheckSqlInjection(place, parameter)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f774519f645094972-1"&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f774519f645094972-1"&gt;&lt;span class="crayon-v"&gt;check&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;heuristicCheckSqlInjection&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;parameter&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;
&lt;p&gt;502行有个heuristicCheckSqlInjection()函数，翻译过来是启发性sql注入测试，其实就是先进行一个简单的测试，设置一个payload，然后解析请求结果。&lt;br /&gt;
heuristicCheckSqlInjection()在checks.py中,821行开始如下:&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f77451a5994242739" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
if conf.prefix or conf.suffix:
        if conf.prefix:
            prefix = conf.prefix
 
        if conf.suffix:
            suffix = conf.suffix
 
    randStr = ""
 
    while '\'' not in randStr:
        randStr = randomStr(length=10, alphabet=HEURISTIC_CHECK_ALPHABET)  
 
    kb.heuristicMode = True
 
    payload = "%s%s%s" % (prefix, randStr, suffix)
    payload = agent.payload(place, parameter, newValue=payload)
    page, _ = Request.queryPage(payload, place, content=True, raise404=False)
 
    kb.heuristicMode = False
 
    parseFilePaths(page)
    result = wasLastResponseDBMSError()&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451a5994242739-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451a5994242739-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451a5994242739-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451a5994242739-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451a5994242739-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451a5994242739-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451a5994242739-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451a5994242739-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451a5994242739-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451a5994242739-10"&gt;10&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451a5994242739-11"&gt;11&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451a5994242739-12"&gt;12&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451a5994242739-13"&gt;13&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451a5994242739-14"&gt;14&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451a5994242739-15"&gt;15&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451a5994242739-16"&gt;16&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451a5994242739-17"&gt;17&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451a5994242739-18"&gt;18&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451a5994242739-19"&gt;19&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451a5994242739-20"&gt;20&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451a5994242739-21"&gt;21&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451a5994242739-22"&gt;22&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f77451a5994242739-1"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;prefix &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;suffix&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451a5994242739-2"&gt;        &lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;prefix&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451a5994242739-3"&gt;            &lt;span class="crayon-v"&gt;prefix&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-i"&gt;prefix&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451a5994242739-4"&gt; &lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451a5994242739-5"&gt;        &lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;suffix&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451a5994242739-6"&gt;            &lt;span class="crayon-v"&gt;suffix&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-i"&gt;suffix&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451a5994242739-7"&gt; &lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451a5994242739-8"&gt;    &lt;span class="crayon-v"&gt;randStr&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;""&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451a5994242739-9"&gt; &lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451a5994242739-10"&gt;    &lt;span class="crayon-st"&gt;while&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;'\''&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;randStr&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451a5994242739-11"&gt;        &lt;span class="crayon-v"&gt;randStr&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;randomStr&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;length&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-cn"&gt;10&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;alphabet&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-v"&gt;HEURISTIC_CHECK_ALPHABET&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;  &lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451a5994242739-12"&gt; &lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451a5994242739-13"&gt;    &lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;heuristicMode&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451a5994242739-14"&gt; &lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451a5994242739-15"&gt;    &lt;span class="crayon-v"&gt;payload&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"%s%s%s"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;prefix&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;randStr&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;suffix&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451a5994242739-16"&gt;    &lt;span class="crayon-v"&gt;payload&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;agent&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;payload&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;parameter&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;newValue&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-v"&gt;payload&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451a5994242739-17"&gt;    &lt;span class="crayon-v"&gt;page&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;_&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;Request&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;queryPage&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;payload&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;content&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;raise404&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451a5994242739-18"&gt; &lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451a5994242739-19"&gt;    &lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;heuristicMode&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451a5994242739-20"&gt; &lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451a5994242739-21"&gt;    &lt;span class="crayon-e"&gt;parseFilePaths&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;page&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451a5994242739-22"&gt;    &lt;span class="crayon-v"&gt;result&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;wasLastResponseDBMSError&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0053 seconds] --&gt;
&lt;p&gt;首先conf.prefix和conf.suffix代表用户指定的前缀和后缀；在while &amp;#8216;\&amp;#8221; not in randStr中，随机选择'&amp;#8221;&amp;#8216;, &amp;#8216;\&amp;#8221;, &amp;#8216;)&amp;#8217;, &amp;#8216;(&amp;#8216;, &amp;#8216;,&amp;#8217;, &amp;#8216;.&amp;#8217;中的字符，选10个，并且单引号要在。接下来生成一个payload，类似u&amp;#8217;name=PAYLOAD_DELIMITER\__1).&amp;#8221;.&amp;#8221;.&amp;#8221;\&amp;#8217;.&amp;#8221;__PAYLOAD_DELIMITER&amp;#8217;。其中PAYLOAD_DELIMITER\__1和__PAYLOAD_DELIMITER是随机字符串。请求网页后，调用parseFilePaths进行解析，查看是否爆出绝对路径，而wasLastResponseDBMSError是判断response中是否包含了数据库的报错信息。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f77451ad617811976" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
value = "%s%s%s" % (randomStr(), DUMMY_XSS_CHECK_APPENDIX, randomStr())
payload = "%s%s%s" % (prefix, "'%s" % value, suffix)
payload = agent.payload(place, parameter, newValue=payload)
page, _ = Request.queryPage(payload, place, content=True, raise404=False)
 
paramType = conf.method if conf.method not in (None, HTTPMETHOD.GET, HTTPMETHOD.POST) else place
 
if value in (page or ""):      
    infoMsg = "heuristic (XSS) test shows that %s parameter " % paramType
    infoMsg += "'%s' might be vulnerable to XSS attacks" % parameter
    logger.info(infoMsg)
 
kb.heuristicMode = False&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451ad617811976-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451ad617811976-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451ad617811976-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451ad617811976-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451ad617811976-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451ad617811976-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451ad617811976-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451ad617811976-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451ad617811976-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451ad617811976-10"&gt;10&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451ad617811976-11"&gt;11&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451ad617811976-12"&gt;12&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451ad617811976-13"&gt;13&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f77451ad617811976-1"&gt;&lt;span class="crayon-v"&gt;value&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"%s%s%s"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e"&gt;randomStr&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;DUMMY_XSS_CHECK_APPENDIX&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;randomStr&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451ad617811976-2"&gt;&lt;span class="crayon-v"&gt;payload&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"%s%s%s"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;prefix&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"'%s"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;value&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;suffix&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451ad617811976-3"&gt;&lt;span class="crayon-v"&gt;payload&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;agent&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;payload&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;parameter&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;newValue&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-v"&gt;payload&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451ad617811976-4"&gt;&lt;span class="crayon-v"&gt;page&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;_&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;Request&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;queryPage&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;payload&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;content&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;raise404&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451ad617811976-5"&gt; &lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451ad617811976-6"&gt;&lt;span class="crayon-v"&gt;paramType&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;method &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;method &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;None&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;HTTPMETHOD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;GET&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;HTTPMETHOD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;POST&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-i"&gt;place&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451ad617811976-7"&gt; &lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451ad617811976-8"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;value &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e"&gt;page &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;""&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;      &lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451ad617811976-9"&gt;    &lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"heuristic (XSS) test shows that %s parameter "&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-i"&gt;paramType&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451ad617811976-10"&gt;    &lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"'%s' might be vulnerable to XSS attacks"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-i"&gt;parameter&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451ad617811976-11"&gt;    &lt;span class="crayon-v"&gt;logger&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;info&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451ad617811976-12"&gt; &lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451ad617811976-13"&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;heuristicMode&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0049 seconds] --&gt;
&lt;p&gt;上面的代码是从888行开始，DUMMY_XSS_CHECK_APPENDIX = &amp;#8220;&amp;lt;&amp;#8216;\&amp;#8221;&amp;gt;&amp;#8221;，如果输入的字符串在页面中返回了，会提示可能存在XSS漏洞。&lt;/p&gt;
&lt;p&gt;&lt;img class="" src="https://www.91ri.org/wp-content/uploads/auto_save_image/2015/07/131353ae1.jpg" alt="enter image description here" width="721" height="51" /&gt;&lt;/p&gt;
&lt;p&gt;接下来，我们回到start函数中，继续看下面的代码。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f77451b4574886259" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
if testSqlInj:
    ......
    injection = checkSqlInjection(place, parameter, value)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451b4574886259-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451b4574886259-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451b4574886259-3"&gt;3&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f77451b4574886259-1"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;testSqlInj&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451b4574886259-2"&gt;    &lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451b4574886259-3"&gt;    &lt;span class="crayon-v"&gt;injection&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;checkSqlInjection&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;parameter&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;value&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0009 seconds] --&gt;
&lt;p&gt;在502行判断testSqlInj,如果为true，就代表之前没有检测过，然后就会到checkSqlInjection，checkSqlInjection()才是真正开始测试的函数，传入的参数是注入方法如GET，参数名，参数值。我们跟进。&lt;/p&gt;
&lt;h2&gt;&lt;span style="font-size: 18pt;"&gt;3.2.3 checkSqlInjection&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;checkSqlInjection()在checks.py中,91行开始&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f77451ba203336053" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
paramType = conf.method if conf.method not in (None, HTTPMETHOD.GET, HTTPMETHOD.POST) else place
tests = getSortedInjectionTests()&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451ba203336053-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451ba203336053-2"&gt;2&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f77451ba203336053-1"&gt;&lt;span class="crayon-v"&gt;paramType&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;method &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;method &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;None&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;HTTPMETHOD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;GET&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;HTTPMETHOD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;POST&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;place&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451ba203336053-2"&gt;&lt;span class="crayon-v"&gt;tests&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;getSortedInjectionTests&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0018 seconds] --&gt;
&lt;p&gt;paramType是注入的类型,如GET。tests是要测试的列表，如下图所示，包含了每个测试项的名称，这些数据都是和/sqlmap/xml/payloads/目录下每个xml相对应的。&lt;/p&gt;
&lt;p&gt;&lt;img class="" src="https://www.91ri.org/wp-content/uploads/auto_save_image/2015/07/132903pav.jpg" alt="enter image description here" width="430" height="296" /&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f77451c1493107637" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
if conf.dbms is None:
    if not injection.dbms and PAYLOAD.TECHNIQUE.BOOLEAN in injection.data:
        if not Backend.getIdentifiedDbms() and kb.heuristicDbms is False:
            kb.heuristicDbms = heuristicCheckDbms(injection)
    if kb.reduceTests is None and not conf.testFilter and (intersect(Backend.getErrorParsedDBMSes(), \
       SUPPORTED_DBMS, True) or kb.heuristicDbms or injection.dbms):
        msg = "it looks like the back-end DBMS is '%s'. " % (Format.getErrorParsedDBMSes() or kb.heuristicDbms or injection.dbms)
        msg += "Do you want to skip test payloads specific for other DBMSes? [Y/n]"
        kb.reduceTests = (Backend.getErrorParsedDBMSes() or [kb.heuristicDbms]) if readInput(msg, default='Y').upper() == 'Y' else []
if kb.extendTests is None and not conf.testFilter and (conf.level &amp;lt; 5 or conf.risk &amp;lt; 3) \
   and (intersect(Backend.getErrorParsedDBMSes(), SUPPORTED_DBMS, True) or \
   kb.heuristicDbms or injection.dbms):
    msg = "for the remaining tests, do you want to include all tests "
    msg += "for '%s' extending provided " % (Format.getErrorParsedDBMSes() or kb.heuristicDbms or injection.dbms)
    msg += "level (%d)" % conf.level if conf.level &amp;lt; 5 else ""
    msg += " and " if conf.level &amp;lt; 5 and conf.risk &amp;lt; 3 else ""
    msg += "risk (%d)" % conf.risk if conf.risk &amp;lt; 3 else ""
    msg += " values? [Y/n]" if conf.level &amp;lt; 5 and conf.risk &amp;lt; 3 else " value? [Y/n]"
    kb.extendTests = (Backend.getErrorParsedDBMSes() or [kb.heuristicDbms]) if readInput(msg, default='Y').upper() == 'Y' else []&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451c1493107637-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451c1493107637-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451c1493107637-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451c1493107637-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451c1493107637-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451c1493107637-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451c1493107637-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451c1493107637-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451c1493107637-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451c1493107637-10"&gt;10&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451c1493107637-11"&gt;11&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451c1493107637-12"&gt;12&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451c1493107637-13"&gt;13&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451c1493107637-14"&gt;14&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451c1493107637-15"&gt;15&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451c1493107637-16"&gt;16&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451c1493107637-17"&gt;17&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451c1493107637-18"&gt;18&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451c1493107637-19"&gt;19&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f77451c1493107637-1"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;dbms &lt;/span&gt;&lt;span class="crayon-st"&gt;is&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;None&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451c1493107637-2"&gt;    &lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;injection&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;dbms &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PAYLOAD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;TECHNIQUE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-t"&gt;BOOLEAN&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;injection&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;data&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451c1493107637-3"&gt;        &lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;Backend&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getIdentifiedDbms&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;heuristicDbms &lt;/span&gt;&lt;span class="crayon-st"&gt;is&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451c1493107637-4"&gt;            &lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;heuristicDbms&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;heuristicCheckDbms&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;injection&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451c1493107637-5"&gt;    &lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;reduceTests &lt;/span&gt;&lt;span class="crayon-st"&gt;is&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;None &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;testFilter &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e"&gt;intersect&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;Backend&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getErrorParsedDBMSes&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;\&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451c1493107637-6"&gt;       &lt;span class="crayon-v"&gt;SUPPORTED_DBMS&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;heuristicDbms &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;injection&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;dbms&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451c1493107637-7"&gt;        &lt;span class="crayon-v"&gt;msg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"it looks like the back-end DBMS is '%s'. "&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;Format&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getErrorParsedDBMSes&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;heuristicDbms &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;injection&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;dbms&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451c1493107637-8"&gt;        &lt;span class="crayon-v"&gt;msg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"Do you want to skip test payloads specific for other DBMSes? [Y/n]"&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451c1493107637-9"&gt;        &lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;reduceTests&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;Backend&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getErrorParsedDBMSes&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;heuristicDbms&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;readInput&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;msg&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;default&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-s"&gt;'Y'&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;upper&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;'Y'&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451c1493107637-10"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;extendTests &lt;/span&gt;&lt;span class="crayon-st"&gt;is&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;None &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;testFilter &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;level&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;5&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;risk&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;3&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;\&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451c1493107637-11"&gt;   &lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e"&gt;intersect&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;Backend&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getErrorParsedDBMSes&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;SUPPORTED_DBMS&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;\&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451c1493107637-12"&gt;   &lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;heuristicDbms &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;injection&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;dbms&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451c1493107637-13"&gt;    &lt;span class="crayon-v"&gt;msg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"for the remaining tests, do you want to include all tests "&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451c1493107637-14"&gt;    &lt;span class="crayon-v"&gt;msg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"for '%s' extending provided "&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;Format&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getErrorParsedDBMSes&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;heuristicDbms &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;injection&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;dbms&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451c1493107637-15"&gt;    &lt;span class="crayon-v"&gt;msg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"level (%d)"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;level &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;level&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;5&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;""&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451c1493107637-16"&gt;    &lt;span class="crayon-v"&gt;msg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;" and "&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;level&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;5&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;risk&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;3&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;""&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451c1493107637-17"&gt;    &lt;span class="crayon-v"&gt;msg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"risk (%d)"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;risk &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;risk&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;3&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;""&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451c1493107637-18"&gt;    &lt;span class="crayon-v"&gt;msg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;" values? [Y/n]"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;level&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;5&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;risk&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;3&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;" value? [Y/n]"&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451c1493107637-19"&gt;    &lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;extendTests&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;Backend&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getErrorParsedDBMSes&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;heuristicDbms&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;readInput&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;msg&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;default&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-s"&gt;'Y'&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;upper&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;'Y'&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0134 seconds] --&gt;
&lt;p&gt;101行开始，这段代码主要是判断DBMS类型，首先，如果用户没有手工指定dbms，则会根据页面报错或者bool类型的测试，找出DBMS类型，找出后，会提示是否跳过测试其他的DBMS。然后，对于测试出来的DBMS，是否用所有的payload来测试。&lt;/p&gt;
&lt;p&gt;&lt;img class="" src="https://www.91ri.org/wp-content/uploads/auto_save_image/2015/07/132903DJt.jpg" alt="enter image description here" width="475" height="26" /&gt;&lt;/p&gt;
&lt;p&gt;140行if stype == PAYLOAD.TECHNIQUE.UNION:会判断是不是union注入，这个stype就是payload文件夹下面xml文件中的stype， 如果是union，就会进入，然后配置列的数量等，今天先介绍流程，union注入以后会介绍。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f77451ca092678902" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
if conf.tech and isinstance(conf.tech, list) and stype not in conf.tech:
                debugMsg = "skipping test '%s' because the user " % title
                debugMsg += "specified to test only for "
                debugMsg += "%s techniques" % " &amp;amp; ".join(map(lambda x: PAYLOAD.SQLINJECTION[x], conf.tech))
                logger.debug(debugMsg)
                continue&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451ca092678902-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451ca092678902-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451ca092678902-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451ca092678902-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451ca092678902-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451ca092678902-6"&gt;6&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f77451ca092678902-1"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;tech &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;isinstance&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;tech&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;list&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;stype &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;tech&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451ca092678902-2"&gt;                &lt;span class="crayon-v"&gt;debugMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"skipping test '%s' because the user "&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-i"&gt;title&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451ca092678902-3"&gt;                &lt;span class="crayon-v"&gt;debugMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"specified to test only for "&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451ca092678902-4"&gt;                &lt;span class="crayon-v"&gt;debugMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"%s techniques"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;" &amp;amp; "&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;join&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e"&gt;map&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-i"&gt;lambda&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;x&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PAYLOAD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;SQLINJECTION&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-v"&gt;x&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;tech&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451ca092678902-5"&gt;                &lt;span class="crayon-v"&gt;logger&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;debug&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;debugMsg&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451ca092678902-6"&gt;                &lt;span class="crayon-st"&gt;continue&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0030 seconds] --&gt;
&lt;p&gt;177行，就是用户提供的&amp;#8211;technique，共有六个选项BEUSTQ,但是现在很多文档，包括SQLMAP的官方文档都只给了BEUST的解释说明，少个inline_query，相当于查询语句中再加入一个查询语句。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f77451d1358539250" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
B: Boolean-based blind SQL injection（布尔型注入）
E: Error-based SQL injection（报错型注入）
U: UNION query SQL injection（可联合查询注入）
S: Stacked queries SQL injection（可多语句查询注入）
T: Time-based blind SQL injection（基于时间延迟注入）
Q: inline_query(内联查询)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451d1358539250-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451d1358539250-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451d1358539250-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451d1358539250-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451d1358539250-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451d1358539250-6"&gt;6&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f77451d1358539250-1"&gt;&lt;span class="crayon-v"&gt;B&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;Boolean&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-e"&gt;based &lt;/span&gt;&lt;span class="crayon-e"&gt;blind &lt;/span&gt;&lt;span class="crayon-e"&gt;SQL &lt;/span&gt;&lt;span class="crayon-i"&gt;injection&lt;/span&gt;（布尔型注入）&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451d1358539250-2"&gt;&lt;span class="crayon-v"&gt;E&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;Error&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-e"&gt;based &lt;/span&gt;&lt;span class="crayon-e"&gt;SQL &lt;/span&gt;&lt;span class="crayon-i"&gt;injection&lt;/span&gt;（报错型注入）&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451d1358539250-3"&gt;&lt;span class="crayon-v"&gt;U&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;UNION &lt;/span&gt;&lt;span class="crayon-e"&gt;query &lt;/span&gt;&lt;span class="crayon-e"&gt;SQL &lt;/span&gt;&lt;span class="crayon-i"&gt;injection&lt;/span&gt;（可联合查询注入）&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451d1358539250-4"&gt;&lt;span class="crayon-v"&gt;S&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;Stacked &lt;/span&gt;&lt;span class="crayon-e"&gt;queries &lt;/span&gt;&lt;span class="crayon-e"&gt;SQL &lt;/span&gt;&lt;span class="crayon-i"&gt;injection&lt;/span&gt;（可多语句查询注入）&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451d1358539250-5"&gt;&lt;span class="crayon-v"&gt;T&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;Time&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-e"&gt;based &lt;/span&gt;&lt;span class="crayon-e"&gt;blind &lt;/span&gt;&lt;span class="crayon-e"&gt;SQL &lt;/span&gt;&lt;span class="crayon-i"&gt;injection&lt;/span&gt;（基于时间延迟注入）&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451d1358539250-6"&gt;&lt;span class="crayon-v"&gt;Q&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;inline_query&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;内联查询&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0021 seconds] --&gt;
&lt;p&gt;接下来，就是生成payload的过程。288行：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f77451d8073690926" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
fstPayload = agent.cleanupPayload(test.request.payload, origValue=value if place not in (PLACE.URI, PLACE.CUSTOM_POST, PLACE.CUSTOM_HEADER) else None)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451d8073690926-1"&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f77451d8073690926-1"&gt;&lt;span class="crayon-v"&gt;fstPayload&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;agent&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;cleanupPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;test&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;request&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;payload&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;origValue&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-e"&gt;value &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;place &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;PLACE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;URI&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PLACE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;CUSTOM_POST&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PLACE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;CUSTOM_HEADER&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;None&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0015 seconds] --&gt;
&lt;p&gt;test.request.payload为&amp;#8217;AND [RANDNUM]=[RANDNUM]'(相应payload.xml中的request值)。根据此代码，生成一个随机字符串，如fstPayload=u&amp;#8217;AND 2876=2876&amp;#8217;。&lt;br /&gt;
302行：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f77451de597781371" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
for boundary in boundaries:
     injectable = False
     if boundary.level &amp;gt; conf.level and not (kb.extendTests and intersect(payloadDbms, kb.extendTests, True)):
                    continue&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451de597781371-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451de597781371-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451de597781371-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451de597781371-4"&gt;4&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f77451de597781371-1"&gt;&lt;span class="crayon-st"&gt;for&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;boundary &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;boundaries&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451de597781371-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class="crayon-v"&gt;injectable&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451de597781371-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;boundary&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;level&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;level &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;extendTests &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;intersect&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;payloadDbms&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;extendTests&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451de597781371-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;continue&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0018 seconds] --&gt;
&lt;p&gt;循环遍历boundaries.xml中的boundary节点，如果boundary的level大于用户提供的level，则跳过，不检测。&lt;br /&gt;
307行：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f77451e4498688219" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
clauseMatch = False
for clauseTest in test.clause:    
     if clauseTest in boundary.clause:  
         clauseMatch = True
         break
if test.clause != [0] and boundary.clause != [0] and not clauseMatch:
     continue
whereMatch = False
for where in test.where:
     if where in boundary.where:
         whereMatch = True
         break
if not whereMatch:
     continue&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451e4498688219-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451e4498688219-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451e4498688219-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451e4498688219-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451e4498688219-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451e4498688219-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451e4498688219-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451e4498688219-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451e4498688219-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451e4498688219-10"&gt;10&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451e4498688219-11"&gt;11&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451e4498688219-12"&gt;12&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451e4498688219-13"&gt;13&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451e4498688219-14"&gt;14&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f77451e4498688219-1"&gt;&lt;span class="crayon-v"&gt;clauseMatch&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451e4498688219-2"&gt;&lt;span class="crayon-st"&gt;for&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;clauseTest &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;test&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;clause&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;    &lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451e4498688219-3"&gt;     &lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;clauseTest &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;boundary&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;clause&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;  &lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451e4498688219-4"&gt;         &lt;span class="crayon-v"&gt;clauseMatch&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451e4498688219-5"&gt;         &lt;span class="crayon-st"&gt;break&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451e4498688219-6"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;test&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;clause&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;!=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;0&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;boundary&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;clause&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;!=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;0&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;clauseMatch&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451e4498688219-7"&gt;     &lt;span class="crayon-st"&gt;continue&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451e4498688219-8"&gt;&lt;span class="crayon-v"&gt;whereMatch&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451e4498688219-9"&gt;&lt;span class="crayon-st"&gt;for&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;where &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;test&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451e4498688219-10"&gt;     &lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;where &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;boundary&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451e4498688219-11"&gt;         &lt;span class="crayon-v"&gt;whereMatch&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451e4498688219-12"&gt;         &lt;span class="crayon-st"&gt;break&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451e4498688219-13"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;whereMatch&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451e4498688219-14"&gt;     &lt;span class="crayon-st"&gt;continue&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0037 seconds] --&gt;
&lt;p&gt;首先，循环遍历test.clause(payload中的clause值)，如果clauseTest在boundary的clause中，则设置 clauseMatch = True，代表此条boundary可以使用。 接下来循环匹配where(payload中的where值)，如果存在这样的where，设置whereMatch = True。如果clause和where中的一个没有匹配成功，都会结束循环，进入下一个payload的测试。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f77451eb229081425" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
prefix = boundary.prefix if boundary.prefix else ""
suffix = boundary.suffix if boundary.suffix else ""
ptype = boundary.ptype
prefix = conf.prefix if conf.prefix is not None else prefix
suffix = conf.suffix if conf.suffix is not None else suffix
comment = None if conf.suffix is not None else comment&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451eb229081425-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451eb229081425-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451eb229081425-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451eb229081425-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451eb229081425-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451eb229081425-6"&gt;6&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f77451eb229081425-1"&gt;&lt;span class="crayon-v"&gt;prefix&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;boundary&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;prefix &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;boundary&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;prefix &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;""&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451eb229081425-2"&gt;&lt;span class="crayon-v"&gt;suffix&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;boundary&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;suffix &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;boundary&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;suffix &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;""&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451eb229081425-3"&gt;&lt;span class="crayon-v"&gt;ptype&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;boundary&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;ptype&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451eb229081425-4"&gt;&lt;span class="crayon-v"&gt;prefix&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;prefix &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;prefix &lt;/span&gt;&lt;span class="crayon-st"&gt;is&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;None &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;prefix&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451eb229081425-5"&gt;&lt;span class="crayon-v"&gt;suffix&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;suffix &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;suffix &lt;/span&gt;&lt;span class="crayon-st"&gt;is&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;None &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;suffix&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451eb229081425-6"&gt;&lt;span class="crayon-v"&gt;comment&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;None &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;suffix &lt;/span&gt;&lt;span class="crayon-st"&gt;is&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;None &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;comment&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0032 seconds] --&gt;
&lt;p&gt;上面是设置payload的前缀和后缀，如果用户设置了，则使用用户设置的，如果没有，则使用boundary中的。&lt;br /&gt;
352行：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f77451f2648099966" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
for where in test.where:
    if where == PAYLOAD.WHERE.ORIGINAL or conf.prefix:
        ......
    elif where == PAYLOAD.WHERE.NEGATIVE:
        ......
    elif where == PAYLOAD.WHERE.REPLACE:
        ......&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451f2648099966-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451f2648099966-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451f2648099966-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451f2648099966-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451f2648099966-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451f2648099966-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451f2648099966-7"&gt;7&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f77451f2648099966-1"&gt;&lt;span class="crayon-st"&gt;for&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;where &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;test&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451f2648099966-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PAYLOAD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;WHERE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;ORIGINAL &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;prefix&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451f2648099966-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451f2648099966-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;elif &lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PAYLOAD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;WHERE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;NEGATIVE&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451f2648099966-5"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451f2648099966-6"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;elif &lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PAYLOAD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;WHERE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;REPLACE&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451f2648099966-7"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0022 seconds] --&gt;
&lt;p&gt;这里的where是payload中的where值，共有三个值，where字段我理解的意思是，以什么样的方式将我们的payload添加进去。&lt;/p&gt;
&lt;p&gt;1：表示将我们的payload直接添加在值得后面[此处指的应该是检测的参数的值] 如我们写的参数是id=1，设置值为1的话，会出现1后面跟payload&lt;/p&gt;
&lt;p&gt;2：表示将检测的参数的值更换为一个整数，然后将payload添加在这个整数的后面。 如我们写的参数是id=1，设置值为2的话，会出现[数字]后面跟payload&lt;/p&gt;
&lt;p&gt;3：表示将检测的参数的值直接更换成我们的payload。 如我们写的参数是id=1，设置值为3的话，会出现值1直接被替换成了我们的payload。&lt;br /&gt;
最终在389行：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f77451f9014267013" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
boundPayload = agent.prefixQuery(fstPayload, prefix, where, clause)
boundPayload = agent.suffixQuery(boundPayload, comment, suffix, where)
reqPayload = agent.payload(place, parameter, newValue=boundPayload, where=where)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451f9014267013-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f77451f9014267013-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f77451f9014267013-3"&gt;3&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f77451f9014267013-1"&gt;&lt;span class="crayon-v"&gt;boundPayload&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;agent&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;prefixQuery&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;fstPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;prefix&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;clause&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f77451f9014267013-2"&gt;&lt;span class="crayon-v"&gt;boundPayload&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;agent&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;suffixQuery&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;boundPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;comment&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;suffix&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f77451f9014267013-3"&gt;&lt;span class="crayon-v"&gt;reqPayload&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;agent&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;payload&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;parameter&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;newValue&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-v"&gt;boundPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0022 seconds] --&gt;
&lt;p&gt;组合前缀、后缀、payload等，生成请求的reqPayload。&lt;br /&gt;
这其中有个cleanupPayload()函数，其实就是将一些值进行随机化。如下图，例如kb.chars.start,kb.chars.stop，这两个变量是在基于错误的注入时，随机产生的字符串。&lt;/p&gt;
&lt;p&gt;&lt;img class="" src="https://www.91ri.org/wp-content/uploads/auto_save_image/2015/07/133709lFM.jpg" alt="enter image description here" width="635" height="310" /&gt;&lt;/p&gt;
&lt;p&gt;在398行：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7745200639343252" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
for method, check in test.response.items():
    check = agent.cleanupPayload(check, origValue=value if place not in (PLACE.
URI, PLACE.CUSTOM_POST, PLACE.CUSTOM_HEADER) else None)      
    if method == PAYLOAD.METHOD.COMPARISON:     
        def genCmpPayload():
            sndPayload = agent.cleanupPayload(test.response.comparison, 
origValue=value if place not in (PLACE.URI, PLACE.CUSTOM_POST, 
PLACE.CUSTOM_HEADER) else None)
            boundPayload = agent.prefixQuery(sndPayload, prefix, where, clause)
            boundPayload = agent.suffixQuery(boundPayload, comment, suffix, 
where)
            cmpPayload = agent.payload(place, parameter, 
newValue=boundPayload, where=where)
            return cmpPayload
        kb.matchRatio = None
        kb.negativeLogic = (where == PAYLOAD.WHERE.NEGATIVE)
        Request.queryPage(genCmpPayload(), place, raise404=False)
        falsePage = threadData.lastComparisonPage or ""     
        trueResult = Request.queryPage(reqPayload, place, raise404=False)
        truePage = threadData.lastComparisonPage or ""      
        if trueResult:
            falseResult = Request.queryPage(genCmpPayload(), place, 
raise404=False)
            if not falseResult:
                infoMsg = "%s parameter '%s' seems to be '%s' injectable " % (
paramType, parameter, title)
                logger.info(infoMsg)
                injectable = True
        if not injectable and not any((conf.string, conf.notString, conf.
regexp)) and kb.pageStable:
            trueSet = set(extractTextTagContent(truePage))
            falseSet = set(extractTextTagContent(falsePage))
            candidates = filter(None, (_.strip() if _.strip() in (kb.
pageTemplate or "") and _.strip() not in falsePage and _.strip() 
not in threadData.lastComparisonHeaders else None for _ in (
trueSet - falseSet)))
            if candidates:
                conf.string = candidates[0]
                infoMsg = "%s parameter '%s' seems to be '%s' injectable (with 
--string=\"%s\")" % (paramType, parameter, title, repr(conf.
string).lstrip('u').strip("'"))
                logger.info(infoMsg)
                injectable = True
    elif method == PAYLOAD.METHOD.GREP:
        try:
            page, headers = Request.queryPage(reqPayload, place, content=True, 
raise404=False)
            output = extractRegexResult(check, page, re.DOTALL | re.
IGNORECASE) \
                    or extractRegexResult(check, listToStrValue( \
                    [headers[key] for key in headers.keys() if key.lower() !=
URI_HTTP_HEADER.lower()] \
                    if headers else None), re.DOTALL | re.IGNORECASE) \
                    or extractRegexResult(check, threadData.lastRedirectMsg[1] 
\
                    if threadData.lastRedirectMsg and threadData.
lastRedirectMsg[0] == \
                    threadData.lastRequestUID else None, re.DOTALL | re.
IGNORECASE)
            if output:
                result = output == "1"
                if result:
                    infoMsg = "%s parameter '%s' is '%s' injectable " % (
paramType, parameter, title)
                    logger.info(infoMsg)
                    injectable = True
        except SqlmapConnectionException, msg:
            debugMsg = "problem occurred most likely because the "
            debugMsg += "server hasn't recovered as expected from the "
            debugMsg += "error-based payload used ('%s')" % msg
            logger.debug(debugMsg)
    elif method == PAYLOAD.METHOD.TIME:
        trueResult = Request.queryPage(reqPayload, place, 
timeBasedCompare=True, raise404=False)
        if trueResult:
            # Confirm test's results
            trueResult = Request.queryPage(reqPayload, place, 
timeBasedCompare=True, raise404=False)
            if trueResult:
                infoMsg = "%s parameter '%s' seems to be '%s' injectable " % (
paramType, parameter, title)
                logger.info(infoMsg)
                injectable = True
    elif method == PAYLOAD.METHOD.UNION:
        configUnion(test.request.char, test.request.columns)
        if not Backend.getIdentifiedDbms():
            if kb.heuristicDbms is None:
                warnMsg = "using unescaped version of the test "
                warnMsg += "because of zero knowledge of the "
                warnMsg += "back-end DBMS. You can try to "
                warnMsg += "explicitly set it using option '--dbms'"
                singleTimeWarnMessage(warnMsg)
            else:
                Backend.forceDbms(kb.heuristicDbms)
        if unionExtended:
            infoMsg = "automatically extending ranges for UNION "
            infoMsg += "query injection technique tests as "
            infoMsg += "there is at least one other (potential) "
            infoMsg += "technique found"
            singleTimeLogMessage(infoMsg)
        reqPayload, vector = unionTest(comment, place, parameter, value, 
prefix, suffix)
        if isinstance(reqPayload, basestring):
            infoMsg = "%s parameter '%s' is '%s' injectable" % (paramType, 
parameter, title)
            logger.info(infoMsg)
            injectable = True
            # Overwrite 'where' because it can be set
            # by unionTest() directly
            where = vector[6]
    kb.previousMethod = method&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-10"&gt;10&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-11"&gt;11&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-12"&gt;12&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-13"&gt;13&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-14"&gt;14&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-15"&gt;15&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-16"&gt;16&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-17"&gt;17&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-18"&gt;18&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-19"&gt;19&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-20"&gt;20&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-21"&gt;21&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-22"&gt;22&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-23"&gt;23&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-24"&gt;24&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-25"&gt;25&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-26"&gt;26&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-27"&gt;27&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-28"&gt;28&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-29"&gt;29&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-30"&gt;30&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-31"&gt;31&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-32"&gt;32&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-33"&gt;33&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-34"&gt;34&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-35"&gt;35&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-36"&gt;36&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-37"&gt;37&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-38"&gt;38&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-39"&gt;39&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-40"&gt;40&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-41"&gt;41&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-42"&gt;42&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-43"&gt;43&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-44"&gt;44&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-45"&gt;45&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-46"&gt;46&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-47"&gt;47&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-48"&gt;48&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-49"&gt;49&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-50"&gt;50&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-51"&gt;51&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-52"&gt;52&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-53"&gt;53&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-54"&gt;54&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-55"&gt;55&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-56"&gt;56&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-57"&gt;57&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-58"&gt;58&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-59"&gt;59&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-60"&gt;60&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-61"&gt;61&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-62"&gt;62&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-63"&gt;63&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-64"&gt;64&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-65"&gt;65&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-66"&gt;66&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-67"&gt;67&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-68"&gt;68&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-69"&gt;69&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-70"&gt;70&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-71"&gt;71&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-72"&gt;72&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-73"&gt;73&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-74"&gt;74&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-75"&gt;75&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-76"&gt;76&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-77"&gt;77&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-78"&gt;78&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-79"&gt;79&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-80"&gt;80&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-81"&gt;81&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-82"&gt;82&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-83"&gt;83&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-84"&gt;84&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-85"&gt;85&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-86"&gt;86&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-87"&gt;87&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-88"&gt;88&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-89"&gt;89&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-90"&gt;90&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-91"&gt;91&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-92"&gt;92&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-93"&gt;93&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-94"&gt;94&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-95"&gt;95&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-96"&gt;96&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-97"&gt;97&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-98"&gt;98&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-99"&gt;99&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-100"&gt;100&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-101"&gt;101&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-102"&gt;102&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-103"&gt;103&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-104"&gt;104&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-105"&gt;105&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-106"&gt;106&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-107"&gt;107&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-108"&gt;108&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-109"&gt;109&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745200639343252-110"&gt;110&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745200639343252-111"&gt;111&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-1"&gt;&lt;span class="crayon-st"&gt;for&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;method&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;check &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;test&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;response&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;items&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;check&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;agent&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;cleanupPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;check&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;origValue&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-e"&gt;value &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;place &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;PLACE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-3"&gt;&lt;span class="crayon-v"&gt;URI&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PLACE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;CUSTOM_POST&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PLACE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;CUSTOM_HEADER&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;None&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;method&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PAYLOAD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;METHOD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;COMPARISON&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-5"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;def &lt;/span&gt;&lt;span class="crayon-e"&gt;genCmpPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-6"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;sndPayload&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;agent&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;cleanupPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;test&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;response&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;comparison&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-7"&gt;&lt;span class="crayon-v"&gt;origValue&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-e"&gt;value &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;place &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;PLACE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;URI&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PLACE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;CUSTOM_POST&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-8"&gt;&lt;span class="crayon-v"&gt;PLACE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;CUSTOM_HEADER&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;None&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-9"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;boundPayload&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;agent&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;prefixQuery&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;sndPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;prefix&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;clause&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-10"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;boundPayload&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;agent&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;suffixQuery&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;boundPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;comment&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;suffix&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-11"&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-12"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;cmpPayload&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;agent&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;payload&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;parameter&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-13"&gt;&lt;span class="crayon-v"&gt;newValue&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-v"&gt;boundPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-14"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;return&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;cmpPayload&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-15"&gt;&lt;span class="crayon-e"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;matchRatio&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;None&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-16"&gt;&lt;span class="crayon-e"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;negativeLogic&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PAYLOAD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;WHERE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;NEGATIVE&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-17"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;Request&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;queryPage&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e"&gt;genCmpPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;raise404&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-18"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;falsePage&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;threadData&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;lastComparisonPage &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;""&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-19"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;trueResult&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;Request&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;queryPage&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;reqPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;raise404&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-20"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;truePage&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;threadData&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;lastComparisonPage &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;""&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-21"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;trueResult&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-22"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;falseResult&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;Request&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;queryPage&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e"&gt;genCmpPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-23"&gt;&lt;span class="crayon-v"&gt;raise404&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-24"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;falseResult&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-25"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"%s parameter '%s' seems to be '%s' injectable "&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-26"&gt;&lt;span class="crayon-v"&gt;paramType&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;parameter&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;title&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-27"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;logger&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;info&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-28"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;injectable&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-29"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;injectable &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;any&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-t"&gt;string&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;notString&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-30"&gt;&lt;span class="crayon-v"&gt;regexp&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;pageStable&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-31"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;trueSet&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;set&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e"&gt;extractTextTagContent&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;truePage&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-32"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;falseSet&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;set&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e"&gt;extractTextTagContent&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;falsePage&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-33"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;candidates&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;filter&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;None&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;_&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;strip&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;_&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;strip&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-34"&gt;&lt;span class="crayon-e"&gt;pageTemplate &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;""&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;_&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;strip&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;falsePage &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;_&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;strip&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-35"&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;threadData&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;lastComparisonHeaders &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;None &lt;/span&gt;&lt;span class="crayon-st"&gt;for&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-i"&gt;_&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-36"&gt;&lt;span class="crayon-v"&gt;trueSet&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;falseSet&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-37"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;candidates&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-38"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-t"&gt;string&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;candidates&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;0&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-39"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"%s parameter '%s' seems to be '%s' injectable (with &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-40"&gt;&lt;span class="crayon-s"&gt;--string=\"%s\")"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;paramType&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;parameter&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;title&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;repr&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-41"&gt;&lt;span class="crayon-t"&gt;string&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;lstrip&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;'u'&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;strip&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;"'"&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-42"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;logger&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;info&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-43"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;injectable&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-44"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;elif &lt;/span&gt;&lt;span class="crayon-v"&gt;method&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PAYLOAD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;METHOD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;GREP&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-45"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;try&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-46"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;page&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;headers&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;Request&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;queryPage&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;reqPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;content&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-47"&gt;&lt;span class="crayon-v"&gt;raise404&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-48"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;output&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;extractRegexResult&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;check&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;page&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;re&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;DOTALL&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;|&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;re&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-49"&gt;&lt;span class="crayon-v"&gt;IGNORECASE&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;\&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-50"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;extractRegexResult&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;check&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;listToStrValue&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;\&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-51"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-v"&gt;headers&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-v"&gt;key&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;for&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;key &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;headers&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;keys&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;key&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;lower&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;!=&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-52"&gt;&lt;span class="crayon-v"&gt;URI_HTTP_HEADER&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;lower&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;\&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-53"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;headers &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;None&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;re&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;DOTALL&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;|&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;re&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;IGNORECASE&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;\&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-54"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;extractRegexResult&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;check&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;threadData&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;lastRedirectMsg&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;1&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-55"&gt;&lt;span class="crayon-sy"&gt;\&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-56"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;threadData&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;lastRedirectMsg &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;threadData&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-57"&gt;&lt;span class="crayon-v"&gt;lastRedirectMsg&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;0&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;\&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-58"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;threadData&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;lastRequestUID &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;None&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;re&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;DOTALL&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;|&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;re&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-59"&gt;&lt;span class="crayon-v"&gt;IGNORECASE&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-60"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;output&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-61"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;result&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;output&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"1"&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-62"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;result&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-63"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"%s parameter '%s' is '%s' injectable "&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-64"&gt;&lt;span class="crayon-v"&gt;paramType&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;parameter&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;title&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-65"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;logger&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;info&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-66"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;injectable&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-67"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;except &lt;/span&gt;&lt;span class="crayon-v"&gt;SqlmapConnectionException&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;msg&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-68"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;debugMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"problem occurred most likely because the "&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-69"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;debugMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"server hasn't recovered as expected from the "&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-70"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;debugMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"error-based payload used ('%s')"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;msg&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-71"&gt;&lt;span class="crayon-e"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;logger&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;debug&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;debugMsg&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-72"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;elif &lt;/span&gt;&lt;span class="crayon-v"&gt;method&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PAYLOAD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;METHOD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;TIME&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-73"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;trueResult&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;Request&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;queryPage&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;reqPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-74"&gt;&lt;span class="crayon-v"&gt;timeBasedCompare&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;raise404&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-75"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;trueResult&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-76"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-p"&gt;# Confirm test's results&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-77"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;trueResult&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;Request&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;queryPage&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;reqPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-78"&gt;&lt;span class="crayon-v"&gt;timeBasedCompare&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;raise404&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-79"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;trueResult&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-80"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"%s parameter '%s' seems to be '%s' injectable "&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-81"&gt;&lt;span class="crayon-v"&gt;paramType&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;parameter&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;title&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-82"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;logger&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;info&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-83"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;injectable&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-84"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;elif &lt;/span&gt;&lt;span class="crayon-v"&gt;method&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;==&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PAYLOAD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;METHOD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;UNION&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-85"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;configUnion&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;test&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;request&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-t"&gt;char&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;test&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;request&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;columns&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-86"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;Backend&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getIdentifiedDbms&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-87"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;heuristicDbms &lt;/span&gt;&lt;span class="crayon-st"&gt;is&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;None&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-88"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;warnMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"using unescaped version of the test "&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-89"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;warnMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"because of zero knowledge of the "&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-90"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;warnMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"back-end DBMS. You can try to "&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-91"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;warnMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"explicitly set it using option '--dbms'"&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-92"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;singleTimeWarnMessage&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;warnMsg&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-93"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-94"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;Backend&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;forceDbms&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;heuristicDbms&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-95"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;unionExtended&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-96"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"automatically extending ranges for UNION "&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-97"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"query injection technique tests as "&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-98"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"there is at least one other (potential) "&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-99"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"technique found"&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-100"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;singleTimeLogMessage&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-101"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;reqPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;vector&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;unionTest&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;comment&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;place&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;parameter&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;value&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-102"&gt;&lt;span class="crayon-v"&gt;prefix&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;suffix&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-103"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;isinstance&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;reqPayload&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;basestring&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-104"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"%s parameter '%s' is '%s' injectable"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;paramType&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-105"&gt;&lt;span class="crayon-v"&gt;parameter&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;title&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-106"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;logger&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;info&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;infoMsg&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-107"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;injectable&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-108"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-p"&gt;# Overwrite 'where' because it can be set&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-109"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-p"&gt;# by unionTest() directly&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745200639343252-110"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;vector&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;6&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745200639343252-111"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;previousMethod&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;method&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0354 seconds] --&gt;
&lt;p&gt;上面这部分代码非常多，通过for循环遍历payload中的标签，遍历的结果类似于&lt;/p&gt;
&lt;p&gt;&lt;img class="" src="https://www.91ri.org/wp-content/uploads/auto_save_image/2015/07/133709WRq.jpg" alt="enter image description here" width="487" height="336" /&gt;&lt;/p&gt;
&lt;p&gt;所以，上面的代码可以分为：&lt;/p&gt;
&lt;p&gt;1.method为PAYLOAD.METHOD.COMPARISON：bool类型盲注 2.method为PAYLOAD.METHOD.GREP：基于错误的sql注入 3.mehtod为PAYLOAD.METHOD.TIME：基于时间的盲注 4.method为PAYLOAD.METHOD.UNION：union联合查询&lt;/p&gt;
&lt;p&gt;请注意，上面这四种方法，和之前说的六种注入方法不是一个概念，这里的是payload中的response代码，而注入用的是request代码。通过比较request的结果和response的结果，确定是否可以注入。以后的文章会介绍怎么比较的。。&lt;br /&gt;
checkSqlInjectiond的关键部分就到这里了，后面就是把注入的数据保存起来。马上会介绍读取的时候。&lt;/p&gt;
&lt;h2&gt;&lt;span style="font-size: 18pt;"&gt;3.2.4 Payload生成条件&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;前面具体介绍了Payload的生成方法，这里再总结一下条件：&lt;/p&gt;
&lt;p&gt;1.sqlmap会实现读取payloads文件夹下xml文件中的每个test元素，然后循环遍历。&lt;/p&gt;
&lt;p&gt;2.此时还会遍历boundaries.xml文件。&lt;/p&gt;
&lt;p&gt;3.当且仅当某个boundary元素的where节点的值包含test元素where节点的值，clause节点的值包含test元素的clause节点的值，该boundary才能和当前的test匹配，从而进一步生成payload。&lt;/p&gt;
&lt;p&gt;4.where字段有三个值1：表示将我们的payload直接添加在值得后面[此处指的应该是检测的参数的值] 如我们写的参数是id=1，设置值为1的话，会出现1后面跟payload 2：表示将检测的参数的值更换为一个整数，然后将payload添加在这个整数的后面。 如我们写的参数是id=1，设置值为2的话，会出现[数字]后面跟payload 3：表示将检测的参数的值直接更换成我们的payload。 如我们写的参数是id=1，设置值为3的话，会出现值1直接被替换成了我们的payload&lt;/p&gt;
&lt;p&gt;5.最终的payload = url参数 + boundary.prefix+test.payload+boundary.suffix&lt;/p&gt;
&lt;h2&gt;&lt;span style="font-size: 18pt;"&gt;3.2.5 Action&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;在start()的617行是action()函数，位于Action.py中，此函数是判断用户提供的参数，然后提供相应的函数。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f774520f984909205" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
if conf.getDbs:
    conf.dumper.dbs(conf.dbmsHandler.getDbs())
if conf.getTables:
    conf.dumper.dbTables(conf.dbmsHandler.getTables())
if conf.commonTables:
    conf.dumper.dbTables(tableExists(paths.COMMON_TABLES))&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f774520f984909205-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f774520f984909205-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f774520f984909205-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f774520f984909205-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f774520f984909205-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f774520f984909205-6"&gt;6&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f774520f984909205-1"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;getDbs&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f774520f984909205-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;dumper&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;dbs&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;dbmsHandler&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getDbs&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f774520f984909205-3"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;getTables&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f774520f984909205-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;dumper&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;dbTables&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;dbmsHandler&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getTables&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f774520f984909205-5"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;commonTables&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f774520f984909205-6"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;dumper&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;dbTables&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e"&gt;tableExists&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;paths&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;COMMON_TABLES&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0020 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h2&gt;&lt;span style="font-size: 18pt;"&gt;3.2.6 HashDB&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;sqlmap注入的结果会保存在输出目录的session.sqlite文件汇总，此文件是sqlite数据库，可以使用SQLiteManager打开。&lt;br /&gt;
回到controller.py中的start函数。第602行&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7745216708291132" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
_saveToResultsFile()
_saveToHashDB()     
_showInjections()   
_selectInjection()&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745216708291132-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745216708291132-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745216708291132-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745216708291132-4"&gt;4&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7745216708291132-1"&gt;&lt;span class="crayon-e"&gt;_saveToResultsFile&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745216708291132-2"&gt;&lt;span class="crayon-e"&gt;_saveToHashDB&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745216708291132-3"&gt;&lt;span class="crayon-e"&gt;_showInjections&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745216708291132-4"&gt;&lt;span class="crayon-e"&gt;_selectInjection&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0007 seconds] --&gt;
&lt;p&gt;这四个函数的作用就是保存结果保存结果、保存session、显示注入结果，包括类型，payload等。&lt;br /&gt;
前面介绍过会判断testSqlInj的值，如果为True，代表没有测试过，会进入checkSqlInjection()函数，如果测试过，那么testSqlInj为false，就会跳过checkSqlInjection()。&lt;br /&gt;
比如我们选择&amp;#8211;current-db时，通过action()进入到conf.dumper.currentDb(conf.dbmsHandler.getCurrentDb())。进入到databases.py的getCurrentDb中。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f774521d594795973" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
query = queries[Backend.getIdentifiedDbms()].current_db.query&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f774521d594795973-1"&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f774521d594795973-1"&gt;&lt;span class="crayon-v"&gt;query&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;queries&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-v"&gt;Backend&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;getIdentifiedDbms&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;current_db&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;query&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0009 seconds] --&gt;
&lt;p&gt;这是获取相应的命令，比如mysql的命令是database().一直跟踪函数到use.py的346行&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7745223680389474" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
if not value and not abortedFlag:
    output = _oneShotUnionUse(expression, unpack)
    value = parseUnionPage(output)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745223680389474-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745223680389474-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745223680389474-3"&gt;3&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7745223680389474-1"&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;value &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;abortedFlag&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745223680389474-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;output&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;_oneShotUnionUse&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;expression&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;unpack&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745223680389474-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;value&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;parseUnionPage&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;output&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0011 seconds] --&gt;
&lt;p&gt;_onehotUninoUse就是读取session文件，获取已经注入过的数据，如果session中没有，代表没有请求过，则重新请求获取数据。output此时是获取的网页的源码。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7745229273451758" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
retVal = hashDBRetrieve("%s%s" % (conf.hexConvert, expression), checkConf=True)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745229273451758-1"&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7745229273451758-1"&gt;&lt;span class="crayon-v"&gt;retVal&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;hashDBRetrieve&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;"%s%s"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;hexConvert&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;expression&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;checkConf&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0011 seconds] --&gt;
&lt;p&gt;_onehotUninoUse的第一行，就是从session中获取数据，跟踪进hashdb.py的regrieve函数&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7745230843173620" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
def hashKey(key):
    key = key.encode(UNICODE_ENCODING) if isinstance(key, unicode) else repr(key)
    retVal = int(hashlib.md5(key).hexdigest()[:12], 16)     #注释：hash的算法，对应数据库中的id。md5后，转换为10进制，就是session中的id
    return retVal
def retrieve(self, key, unserialize=False):
    retVal = None
    if key and (self._write_cache or os.path.isfile(self.filepath)):
        hash_ = HashDB.hashKey(key)
        retVal = self._write_cache.get(hash_)
        if not retVal:      
            while True:
                try:
                    for row in self.cursor.execute("SELECT value FROM storage WHERE id=?", (hash_,)):
                        retVal = row[0]
                except sqlite3.OperationalError, ex:
                    if not "locked" in ex.message:
                        raise
                except sqlite3.DatabaseError, ex:
                    errMsg = "error occurred while accessing session file '%s' ('%s'). " % (self.filepath, ex)
                    errMsg += "If the problem persists please rerun with `--flush-session`"
                    raise SqlmapDataException, errMsg
                else:
                    break
    return retVal if not unserialize else unserializeObject(retVal)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745230843173620-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745230843173620-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745230843173620-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745230843173620-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745230843173620-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745230843173620-6"&gt;6&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745230843173620-7"&gt;7&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745230843173620-8"&gt;8&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745230843173620-9"&gt;9&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745230843173620-10"&gt;10&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745230843173620-11"&gt;11&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745230843173620-12"&gt;12&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745230843173620-13"&gt;13&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745230843173620-14"&gt;14&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745230843173620-15"&gt;15&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745230843173620-16"&gt;16&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745230843173620-17"&gt;17&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745230843173620-18"&gt;18&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745230843173620-19"&gt;19&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745230843173620-20"&gt;20&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745230843173620-21"&gt;21&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745230843173620-22"&gt;22&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745230843173620-23"&gt;23&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745230843173620-24"&gt;24&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7745230843173620-1"&gt;&lt;span class="crayon-e"&gt;def &lt;/span&gt;&lt;span class="crayon-e"&gt;hashKey&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;key&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745230843173620-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;key&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;key&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;encode&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;UNICODE_ENCODING&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;isinstance&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;key&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;unicode&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;repr&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;key&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745230843173620-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;retVal&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;int&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;hashlib&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;md5&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;key&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;hexdigest&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-cn"&gt;12&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;16&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class="crayon-p"&gt;#注释：hash的算法，对应数据库中的id。md5后，转换为10进制，就是session中的id&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745230843173620-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;return&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;retVal&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745230843173620-5"&gt;&lt;span class="crayon-e"&gt;def &lt;/span&gt;&lt;span class="crayon-e"&gt;retrieve&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-r"&gt;self&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;key&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;unserialize&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745230843173620-6"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;retVal&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;None&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745230843173620-7"&gt;&lt;span class="crayon-e"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;key &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-r"&gt;self&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;_write_cache &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;os&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;path&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;isfile&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-r"&gt;self&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;filepath&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745230843173620-8"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;hash_&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;HashDB&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;hashKey&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;key&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745230843173620-9"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;retVal&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-r"&gt;self&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;_write_cache&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;get&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;hash_&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745230843173620-10"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;retVal&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745230843173620-11"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;while&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-t"&gt;True&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745230843173620-12"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;try&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745230843173620-13"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;for&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;row &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-r"&gt;self&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;cursor&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;execute&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-s"&gt;"SELECT value FROM storage WHERE id=?"&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;hash_&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745230843173620-14"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;retVal&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;row&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;0&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745230843173620-15"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;except &lt;/span&gt;&lt;span class="crayon-v"&gt;sqlite3&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;OperationalError&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;ex&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745230843173620-16"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"locked"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;ex&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;message&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745230843173620-17"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;raise&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745230843173620-18"&gt;&lt;span class="crayon-e"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;except &lt;/span&gt;&lt;span class="crayon-v"&gt;sqlite3&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;DatabaseError&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;ex&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745230843173620-19"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;errMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"error occurred while accessing session file '%s' ('%s'). "&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-r"&gt;self&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;filepath&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;ex&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745230843173620-20"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;errMsg&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;+=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"If the problem persists please rerun with `--flush-session`"&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745230843173620-21"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-e"&gt;raise &lt;/span&gt;&lt;span class="crayon-v"&gt;SqlmapDataException&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;errMsg&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745230843173620-22"&gt;&lt;span class="crayon-e"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745230843173620-23"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;break&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745230843173620-24"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;return&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;retVal &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;unserialize &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;unserializeObject&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;retVal&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0082 seconds] --&gt;
&lt;p&gt;通过HashDB.hashKey()计算id，然后到session.sqlite中找记录，那么key是怎么生成的呢？&lt;br /&gt;
在common.py中有个hashDBRetrieve(),&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f7745237586672261" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
def hashDBRetrieve(key, unserialize=False, checkConf=False):
    _ = "%s%s%s" % (conf.url or "%s%s" % (conf.hostname, conf.port), key, HASHDB_MILESTONE_VALUE)
    retVal = conf.hashDB.retrieve(_, unserialize) if kb.resumeValues and not (checkConf and any((conf.flushSession, conf.freshQueries))) else None
    if not kb.inferenceMode and not kb.fileReadMode and any(_ in (retVal or "") for _ in (PARTIAL_VALUE_MARKER, PARTIAL_HEX_VALUE_MARKER)):
        retVal = None
    return retVal&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745237586672261-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745237586672261-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745237586672261-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745237586672261-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f7745237586672261-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f7745237586672261-6"&gt;6&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f7745237586672261-1"&gt;&lt;span class="crayon-e"&gt;def &lt;/span&gt;&lt;span class="crayon-e"&gt;hashDBRetrieve&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;key&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;unserialize&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;checkConf&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-t"&gt;False&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745237586672261-2"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;_&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"%s%s%s"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;url &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;"%s%s"&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;%&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;hostname&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;port&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;key&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;HASHDB_MILESTONE_VALUE&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745237586672261-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;retVal&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;hashDB&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;retrieve&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;_&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;unserialize&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;resumeValues &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e"&gt;checkConf &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;any&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;flushSession&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;freshQueries&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;None&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745237586672261-4"&gt;&lt;span class="crayon-e"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;inferenceMode &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;fileReadMode &lt;/span&gt;&lt;span class="crayon-st"&gt;and&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;any&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-i"&gt;_&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-e"&gt;retVal &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-s"&gt;""&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;for&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-i"&gt;_&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;in&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;PARTIAL_VALUE_MARKER&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PARTIAL_HEX_VALUE_MARKER&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f7745237586672261-5"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;retVal&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;None&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f7745237586672261-6"&gt;&lt;span class="crayon-e"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-st"&gt;return&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;retVal&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0046 seconds] --&gt;
&lt;p&gt;此函数用于生成hash的key，生成方法为url+&amp;#8217;None&amp;#8217;+命令+HASHDB_MILESTONE_VALUE,比如 u&amp;#8217;http://127.0.0.1:80/biweb/archives /detail.phpNoneDATABASE()JHjrBugdDA&amp;#8217;。此key经过 int(hashlib.md5(key).hexdigest()[:12], 16)，就是对应session中的id&lt;/p&gt;
&lt;p&gt;&lt;img class="" src="https://www.91ri.org/wp-content/uploads/auto_save_image/2015/07/134102r25.jpg" alt="enter image description here" width="540" height="81" /&gt;&lt;/p&gt;
&lt;p&gt;最终在session.sqlite中根据id，就能够找到记录。&lt;/p&gt;
&lt;p&gt;&lt;img class="" src="https://www.91ri.org/wp-content/uploads/auto_save_image/2015/07/134102WiT.jpg" alt="enter image description here" width="604" height="182" /&gt;&lt;/p&gt;
&lt;p&gt;如上图，获取到的记录其实就是一个网页的源代码，另外可以看到current-db的前后有几个字符串，这个字符串就是kb.chars.start和kb.chars.stop&lt;br /&gt;
回到_oneShotUnionUse中，如果session中没有记录，则会重新进行请求，获取数据&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f774523f668040442" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
vector = kb.injection.data[PAYLOAD.TECHNIQUE.UNION].vector
        kb.unionDuplicates = vector[7]
        kb.forcePartialUnion = vector[8]
        query = agent.forgeUnionQuery(injExpression, vector[0], vector[1], vector[2], vector[3], vector[4], vector[5], vector[6], None, limited)    
        where = PAYLOAD.WHERE.NEGATIVE if conf.limitStart or conf.limitStop else vector[6]
        payload = agent.payload(newValue=query, where=where)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f774523f668040442-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f774523f668040442-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f774523f668040442-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f774523f668040442-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-55c05f774523f668040442-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f774523f668040442-6"&gt;6&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f774523f668040442-1"&gt;&lt;span class="crayon-v"&gt;vector&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;injection&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;data&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-v"&gt;PAYLOAD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;TECHNIQUE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;UNION&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;vector&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f774523f668040442-2"&gt;&lt;span class="crayon-e"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;unionDuplicates&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;vector&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;7&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f774523f668040442-3"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;kb&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;forcePartialUnion&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;vector&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;8&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f774523f668040442-4"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;query&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;agent&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;forgeUnionQuery&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;injExpression&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;vector&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;0&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;vector&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;1&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;vector&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;2&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;vector&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;3&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;vector&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;4&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;vector&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;5&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;vector&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;6&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;None&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;limited&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line" id="crayon-55c05f774523f668040442-5"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;PAYLOAD&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;WHERE&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;NEGATIVE &lt;/span&gt;&lt;span class="crayon-st"&gt;if&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;limitStart &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;conf&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;limitStop &lt;/span&gt;&lt;span class="crayon-st"&gt;else&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;vector&lt;/span&gt;&lt;span class="crayon-sy"&gt;[&lt;/span&gt;&lt;span class="crayon-cn"&gt;6&lt;/span&gt;&lt;span class="crayon-sy"&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f774523f668040442-6"&gt;&lt;span class="crayon-h"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="crayon-v"&gt;payload&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;agent&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-e"&gt;payload&lt;/span&gt;&lt;span class="crayon-sy"&gt;(&lt;/span&gt;&lt;span class="crayon-v"&gt;newValue&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-v"&gt;query&lt;/span&gt;&lt;span class="crayon-sy"&gt;,&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-o"&gt;=&lt;/span&gt;&lt;span class="crayon-v"&gt;where&lt;/span&gt;&lt;span class="crayon-sy"&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0049 seconds] --&gt;
&lt;p&gt;最终的值通过解析session中的记录value = parseUnionPage(output)，找到kb.chars.start和kb.chars.stop中间的值，就是结果。&lt;/p&gt;
&lt;h1&gt;&lt;span style="font-size: 24pt;"&gt;0x04 结束&lt;/span&gt;&lt;/h1&gt;
&lt;p&gt;还有很多东西没有写出来，希望后面的几篇文章能够写好。花了好久的时间，调试、码字，不知道又没有人能看到最后。。&lt;/p&gt;
&lt;p&gt;[via@drops:&lt;a href="http://drops.wooyun.org/tips/7301"&gt;3xpl0it&lt;/a&gt;]&lt;/p&gt;
							&lt;/section&gt;
							&lt;section class="single-post-share cf"&gt;
							&lt;div class="single-post-share-social"&gt;
								&lt;ul class="single-post-share-social__action"&gt;
									&lt;li&gt;
										&lt;a class="social-btn share-btn" href="javascript:void(0)"&gt;&lt;i class="icon icon-share"&gt;&lt;/i&gt; &lt;span&gt;&lt;/span&gt; &lt;/a&gt;
										&lt;div class="single-post-social__popup"&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13785.html&amp;title=SQLMAP源码分析Part1:流程篇" target="_blank" class="weibo"&gt;
										    &lt;i class="icon-social-weibo"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13785.html&amp;title=SQLMAP源码分析Part1:流程篇&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;
										    &lt;i class="icon-social-qq"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=twi&amp;url=https://www.91ri.org/13785.html&amp;title=SQLMAP源码分析Part1:流程篇&amp;key=" target="_blank" class="twitter"&gt;
										    &lt;i class="icon-social-twitter"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" target="_blank" class="evernote"&gt;
										    &lt;i class="icon-social-evernote"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=douban&amp;url=https://www.91ri.org/13785.html&amp;title=SQLMAP源码分析Part1:流程篇" target="_blank" class="douban"&gt;
										    &lt;i class="icon-social-douban"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=renren&amp;url=https://www.91ri.org/13785.html&amp;title=SQLMAP源码分析Part1:流程篇" target="_blank" class="renren"&gt;
										    &lt;i class="icon-social-renren"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										&lt;/div&gt;
									&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;div class="single-post-share-list"&gt;
								&lt;ul class="cf"&gt;
									&lt;li&gt;&lt;a href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13785.html&amp;title=SQLMAP源码分析Part1:流程篇" target="_blank" class="weibo"&gt;分享到微博&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="#panel-weixin" class="weixin overlay"&gt;分享到微信&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13785.html&amp;title=SQLMAP源码分析Part1:流程篇&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;分享到QQ&lt;/a&gt;&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;/section&gt;
																		&lt;/article&gt;</description><comments>https://www.91ri.org/13785.html#comments</comments><guid>https://www.91ri.org/13785.html8</guid><pubDate>Tue, 04 Aug 2015 17:41:38 GMT</pubDate></item><item><title>杂谈态势感知</title><link>https://www.91ri.org/13776.html</link><description>&lt;article class="single-post"&gt;
													&lt;section class="single-post-header"&gt;
								&lt;div class="single-post-header__headline"&gt;&lt;img src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/999.jpg" alt=""&gt;&lt;/div&gt;
								&lt;header class="single-post-header__meta"&gt;
									&lt;div class="single-post__postmeta"&gt; • 2015/07/25                    &lt;span style="float:right;color:#51aded;"&gt;作者: &lt;b&gt;Piz0n&lt;/b&gt;&lt;/span&gt;
                  &lt;/div&gt;
									&lt;h1 class="single-post__title"&gt;杂谈态势感知&lt;/h1&gt;
								&lt;/header&gt;
							&lt;/section&gt;
							&lt;section class="article"&gt;
								&lt;p&gt;&lt;span lang="zh-CN"&gt;【&lt;/span&gt;&lt;span lang="en-US"&gt;1&lt;/span&gt;&lt;span lang="zh-CN"&gt;】起源&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;态势感知是一个相当宽泛的概念，从前三四年开始接触，至今听到的模样可谓五花八门。期间一两年也曾因大家做到绝望而冷了一段时间，直到今年因威胁情报大热，所以大家觉得可以把态势感知拿出来加两个蛋重新炒一下，又能下一盘菜了。&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;据说态势感知的起源是在&lt;/span&gt;&lt;span lang="en-US"&gt;1995&lt;/span&gt;&lt;span lang="zh-CN"&gt;年，Mica R.Endsley的论文（《oward a Theory of &lt;/span&gt;&lt;span lang="zh-CN"&gt;Situation Awareness&lt;/span&gt;&lt;span lang="zh-CN"&gt; in Dynamic Systems》）中提到了“利用当前数据趋势预测未来事件”的思路，这一思路即使利用大规模的已有数据进行必要的关联计算和分析，形成未来态势的感知能力，从而进行预警。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;态势感知的概念可能如此，但类似于态势感知的场景应用一定远远早于这个时间。&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;至少，从华尔街的地位被确立之后，就一定有一群人在各种模型中导入历史数据，用于推测人们当前的经济活动，并尝试从中牟利。他们之所以这样做的原因并不难理解&lt;/span&gt;&lt;span lang="zh-CN"&gt;。对这些华尔街精英们来说，他们坚信&lt;/span&gt; &lt;span lang="zh-CN"&gt;——&lt;/span&gt; &lt;span lang="zh-CN"&gt;“&lt;/span&gt;&lt;span lang="zh-CN"&gt;人性是驱动历史重复的齿轮&lt;/span&gt;&lt;span lang="zh-CN"&gt;”。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;只要人性不变，历史就会不断的&lt;/span&gt; &lt;span lang="en-US"&gt;Repeat &lt;/span&gt;&lt;span lang="zh-CN"&gt;。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;【&lt;/span&gt;&lt;span lang="en-US"&gt;2&lt;/span&gt;&lt;span lang="zh-CN"&gt;】狭义理解&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;态势感知可理解的范围过于宽广，这里只说安全行业里对态势感知的狭义理解。&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;差不多的含义也就是&lt;/span&gt; &lt;span lang="zh-CN"&gt;——&lt;/span&gt; &lt;span lang="zh-CN"&gt;通过对历史事件的分析，并在掌控现有目标资产、业务和人员的前提下，跟踪和分析当前事件以实现对其走势的跟踪和提前防治。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;这不是什么标准概念，而是融合了我在这个行业里见过的很多态势感知概念的精髓。&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;【&lt;/span&gt;&lt;span lang="en-US"&gt;3&lt;/span&gt;&lt;span lang="zh-CN"&gt;】黑天鹅&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;最早欧洲人以为，天鹅都是白色的&lt;/span&gt; &lt;span lang="zh-CN"&gt;——&lt;/span&gt; &lt;span lang="zh-CN"&gt;你看，《天鹅湖》不也都是穿着白衣。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;直到那个月黑风高的杀人夜&lt;/span&gt; &lt;span lang="zh-CN"&gt;……&lt;/span&gt; &lt;span lang="zh-CN"&gt;一群绿色的光亮点在湖面飘逸着，走近才发现，原来是一群黑色的鸭子&lt;/span&gt; &lt;span lang="zh-CN"&gt;——&lt;/span&gt; &lt;span lang="zh-CN"&gt;哦不，黑色的天鹅。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;现在呢，黑天鹅就是指着市场上总是存在着不可预知的事情&lt;/span&gt; &lt;span lang="zh-CN"&gt;——&lt;/span&gt; &lt;span lang="zh-CN"&gt;多用于股票市场，比如，&lt;/span&gt;&lt;span lang="en-US"&gt;2015&lt;/span&gt;&lt;span lang="zh-CN"&gt;年中国牛市的绿色&lt;/span&gt;&lt;span lang="en-US"&gt;6&lt;/span&gt;&lt;span lang="zh-CN"&gt;月。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;所以这个词应该是对任何带有“感知”和“预测”字眼的最大打击和讽刺。因为不可预测的终究是难以预测的。&lt;/p&gt;
&lt;p&gt;这也是为什么大家都会说风险是不可消除只可降低的，因为黑天鹅无处不在。&lt;/p&gt;
&lt;p&gt;所以，任何感知系统不可不信，但也不可迷信。&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;【&lt;/span&gt;&lt;span lang="en-US"&gt;4&lt;/span&gt;&lt;span lang="zh-CN"&gt;】“态势”不是“事件”&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;“小李，隔壁老王趁你上班去你家了”——&lt;/span&gt; &lt;span lang="zh-CN"&gt;这是事件；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;“小李，我感觉隔壁老王看你老婆的眼神不太对，你要多关注”&lt;/span&gt; &lt;span lang="zh-CN"&gt;——&lt;/span&gt; &lt;span lang="zh-CN"&gt;这是态势；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;其实，想聊态势感知，路口右转找黄半仙最合适&lt;/span&gt; &lt;span lang="zh-CN"&gt;——&lt;/span&gt; &lt;span lang="zh-CN"&gt;大师们从来都会告诉你“&lt;/span&gt;&lt;span lang="en-US"&gt;10&lt;/span&gt;&lt;span lang="zh-CN"&gt;日之内定有血光之灾”，而不是告诉你“&lt;/span&gt;&lt;span lang="en-US"&gt;3&lt;/span&gt;&lt;span lang="zh-CN"&gt;天&lt;/span&gt;&lt;span lang="en-US"&gt;5&lt;/span&gt;&lt;span lang="zh-CN"&gt;小时&lt;/span&gt;&lt;span lang="en-US"&gt;27&lt;/span&gt;&lt;span lang="zh-CN"&gt;分之后，你家出门第二个红绿灯右转时，一辆时速&lt;/span&gt;&lt;span lang="en-US"&gt; 8km/&lt;/span&gt;&lt;span lang="zh-CN"&gt;小时&lt;/span&gt; &lt;span lang="zh-CN"&gt;的儿童三轮车正好撞上你的痔疮”。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;所以可以说，事件是必然性的结果，即便是预测事件也应该是精确度较高的一种推测&lt;/span&gt; &lt;span lang="zh-CN"&gt;——&lt;/span&gt; &lt;span lang="zh-CN"&gt;这更像是用数学公式推算出一个确定性的数字。而态势是趋势，加上感知两个字后那就是对趋势的预测。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;这就引发了很重要的一个怪异现状。&lt;/p&gt;
&lt;p&gt;很多宣称的态势感知，其所作的不是趋势分析和预测，而是对现有事件的告警和说明，这两者之间说远其实是很远的，说近，则很可能就是一层窗户纸。那么，这层窗户纸怎么破。&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;看看&lt;/span&gt;&lt;span lang="en-US"&gt;Google&lt;/span&gt;&lt;span lang="zh-CN"&gt;的流感趋势预测。&lt;/span&gt;&lt;span lang="en-US"&gt;Google&lt;/span&gt;&lt;span lang="zh-CN"&gt;会先“&lt;/span&gt;&lt;span lang="zh-CN"&gt;发现&lt;/span&gt;&lt;span lang="zh-CN"&gt;”近期很多人在搜索流感相关关键词并标注他们的区域，根据区域的变化来“&lt;/span&gt;&lt;span lang="zh-CN"&gt;跟踪&lt;/span&gt;&lt;span lang="zh-CN"&gt;”流感的走向，加上不同州的人群分布情况以及历史上流感的可参考数据来“&lt;/span&gt;&lt;span lang="zh-CN"&gt;预测&lt;/span&gt;&lt;span lang="zh-CN"&gt;”将会受到流感影响的人数和持续时间等。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;实际上，可以看到，预测很可能是基于对所发现事实的跟踪，并辅以历史数据进行的推测。&lt;/p&gt;
&lt;p&gt;说到本行的话，应该就是这样：&lt;/p&gt;
&lt;p&gt;&lt;span lang="en-US"&gt;1&lt;/span&gt;&lt;span lang="zh-CN"&gt;、不要光告诉我哪个区域出现了多少次攻击；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="en-US"&gt;2&lt;/span&gt;&lt;span lang="zh-CN"&gt;、我更希望知道攻击的走势是如何（跟着技术走、还是跟着目标走、还是跟着敏感事件走？）；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="en-US"&gt;3&lt;/span&gt;&lt;span lang="zh-CN"&gt;、根据我们这个团队的历史响应情况来看，响应上会存在多少盲点以及无法及时跟进而导致的事件；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="en-US"&gt;4&lt;/span&gt;&lt;span lang="zh-CN"&gt;、这些导致的事件最可能发生在什么区域；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="en-US"&gt;5&lt;/span&gt;&lt;span lang="zh-CN"&gt;、最终的影响如何（历史上来看，挂了一片，下岗一堆等等）；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;以此，我会决定是否需要对攻击进行深度分析和跟踪，是否需要调配更多人员，是否需要在哪些区域提前部署力量等等。&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;【&lt;/span&gt;&lt;span lang="en-US"&gt;5&lt;/span&gt;&lt;span lang="zh-CN"&gt;】“态势”与“情报”&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;情报是一种基于公开或非公开信息的必然性较高的预测。&lt;/p&gt;
&lt;p&gt;古代战神汉尼拔便是情报大师，他所被人津津乐道的坎尼会战实际上只是兵法上的胜利。&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;其实在坎尼会战之前发生的特拉西梅诺湖之战，才是利用双方信息不对称及战法结合的经典战役，汉尼拔不但提前调查了地形、预测了气候而且还巧妙的躲过了罗马人的侦查，并一举拿下&lt;/span&gt;&lt;span lang="en-US"&gt;3&lt;/span&gt;&lt;span lang="zh-CN"&gt;万多罗马兵。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;另外，还有更多关于情报的有趣案例，可能都和战争或多或少有些关系，可查看：【历史上有哪些通过公开的信息做出精彩情报分析的真实案例（&lt;a href="http://www.zhihu.com/question/29547695"&gt;http://www.zhihu.com/question/29547695&lt;/a&gt;）】。&lt;/p&gt;
&lt;p&gt;由这些实例可知，情报是用于辅助决策的半成品，而好的情报甚至可以直接用于决策。&lt;/p&gt;
&lt;p&gt;那最大的问题则在于，可感知到的态势是否可用于辅助决策或直接决策？&lt;/p&gt;
&lt;p&gt;这点实在就是“仁者见智、智者见仁”了。&lt;/p&gt;
&lt;p&gt;而在我看来，好的态势预测并非不能用于决策，例如上一章所说的例子就是一个比较贴切现实的仿真。&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;【&lt;/span&gt;&lt;span lang="en-US"&gt;6&lt;/span&gt;&lt;span lang="zh-CN"&gt;】自说自话的罗生门&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;态势感知与情报和事件不太一样的地方应该是&lt;/span&gt; &lt;span lang="zh-CN"&gt;——&lt;/span&gt; &lt;span lang="zh-CN"&gt;态势感知是反映趋势的、是动态的、可预测的，所以它需要更多的事件、更多的情报以及很多很多的历史数据才可以完成的。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;因为态势感知更需要通过大局来跟踪和决策，所以虽然都是决策，而态势感知更像是战略决策，情报更有可能是战术决策，必要的时候，战术是需要服从战略的。&lt;/p&gt;
&lt;p&gt;但是，一旦需要聚合多类、多条元素来完成一个态势的跟踪和分析，罗生门就不可避免。&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;《大数据时代》里已经给出了很多的例子，因为需要分析数据的基数庞大，加上噪声数据，很可能大家分析出来的结果是千差万别的&lt;/span&gt; &lt;span lang="zh-CN"&gt;——&lt;/span&gt; &lt;span lang="zh-CN"&gt;所有人都会向自己有利的方向去挖掘和分析。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;比如，&lt;/span&gt;&lt;span lang="en-US"&gt;2013&lt;/span&gt;&lt;span lang="zh-CN"&gt;年有一组数据&lt;/span&gt;&lt;/p&gt;
&lt;p lang="en-US"&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/640.png"&gt;&lt;img class="alignnone size-full wp-image-13783" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/640.png" alt="640" width="640" height="356" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p lang="en-US"&gt;&lt;span lang="zh-CN"&gt;（上图截取自我的某个&lt;/span&gt;&lt;span lang="en-US"&gt;PPT&lt;/span&gt;&lt;span lang="zh-CN"&gt;，看过的人看到我这个解读可能要大呼上当了，提前做好准备，颤抖吧，骚年～）&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;这里提取了&lt;/span&gt;&lt;span lang="en-US"&gt;61&lt;/span&gt;&lt;span lang="zh-CN"&gt;万个被黑网站及这些网站被挂上的被黑页面，然后按照被黑页面的特征进行分类，被黑页面相同或相似度极高的话，则认为这些黑页来自同一个黑客（或团队），那么，这算下来的话，&lt;/span&gt;&lt;span lang="en-US"&gt;61&lt;/span&gt;&lt;span lang="zh-CN"&gt;万个站点实际上只被挂上了&lt;/span&gt;&lt;span lang="en-US"&gt;6769&lt;/span&gt;&lt;span lang="zh-CN"&gt;个被黑页面（即，存在着一个黑页挂到很多个网站上的情况），然后根据这个数字来勾画出上面这样一张图&lt;/span&gt; &lt;span lang="zh-CN"&gt;——&lt;/span&gt; &lt;span lang="zh-CN"&gt;这张图里，横轴每个点代表了一个被黑页面，纵轴代表了这个被黑页面挂到了多少个被黑网站上面（因为整个数据图较大，所以这里只截取了部分）。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;这样还不够，如果这里我再划一条线，某一个黑客黑掉的网站少于&lt;/span&gt;&lt;span lang="en-US"&gt;3000&lt;/span&gt;&lt;span lang="zh-CN"&gt;个在线下，多于&lt;/span&gt;&lt;span lang="en-US"&gt;3000&lt;/span&gt;&lt;span lang="zh-CN"&gt;个则在线的上方，则得出两组数据：&lt;/span&gt;&lt;/p&gt;
&lt;ul class=" list-paddingleft-2" type="disc"&gt;
&lt;li&gt;&lt;span lang="en-US"&gt;6150&lt;/span&gt;&lt;span lang="zh-CN"&gt;个黑客黑掉了近&lt;/span&gt;&lt;span lang="en-US"&gt;7&lt;/span&gt;&lt;span lang="zh-CN"&gt;万个站点&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span lang="zh-CN"&gt;而&lt;/span&gt;&lt;span lang="en-US"&gt;619&lt;/span&gt;&lt;span lang="zh-CN"&gt;个黑客黑掉了&lt;/span&gt;&lt;span lang="en-US"&gt;54&lt;/span&gt;&lt;span lang="zh-CN"&gt;万个站点&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;接下来就有意思了，我可以有多种解读维度：&lt;/p&gt;
&lt;ul class=" list-paddingleft-2" type="disc"&gt;
&lt;li&gt;&lt;span lang="zh-CN"&gt;我可以说，少数的黑客干了更多的坏事（就好象巴莱特的&lt;/span&gt;&lt;span lang="en-US"&gt;2/8&lt;/span&gt;&lt;span lang="zh-CN"&gt;定律一样）；&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span lang="zh-CN"&gt;或者我说，勤奋的黑客很少，只有&lt;/span&gt;&lt;span lang="en-US"&gt;619&lt;/span&gt;&lt;span lang="zh-CN"&gt;个（这样就以“黑掉这些站很轻松，只是需要耗费体力而不是智力”为前提）&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span lang="zh-CN"&gt;我还能说，少数黑客发现了多数问题并吃了第一口蛋糕，而多数人只是&lt;/span&gt;&lt;span lang="en-US"&gt;script&lt;/span&gt;&lt;span lang="en-US"&gt; kids&lt;/span&gt;&lt;span lang="zh-CN"&gt;，只能拾人牙慧去搞那些“少数黑客”看不上的站（但实际上，那&lt;/span&gt;&lt;span lang="en-US"&gt;7&lt;/span&gt;&lt;span lang="zh-CN"&gt;网站站更有价值还是那&lt;/span&gt;&lt;span lang="en-US"&gt;54&lt;/span&gt;&lt;span lang="zh-CN"&gt;万网站更有价值，谁都不知道）&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span lang="zh-CN"&gt;还有一种性价比论，即，如果我掌握了那&lt;/span&gt;&lt;span lang="en-US"&gt;619&lt;/span&gt;&lt;span lang="zh-CN"&gt;个人的作战方法，恐怕我就可以避免&lt;/span&gt;&lt;span lang="en-US"&gt;88.5%&lt;/span&gt;&lt;span lang="zh-CN"&gt;（&lt;/span&gt;&lt;span lang="en-US"&gt;54&lt;/span&gt;&lt;span lang="zh-CN"&gt;万除以&lt;/span&gt;&lt;span lang="en-US"&gt;61&lt;/span&gt;&lt;span lang="zh-CN"&gt;万）被黑了，而处理&lt;/span&gt;&lt;span lang="en-US"&gt;619&lt;/span&gt;&lt;span lang="zh-CN"&gt;个的代价要远小于&lt;/span&gt;&lt;span lang="en-US"&gt;6150&lt;/span&gt;&lt;span lang="zh-CN"&gt;个（但实际上，这和上面一条是有潜在冲突的，如果&lt;/span&gt;&lt;span lang="en-US"&gt;619&lt;/span&gt;&lt;span lang="zh-CN"&gt;个黑客真的是高级黑的话，恐怕处理&lt;/span&gt;&lt;span lang="en-US"&gt;6150&lt;/span&gt;&lt;span lang="zh-CN"&gt;个的代价会更小一些）&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span lang="zh-CN"&gt;当然，更不要脸的说法就是&lt;/span&gt; &lt;span lang="zh-CN"&gt;——&lt;/span&gt; &lt;span lang="zh-CN"&gt;只有特么的屌丝黑客才会去黑站挂黑页，哈哈哈哈&lt;/span&gt; &lt;span lang="zh-CN"&gt;……&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;所以，造成这一切的根本是在于，任何单一的数字如果不能挖掘到底的话，都是非对称的、不公平的评价，所以，数据的分析和解读，应该遵循“一挖到底、挖无可挖”的地步，虽然这很难，但却可以在最大程度上说服自己，以及那些高级黑。&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;【&lt;/span&gt;&lt;span lang="en-US"&gt;7&lt;/span&gt;&lt;span lang="zh-CN"&gt;】还不是尾声&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;其实，很多分析和整体思路的构建上还有很多槽点和坑。&lt;/p&gt;
&lt;p&gt;&lt;span lang="zh-CN"&gt;但今天我是没有办法再一一列举出来了，有些东西我也还在持续研究，等我有了什么新的感悟后，再来继续吧&lt;/span&gt; &lt;span lang="zh-CN"&gt;～&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;[via@&lt;strong class="profile_nickname"&gt;&lt;a href="http://mp.weixin.qq.com/s?__biz=MzA3MTEwNDE1NA==&amp;amp;mid=210233142&amp;amp;idx=1&amp;amp;sn=14cb25421317ce740994df104c68082e&amp;amp;scene=2&amp;amp;from=timeline&amp;amp;isappinstalled=0#rd"&gt;Piz0n&lt;/a&gt;&lt;/strong&gt;]&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
							&lt;/section&gt;
							&lt;section class="single-post-share cf"&gt;
							&lt;div class="single-post-share-social"&gt;
								&lt;ul class="single-post-share-social__action"&gt;
									&lt;li&gt;
										&lt;a class="social-btn share-btn" href="javascript:void(0)"&gt;&lt;i class="icon icon-share"&gt;&lt;/i&gt; &lt;span&gt;&lt;/span&gt; &lt;/a&gt;
										&lt;div class="single-post-social__popup"&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13776.html&amp;title=杂谈态势感知" target="_blank" class="weibo"&gt;
										    &lt;i class="icon-social-weibo"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13776.html&amp;title=杂谈态势感知&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;
										    &lt;i class="icon-social-qq"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=twi&amp;url=https://www.91ri.org/13776.html&amp;title=杂谈态势感知&amp;key=" target="_blank" class="twitter"&gt;
										    &lt;i class="icon-social-twitter"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" target="_blank" class="evernote"&gt;
										    &lt;i class="icon-social-evernote"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=douban&amp;url=https://www.91ri.org/13776.html&amp;title=杂谈态势感知" target="_blank" class="douban"&gt;
										    &lt;i class="icon-social-douban"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=renren&amp;url=https://www.91ri.org/13776.html&amp;title=杂谈态势感知" target="_blank" class="renren"&gt;
										    &lt;i class="icon-social-renren"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										&lt;/div&gt;
									&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;div class="single-post-share-list"&gt;
								&lt;ul class="cf"&gt;
									&lt;li&gt;&lt;a href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13776.html&amp;title=杂谈态势感知" target="_blank" class="weibo"&gt;分享到微博&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="#panel-weixin" class="weixin overlay"&gt;分享到微信&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13776.html&amp;title=杂谈态势感知&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;分享到QQ&lt;/a&gt;&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;/section&gt;
																		&lt;/article&gt;</description><comments>https://www.91ri.org/13776.html#comments</comments><guid>https://www.91ri.org/13776.html9</guid><pubDate>Tue, 04 Aug 2015 17:41:25 GMT</pubDate></item><item><title>誓与AV抢宅男：我是个理直气壮的招聘广告</title><link>https://www.91ri.org/13781.html</link><description>&lt;article class="single-post"&gt;
													&lt;section class="single-post-header"&gt;
								&lt;div class="single-post-header__headline"&gt;&lt;img src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/15.jpg" alt=""&gt;&lt;/div&gt;
								&lt;header class="single-post-header__meta"&gt;
									&lt;div class="single-post__postmeta"&gt; • 2015/07/25                    &lt;span style="float:right;color:#51aded;"&gt;作者: &lt;b&gt;91Ri管理团队&lt;/b&gt;&lt;/span&gt;
                  &lt;/div&gt;
									&lt;h1 class="single-post__title"&gt;誓与AV抢宅男：我是个理直气壮的招聘广告&lt;/h1&gt;
								&lt;/header&gt;
							&lt;/section&gt;
							&lt;section class="article"&gt;
								&lt;p&gt;今天妹子要在这里亲情帮我大91ri的小伙伴（以及我的男神大Only和二哥，他们才是重点[/捂脸]）打个小小小小小的招聘广告。我也是今天才知道这个小伙伴竟然背着我偷偷去了这个真·神秘的团队，默默地接近了我的男神们的（小伙子，广告费什么就免了，记得帮我要签名照呀）。&lt;/p&gt;
&lt;p&gt;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;-我是萌萌哒分割线&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;-&lt;/p&gt;
&lt;p&gt;下面我们进入正题。（我知道你们很多人一定都看过了，但是乖，再来看一遍好不好~[/星星眼]）&lt;/p&gt;
&lt;p&gt;你听过only_guest，gainover吗？&lt;/p&gt;
&lt;p&gt;你听过PKAV吗？&lt;/p&gt;
&lt;p&gt;如果你都没听过，那你总听过AV吧~&lt;/p&gt;
&lt;p&gt;这是一个誓与AV抢宅男的神秘团队！&lt;/p&gt;
&lt;p&gt;少年，拿起你的鼠标，和我们一起拯救世界！&lt;/p&gt;
&lt;p&gt;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;-我是呆呆哒分割线&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;-&lt;/p&gt;
&lt;h2&gt;WEB前端工程师&lt;/h2&gt;
&lt;p&gt;薪酬 5～15k/月，发14～16个月/年&lt;/p&gt;
&lt;h3&gt;任职要求&lt;/h3&gt;
&lt;ol type="1"&gt;
&lt;li&gt;学历不限；&lt;/li&gt;
&lt;li&gt;工作经验不限；&lt;/li&gt;
&lt;li&gt;能熟练使用JQuery与Bootstrap等前端框架（其它框架亦可，但需熟练使用）；具有一定的手写HTML/CSS和JavaScript能力；&lt;/li&gt;
&lt;li&gt;了解knockoutjs、Backbonejs或其他MVVM结构开发框架；&lt;/li&gt;
&lt;li&gt;工作认真，注重细节，性格开朗、活泼，具有良好的团队合作精神和沟通能力。能够承担较大的工作压力。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;-我还是分割线&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;-&lt;/p&gt;
&lt;h2&gt;PHP开发工程师&lt;/h2&gt;
&lt;p&gt;薪酬 10～25k/月，发14～16个月/年&lt;/p&gt;
&lt;h3&gt;任职要求&lt;/h3&gt;
&lt;ol type="1"&gt;
&lt;li&gt;1年以上PHP项目实际开发经验，精通PHP，能熟练运用面向对象思想进行开发；&lt;/li&gt;
&lt;li&gt;精通一门主流PHP框架；&lt;/li&gt;
&lt;li&gt;精通HTML、XML、CSS、JavaScript、Ajax；&lt;/li&gt;
&lt;li&gt;有丰富的界面开发和设计布局经验，能独立完成前端界面的开发与设计；&lt;/li&gt;
&lt;li&gt;熟练掌握Mysql索引优化、查询优化和存储优化、PHP缓存、静态化等技术；&lt;/li&gt;
&lt;li&gt;有良好的代码习惯，要求结构清晰，命名规范，逻辑性强，代码冗余率低，有一定的用户需求分析能力；&lt;/li&gt;
&lt;li&gt;工作认真，注重细节，性格开朗、活泼，具有良好的团队合作精神和沟通能力。能够承担较大的工作压力。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;-我又是分割线&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;-&lt;/p&gt;
&lt;h2&gt;数据挖掘工程师&lt;/h2&gt;
&lt;p&gt;薪酬 10～25k/月，发14～16个月/年&lt;/p&gt;
&lt;h3&gt;任职要求&lt;/h3&gt;
&lt;ol type="1"&gt;
&lt;li&gt;了解计算机网络相关的知识，掌握数据库基本原理；&lt;/li&gt;
&lt;li&gt;熟悉常见的机器学习算法；&lt;/li&gt;
&lt;li&gt;熟悉算法模块分析工具与使用, 如Matlab, Python等；&lt;/li&gt;
&lt;li&gt;有大数据分析的相关经验，能从海量数据中进行特征匹配和关联分析，能独立完成算法选取与代码编写工作；&lt;/li&gt;
&lt;li&gt;有良好的代码习惯，要求结构清晰，命名规范，逻辑性强，代码冗余率低，有一定的用户需求分析能力；&lt;/li&gt;
&lt;li&gt;工作认真，注重细节，性格开朗、活泼，具有良好的团队合作精神和沟通能力。能够承担较大的工作压力。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;-我老是分割线&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;-&lt;/p&gt;
&lt;h2&gt;Android安全研究员&lt;/h2&gt;
&lt;p&gt;薪酬 10～25k/月，发14～16个月/年&lt;/p&gt;
&lt;h3&gt;职位描述&lt;/h3&gt;
&lt;p&gt;负责安卓平台的移动应用安全、系统安全研究，拓展团队移动安全业务，对移动应用进行渗透测试和调试逆向。&lt;/p&gt;
&lt;h3&gt;任职要求&lt;/h3&gt;
&lt;ol type="1"&gt;
&lt;li&gt;具备安卓app开发经验，要求熟练掌握SDK和NDK；&lt;/li&gt;
&lt;li&gt;掌握apktool、baksmali、dex2jar等app逆向工具，懂得smali语法、ARM指令；&lt;/li&gt;
&lt;li&gt;能够使用ida或gdb对app或二进制安卓可执行文件进行调试；&lt;/li&gt;
&lt;li&gt;了解ELF与dex文件格式；&lt;/li&gt;
&lt;li&gt;能够二次打包，对apk静态注入和动态注入代码，掌握Xposed或libinject等hook框架；&lt;/li&gt;
&lt;li&gt;掌握drozer等移动端渗透测试工具；&lt;/li&gt;
&lt;li&gt;能够修改并编译安卓系统源码，并生成镜像；&lt;/li&gt;
&lt;li&gt;对安卓系统安全机制有深刻理解，愿意献身投入挖掘系统漏洞；&lt;/li&gt;
&lt;li&gt;对逆向、阅读源码和提升技术实力充满激情。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;-我依旧是分割线&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;-&lt;/p&gt;
&lt;h2&gt;Web安全测试工程师&lt;/h2&gt;
&lt;p&gt;薪酬 10～25k/月，发14～16个月/年&lt;/p&gt;
&lt;h3&gt;职位描述&lt;/h3&gt;
&lt;p&gt;跟踪Web安全动态，研究前沿技术。&lt;/p&gt;
&lt;p&gt;参与Web安全测试、安全评估。&lt;/p&gt;
&lt;h3&gt;基本要求&lt;/h3&gt;
&lt;ol type="1"&gt;
&lt;li&gt;对信息安全有浓厚的兴趣，学习能力强，能快速掌握新技术；&lt;/li&gt;
&lt;li&gt;为人正直、诚恳，有上进心和责任心，学习能力强，沟通无障碍。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;任职要求&lt;/h3&gt;
&lt;ol type="1"&gt;
&lt;li&gt;1年以上工作经验，有良好的计算机基础，了解PHP、Mysql、Javascript、正则表达式；&lt;/li&gt;
&lt;li&gt;能独立发现常见的漏洞；&lt;/li&gt;
&lt;li&gt;具备一定的php/python/c/c#/nodejs开发能力。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;有下列相关经验者优先：&lt;/h3&gt;
&lt;ol type="1"&gt;
&lt;li&gt;会C/汇编/linux；&lt;/li&gt;
&lt;li&gt;有实习经验、项目经验或工作经验者优先。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;-还是我分割线&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;-&lt;/p&gt;
&lt;h2&gt;高级软件工程师&lt;/h2&gt;
&lt;p&gt;薪酬 10～25k/月，发14～16个月/年&lt;/p&gt;
&lt;h3&gt;任职要求&lt;/h3&gt;
&lt;ol type="1"&gt;
&lt;li&gt;熟悉编译原理，着重于词法分析、语法分析、中间代码生成以及代码生成中基本块和流图相关部分；&lt;/li&gt;
&lt;li&gt;至少熟练使用一门编程语言，并具有良好的编程习惯，编程语言不限；&lt;/li&gt;
&lt;li&gt;具有较好的沟通能力和团队合作精神；&lt;/li&gt;
&lt;li&gt;有实际项目经验者优先考虑。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;h3&gt;待遇丰厚 六险一金 节日福利 美女云集 团队和睦 环境舒适&lt;/h3&gt;
&lt;p&gt;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;-如果我是分割线你还爱我么&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&lt;/p&gt;
&lt;p&gt;我们的联系方式：&lt;/p&gt;
&lt;p&gt;5447055@qq.com&lt;/p&gt;
&lt;p&gt;工作地点：成都&lt;/p&gt;
&lt;p&gt;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&lt;/p&gt;
&lt;p&gt;少年，快来拯救世界！&lt;/p&gt;
&lt;p&gt;&lt;span style="font-size: 14pt;"&gt;&lt;strong&gt;91Ri小编语：&lt;/strong&gt;&lt;/span&gt;虽然并不知道美女云集是几个意思[/羞涩]，但是这真的是一个神秘神奇高大上的团队！今年有幸在乌云峰会上听了我大Only_Guest的演讲，不得不说大Only真的是个又有颜又会技术的段子手。跟段子手一起工作一定是非同一般的享受（那个偷偷跑去跟我两位男神一个团队的小伙子，放学我们俩聊聊！），有才有理想的小伙伴就快快报名吧，我现在要去收男神签名照了~&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
							&lt;/section&gt;
							&lt;section class="single-post-share cf"&gt;
							&lt;div class="single-post-share-social"&gt;
								&lt;ul class="single-post-share-social__action"&gt;
									&lt;li&gt;
										&lt;a class="social-btn share-btn" href="javascript:void(0)"&gt;&lt;i class="icon icon-share"&gt;&lt;/i&gt; &lt;span&gt;&lt;/span&gt; &lt;/a&gt;
										&lt;div class="single-post-social__popup"&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13781.html&amp;title=誓与AV抢宅男：我是个理直气壮的招聘广告" target="_blank" class="weibo"&gt;
										    &lt;i class="icon-social-weibo"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13781.html&amp;title=誓与AV抢宅男：我是个理直气壮的招聘广告&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;
										    &lt;i class="icon-social-qq"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=twi&amp;url=https://www.91ri.org/13781.html&amp;title=誓与AV抢宅男：我是个理直气壮的招聘广告&amp;key=" target="_blank" class="twitter"&gt;
										    &lt;i class="icon-social-twitter"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" target="_blank" class="evernote"&gt;
										    &lt;i class="icon-social-evernote"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=douban&amp;url=https://www.91ri.org/13781.html&amp;title=誓与AV抢宅男：我是个理直气壮的招聘广告" target="_blank" class="douban"&gt;
										    &lt;i class="icon-social-douban"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=renren&amp;url=https://www.91ri.org/13781.html&amp;title=誓与AV抢宅男：我是个理直气壮的招聘广告" target="_blank" class="renren"&gt;
										    &lt;i class="icon-social-renren"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										&lt;/div&gt;
									&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;div class="single-post-share-list"&gt;
								&lt;ul class="cf"&gt;
									&lt;li&gt;&lt;a href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13781.html&amp;title=誓与AV抢宅男：我是个理直气壮的招聘广告" target="_blank" class="weibo"&gt;分享到微博&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="#panel-weixin" class="weixin overlay"&gt;分享到微信&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13781.html&amp;title=誓与AV抢宅男：我是个理直气壮的招聘广告&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;分享到QQ&lt;/a&gt;&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;/section&gt;
																		&lt;/article&gt;</description><comments>https://www.91ri.org/13781.html#comments</comments><guid>https://www.91ri.org/13781.html10</guid><pubDate>Tue, 04 Aug 2015 17:41:22 GMT</pubDate></item><item><title>威胁情报-知彼</title><link>https://www.91ri.org/13752.html</link><description>&lt;article class="single-post"&gt;
													&lt;section class="single-post-header"&gt;
								&lt;div class="single-post-header__headline"&gt;&lt;img src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/9999-1.jpg" alt=""&gt;&lt;/div&gt;
								&lt;header class="single-post-header__meta"&gt;
									&lt;div class="single-post__postmeta"&gt; • 2015/07/22                    &lt;span style="float:right;color:#51aded;"&gt;作者: &lt;b&gt;网安志异&lt;/b&gt;&lt;/span&gt;
                  &lt;/div&gt;
									&lt;h1 class="single-post__title"&gt;威胁情报-知彼&lt;/h1&gt;
								&lt;/header&gt;
							&lt;/section&gt;
							&lt;section class="article"&gt;
								&lt;p&gt;“威胁情报”(Threat Intelligence/TI)这个词准确地说是今年(2015)才高热起来的。下图来自CERT-UK的一份报告(0)，显示了&amp;#8221;Threat Intelligence&amp;#8221;在Google上搜索的结果数量，2014年是76,000个结果。现在，2015年7月18日，这个数字达到658,000，超过下图这些年度数字的总和。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/11111.jpg"&gt;&lt;img class="alignnone  wp-image-13763" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/11111.jpg" alt="11111" width="458" height="256" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Bruce Schneier说他花了好几年的时间才接受APT（高级持续性威胁）这个流行词，因为他认为APT强调了某种特定的网络攻击者的重要特征，这很有价值。“威胁情报”这个词可能也具备这样的特点，它表明了当前攻防形势下的当务之急是：研究攻击，产生情报，交换共享，驱动防御。&lt;/p&gt;
&lt;p&gt;“威胁”本身不是新词，是在风险评估中必须考虑的一个因素，有明确的定义。《GB/T20984-2007 信息安全风险评估规范》中定义的威胁是：可能导致对系统或组织危害的不希望事故潜在起因。&lt;/p&gt;
&lt;p&gt;这个标准中，风险评估的核心思路是：IT组织的资产存在价值，各种威胁觊觎其价值，意图利用其脆弱性对其进行攻击获利，这会引发安全事件，是组织面临的风险。知道了风险，也就明确了安全需求，从而可以采取针对性的安全措施，抵御威胁，降低风险。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/2222222.jpg"&gt;&lt;img class="alignnone  wp-image-13764" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/2222222.jpg" alt="2222222" width="430" height="369" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这是典型的风险评估，由于不掌握威胁具体的情况，无针对性，所以只能泛泛而论，描述威胁时都是用“可能的”，“潜在的”这些字眼来修饰，实际上就是不知道。“威胁情报”的横空出世，正是为了使这些“可能”和“潜在”变得具体和可知，从而指导行动。&lt;/p&gt;
&lt;p&gt;如果说评估脆弱性是“知己”的过程，那么威胁情报则是“知彼”的利器。“知己知彼”，然后能针对性部署安全措施，抵御攻击，百战不殆。传统的风险评估只侧重“知己”的部分，在攻击手段相对固定的年代，保护好自己的弱点基本可以立于不败之地。但如今攻防形势已经大不相同，攻击手段快速演进，APT大行其道，仅从“知己”入手考虑防御措施，效果大不如前。风险评估报告现在总给人没太大参考意义的感觉，就是这个原因。&lt;/p&gt;
&lt;p&gt;如果你是单位的网络安全负责人，刚刚上任时，对于本单位的安全状况会处于Unknown unknowns的状态，即完全没概念，连自己该了解什么情况、掌握什么信息都不知道。然后，通过对本单位的IT设施进行全面的脆弱性评估，你会达到Known unknowns的状态，清楚了自身的情况，但也明白，有些该掌握情况自己还不掌握，所以安全状况到底如何，心里还是没数。理想的威胁情报，能够让你达到Known knowns的状态——不但知道本单位存在什么容易被攻击的弱点，还知道攻击者的动机和手段，知道如何部署防御措施，知道如何检测攻击，攻击会造成何种影响，该如何响应攻击事件等。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/5665-1.jpg"&gt;&lt;img class="alignnone  wp-image-13765" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/5665-1.jpg" alt="3(1)" width="359" height="223" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;大潘最近提了个信息安全人才南北向的说法，很有意思，可惜只听过转述过来的片言只语，没听亲耳聆听过，所以可能理解的不对。是不是可以这么说——北向人才盖房子，树栅栏，从建设和防御的角度考虑问题；南向人才挖漏洞，做渗透，从破坏的角度考虑问题。那么对于威胁情报来说，就是由北边提出需求，南边收集数据，通过分析获取信息，根据信息生产情报，交给北边使用，使用过后，北边给出评估，然后继续提出新的需求。这是威胁情报的一个循环。借北向南向这种有趣的概念发挥一下，说明一些威胁情报有关的概念，可能与“南北向”的原意不符。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/pulqgnls6q7mbbsfv1kepmtrh6v3uir0-1.jpg"&gt;&lt;img class="alignnone  wp-image-13766" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/pulqgnls6q7mbbsfv1kepmtrh6v3uir0-1.jpg" alt="4(1)" width="340" height="331" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;CERT-UK的报告中将威胁情报分为两个维度四个象限。层次维度上，低层次的是技术的和战术的，高层次的是业务的和战略的；期限维度上，短期内是技术的和业务的，长期内是战略的和战术的。这是一种比较细的分类方法，一般只分战略的和战术的两种，其中，战术性的威胁情报可能最广为接受的威胁情报概念。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/333333.jpg"&gt;&lt;img class="alignnone  wp-image-13767" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/333333.jpg" alt="5" width="319" height="326" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;战术性的威胁情报应该是结构化的信息，便于计算机读取和处理，可以快速、甚至自动地应用于防御行动。Gartner的威胁情报定义也强调可行动(Actionable)。同时作为情报，还应该形成标准，便于交换和共享，在产业内实现专业化分工，提高效率，形成供应链；IT系统的安全负责人作为情报的消费者，也能够快速从外部渠道获取相关情报，感知相关威胁，实现积极防御。这都需要实现威胁情报的标准化。&lt;/p&gt;
&lt;p&gt;结构化威胁信息表达——STIX是威胁情报的一种标准格式(1)，其中包括的主要信息项有以下几类：&lt;/p&gt;
&lt;ul class=" list-paddingleft-2"&gt;
&lt;li&gt;可观测对象：文件名、注册表项、HTTP请求等结构化威胁信息的基本信息单位&lt;/li&gt;
&lt;li&gt;入侵指标IOC；特定的表明了入侵行为的可观测对象，如文件哈希，IP地址，域名，网络/主机标识，工具等&lt;/li&gt;
&lt;li&gt;TTPs：攻击者的战术，技术和过程&lt;/li&gt;
&lt;li&gt;利用目标；被定位用于攻击的系统脆弱性&lt;/li&gt;
&lt;li&gt;响应行动；旨在降低影响的安全事件响应&lt;/li&gt;
&lt;li&gt;攻击活动；抱着一定的目的发起的系列攻击&lt;/li&gt;
&lt;li&gt;威胁者：独立的黑客，无论水平高低；计算机犯罪组织；国家行为；内部人员等&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;从各类入侵指标到TTPs等信息项，攻击者对其进行更改的代价越大，作为情报的价值也越高。价值低到高的排序为：文件哈希，IP地址，域名，网络/主机标识信息（如浏览器User-Agent等），工具，TTPs。根据Mandiant公司著名的APT1报告产生的STIX格式的威胁情报XML文件近6万行，内容是结构化方式列出的APT1报告中的域名、MD5、数字证书、恶意软件文件名等信息(3)。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/6vutbk9fwg3ur7ywkgdtpdsgdznpn8mj-1.jpg"&gt;&lt;img class="alignnone  wp-image-13768" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/6vutbk9fwg3ur7ywkgdtpdsgdznpn8mj-1.jpg" alt="7(1)" width="400" height="234" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;STIX格式由美国国土安全部资助的Mitre公司提出，同时提出的还有一个交换机制TAXII，用来交换STIX格式的情报。从各方面来看，STIX/TAXII可能是最有前途的威胁情报标准。&lt;/p&gt;
&lt;p&gt;另外还有几个标准(2)。OpenIOC.org由Mandiant(属于FireEye)公司创建，它定义了一个XML格式，可以用来描述网络和主机上的恶意活动，包括文件哈希，进程信息项，注册表项，一组描述恶意代码行为的指标项，服务名或者文件名等。这种格式只能用专用工具生成和编辑，而工具只有Windows版本。OpenIOC.org不提供威胁情报交换机制，但其格式可嵌入STIX，通过TAXII进行传输交换。&lt;/p&gt;
&lt;p&gt;VERIS和IODEF是两个主要用于描述事件的标准，前者由电信运营商Verizon开发，支持JSON和XML两种格式，不提供传输机制，可映射至STIX格式；后者由RFC5070工作组开发，并提供一种称为RID的机制用来交换。IODEF格式可方便地转换为IP黑名单，Snort规则等入侵检测系统的特征签名。&lt;/p&gt;
&lt;p&gt;网络攻防是一场不折不扣的战争。两军对垒之时，你需要了解敌人是谁，哪些兵种，多少兵力，怎么部署，什么武器，由谁指挥，谋略如何，善用何种计谋，武将多少，战力如何，善用什么武器，后勤给养如何，后方形势如何，军内士气如何等等。网络攻防中，威胁从来一个一个都是具体的、真刀真枪的敌人。他们可能是一些脚本小子，可能是某个病毒，可能是无知的内部员工，可能是盯了很久的计算机犯罪组织，甚至有可能是某个国家行为主导下的力量。它们到底是谁，会对你的IT系统做什么，手法如何，这都是你需要了解的。&lt;/p&gt;
&lt;p&gt;防御者天然弱势，看不见对手，但要永远提防，不知道对手将在什么时候，将用什么手段来攻击。对手以逸待劳，只需要一次奏效的攻击就能得手。而你只能永远战战兢兢，如履薄冰。&lt;/p&gt;
&lt;p&gt;面对如此艰难的防御工作，何以解忧？唯有TI。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;(0)&lt;a href="http://www.cpni.gov.uk/Documents/Publications/2015/23-March-2015-MWR_Threat_Intelligence_whitepaper-2015.pdf"&gt;www.cpni.gov.uk/Documents/Publications/2015/23-March-2015-MWR_Threat_Intelligence_whitepaper-2015.pdf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;(1)&lt;a href="http://stixproject.github.io/getting-started/whitepaper/"&gt;http://stixproject.github.io/getting-started/whitepaper/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;(2)&lt;a href="http://www.cpni.gov.uk/Documents/Publications/2015/11-jUNE-2015-CONTEXT_CPNI_Threat_Intelligence_FINAL.pdf"&gt;www.cpni.gov.uk/Documents/Publications/2015/11-jUNE-2015-CONTEXT_CPNI_Threat_Intelligence_FINAL.pdf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;(3)&lt;a href="http://stixproject.github.io/examples/apt1-stix-1.2.zip"&gt;http://stixproject.github.io/examples/apt1-stix-1.2.zip&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[via@&lt;a href="http://mp.weixin.qq.com/s?__biz=MzAxNzYyNzMyNg==&amp;amp;mid=210702425&amp;amp;idx=1&amp;amp;sn=cf45a62a14606fc42c9ada275e67306d&amp;amp;scene=4#wechat_redirect"&gt;网安志异&lt;/a&gt;]&lt;/p&gt;
							&lt;/section&gt;
							&lt;section class="single-post-share cf"&gt;
							&lt;div class="single-post-share-social"&gt;
								&lt;ul class="single-post-share-social__action"&gt;
									&lt;li&gt;
										&lt;a class="social-btn share-btn" href="javascript:void(0)"&gt;&lt;i class="icon icon-share"&gt;&lt;/i&gt; &lt;span&gt;&lt;/span&gt; &lt;/a&gt;
										&lt;div class="single-post-social__popup"&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13752.html&amp;title=威胁情报-知彼" target="_blank" class="weibo"&gt;
										    &lt;i class="icon-social-weibo"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13752.html&amp;title=威胁情报-知彼&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;
										    &lt;i class="icon-social-qq"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=twi&amp;url=https://www.91ri.org/13752.html&amp;title=威胁情报-知彼&amp;key=" target="_blank" class="twitter"&gt;
										    &lt;i class="icon-social-twitter"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" target="_blank" class="evernote"&gt;
										    &lt;i class="icon-social-evernote"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=douban&amp;url=https://www.91ri.org/13752.html&amp;title=威胁情报-知彼" target="_blank" class="douban"&gt;
										    &lt;i class="icon-social-douban"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=renren&amp;url=https://www.91ri.org/13752.html&amp;title=威胁情报-知彼" target="_blank" class="renren"&gt;
										    &lt;i class="icon-social-renren"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										&lt;/div&gt;
									&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;div class="single-post-share-list"&gt;
								&lt;ul class="cf"&gt;
									&lt;li&gt;&lt;a href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13752.html&amp;title=威胁情报-知彼" target="_blank" class="weibo"&gt;分享到微博&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="#panel-weixin" class="weixin overlay"&gt;分享到微信&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13752.html&amp;title=威胁情报-知彼&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;分享到QQ&lt;/a&gt;&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;/section&gt;
																		&lt;/article&gt;</description><comments>https://www.91ri.org/13752.html#comments</comments><guid>https://www.91ri.org/13752.html11</guid><pubDate>Tue, 04 Aug 2015 17:41:18 GMT</pubDate></item><item><title>SSH端口中转全攻略_基础篇</title><link>https://www.91ri.org/13679.html</link><description>&lt;article class="single-post"&gt;
													&lt;section class="single-post-header"&gt;
								&lt;div class="single-post-header__headline"&gt;&lt;img src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/640.jpg" alt=""&gt;&lt;/div&gt;
								&lt;header class="single-post-header__meta"&gt;
									&lt;div class="single-post__postmeta"&gt; • 2015/07/21                    &lt;span style="float:right;color:#51aded;"&gt;作者: &lt;b&gt;月巴_又鸟&lt;/b&gt;&lt;/span&gt;
                  &lt;/div&gt;
									&lt;h1 class="single-post__title"&gt;SSH端口中转全攻略_基础篇&lt;/h1&gt;
								&lt;/header&gt;
							&lt;/section&gt;
							&lt;section class="article"&gt;
								&lt;h2&gt;&lt;span style="font-size: 18pt;"&gt;0x01  -L参数&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;命令：&lt;br /&gt;
&lt;/strong&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f72dcdbb975272452" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
ssh -L5432：host_A:12345 ApacheServer@host_B&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f72dcdbb975272452-1"&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f72dcdbb975272452-1"&gt;&lt;span class="crayon-v"&gt;ssh&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-i"&gt;L5432&lt;/span&gt;：&lt;span class="crayon-v"&gt;host_A&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-cn"&gt;12345&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;ApacheServer&lt;/span&gt;&lt;span class="crayon-sy"&gt;@&lt;/span&gt;&lt;span class="crayon-v"&gt;host_B&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0006 seconds] --&gt;
&lt;p&gt;&lt;strong&gt;作用：&lt;/strong&gt;将本地机(客户机)的某个端口转发到远端指定机器的指定端口.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;工作原理：&lt;/strong&gt;本地机器上分配了一个 socket 侦听 port 端口（5432端口）, 一旦这个端口上有了连接, 该连接就经过本地计算机与远程计算机host_B的安全通道转发出去, 此时本地主机与远程主机之间的通信是加密的。同时远程主机host_B和 host_A 的 hostport 端口(12345端口)建立连接，此时远程主机host_B与目标主机host_A的通信是没有加密的。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;操作如下： &lt;/strong&gt;在远程主机用netcat监听12345端口，执行命令使远程主机的12345端口与本地的5432端口相连（注意操作的顺序问题，为了和下面的-R参数做区分）&lt;/p&gt;
&lt;div&gt;&lt;/div&gt;
&lt;div&gt;&lt;img class="aligncenter size-full wp-image-13680" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/SSH1.png" alt="SSH1" width="451" height="97" /&gt;&lt;/div&gt;
&lt;div&gt;&lt;/div&gt;
&lt;p&gt;这个时候telnet本地的5432端口，就相当于接到了远程主机的12345端口上：&lt;/p&gt;
&lt;div&gt;&lt;img class="aligncenter size-full wp-image-13681" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/SSH2.png" alt="SSH2" width="327" height="258" /&gt;&lt;/div&gt;
&lt;div&gt;&lt;/div&gt;
&lt;div&gt;
&lt;p&gt;&lt;strong&gt;应用场景一：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在本地主机上执行以下的命令，你想要访问受限网站staff.washington.edu，通过homer.u这台被你控制的主机进行中转：&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f72dcdca303159889" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
ssh -L3210:staff.washington.edu:80 some-server&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f72dcdca303159889-1"&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f72dcdca303159889-1"&gt;&lt;span class="crayon-v"&gt;ssh&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;L3210&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-v"&gt;staff&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;washington&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;edu&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-cn"&gt;80&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;some&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;server&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0007 seconds] --&gt;
&lt;p&gt;我们在浏览器上打开http://localhost:3210/corey/info.cgi 就相当于访问http://staff.washington.edu:80/corey/info.cgi&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;应用场景二：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;你拿下了目标的一台业务系统的服务器，刚好这台服务器host_A能够与外网主机通信，也能访问内网主机host_B:&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f72dcdd1067583850" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
ssh -L3210:host_B:80 host_A&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f72dcdd1067583850-1"&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f72dcdd1067583850-1"&gt;&lt;span class="crayon-v"&gt;ssh&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;L3210&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-v"&gt;host_B&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-cn"&gt;80&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;host_A&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;
&lt;p&gt;&lt;span style="color: #666666; font-family: 宋体, Arial; font-size: medium;"&gt;此时即可通过访问本地的3210端口来访问到目标机子上的80端口，便可以进行内网渗透了。&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;h2&gt;&lt;span style="font-size: 18pt;"&gt;0x02  -D参数&lt;/span&gt;&lt;/h2&gt;
&lt;div&gt;&lt;strong&gt;命令：&lt;/strong&gt;&lt;/div&gt;
&lt;div&gt;
&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f72dcdd8687731089" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
ssh2 -L socks/3210 homer.u	# if using commercial ssh2
ssh -2 -D 3210 homer.u		# if using a recent OpenSSH&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f72dcdd8687731089-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-55c05f72dcdd8687731089-2"&gt;2&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f72dcdd8687731089-1"&gt;&lt;span class="crayon-v"&gt;ssh2&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-i"&gt;L&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;socks&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-cn"&gt;3210&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;homer&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;u&lt;/span&gt;&lt;span class="crayon-h"&gt;	&lt;/span&gt;&lt;span class="crayon-p"&gt;# if using commercial ssh2&lt;/span&gt;&lt;/div&gt;&lt;div class="crayon-line crayon-striped-line" id="crayon-55c05f72dcdd8687731089-2"&gt;&lt;span class="crayon-v"&gt;ssh&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-cn"&gt;2&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-i"&gt;D&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-cn"&gt;3210&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;homer&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;u&lt;/span&gt;&lt;span class="crayon-h"&gt;		&lt;/span&gt;&lt;span class="crayon-p"&gt;# if using a recent OpenSSH&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0021 seconds] --&gt;

&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;作用：&lt;/strong&gt;充当本地soscks服务器&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;工作原理：&lt;/strong&gt;指定一个本地机器 “动态的&amp;#8221; 应用程序端口转发. 先 本地机器上分配了一个 socket 侦听 port 端口, 一旦这个端口上有了连接, 该连接就经过安全通道转发出去, 根据应用程序的协议可以判断出远程主机将和哪里连接..而且本地主机与远程主机之间的通信是加密的。&lt;br /&gt;
浏览器设置socks代理：&lt;/p&gt;
&lt;div&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/SSH4.png"&gt;&lt;img class="aligncenter size-full wp-image-13683" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/SSH4.png" alt="SSH4" width="533" height="478" /&gt;&lt;/a&gt;&lt;/div&gt;
&lt;p&gt;成功突破GFW的限制：&lt;/p&gt;
&lt;div&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/SSH3.png"&gt;&lt;img class="aligncenter size-full wp-image-13682" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/SSH3.png" alt="SSH3" width="477" height="216" /&gt;&lt;/a&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;应用场景：&lt;/strong&gt;可以干什么不用我说了吧！&lt;/p&gt;
&lt;h1&gt;&lt;span style="font-size: 18pt;"&gt;0x03  -R参数&lt;/span&gt;&lt;/h1&gt;
&lt;div&gt;&lt;strong&gt;命令：&lt;/strong&gt;&lt;/div&gt;
&lt;div&gt;
&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f72dcddf701369441" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
ssh -R4567:localhost:80 some-server&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f72dcddf701369441-1"&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f72dcddf701369441-1"&gt;&lt;span class="crayon-v"&gt;ssh&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;R4567&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-v"&gt;localhost&lt;/span&gt;&lt;span class="crayon-o"&gt;:&lt;/span&gt;&lt;span class="crayon-cn"&gt;80&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;some&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;server&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;

&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;作用：&lt;/strong&gt;将本地端指定机器的指定端口转发到远程主机(服务器)的某个端口&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;工作原理：&lt;/strong&gt; 远程主机上分配了一个 socket 侦听 port 端口, 一旦这个端口上有了连接, 该连接就经过安全通道转向出去, 同时本地主机和 host 的 hostport 端口建立连接.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;操作如下：&lt;/strong&gt;使用netcat在本地监听12345端口，在使用命令将本地12345端口反向连接到远程主机的5432端口上&lt;/p&gt;
&lt;div&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/SSH5.png"&gt;&lt;img class="aligncenter size-full wp-image-13684" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/SSH5.png" alt="SSH5" width="382" height="109" /&gt;&lt;/a&gt;&lt;/div&gt;
&lt;p&gt;此时Telnet远程主机的5432端口，即可连接到本地主机的12345端口上：&lt;/p&gt;
&lt;div&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/ssh6.png"&gt;&lt;img class="aligncenter size-full wp-image-13685" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/ssh6.png" alt="ssh6" width="495" height="130" /&gt;&lt;/a&gt;&lt;/div&gt;
&lt;p&gt;其实-R和-L参数的原理差不多，我手绘了一张图帮助大家理解一下（不要嫌丑啊，看懂就行）：&lt;/p&gt;
&lt;div&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/SSH7.jpg"&gt;&lt;img class="aligncenter size-large wp-image-13686" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/SSH7-901x1024.jpg" alt="SSH7" width="901" height="1024" /&gt;&lt;/a&gt;&lt;/div&gt;
&lt;div&gt;
&lt;div&gt;        从上面的图可以看出，-R参数和-L参数的应用场景是一模一样的，区别有两点：第一是执行命令的地方，第二是中转主机的条件限制，中转主机一般就是我们在渗透中获得的“口子”（渗透的入口，一般是web业务应用系统），根据口子的条件限制，我们采用的中转方式也不同：&lt;/div&gt;
&lt;div&gt;        -L参数使用于中转机能与外网直接相连，没有防火墙的限制，并且中转机有双网卡，能够直达内网。当然，这种情况在渗透中极其少见，一般遇到一台就偷笑了。（不过在更大型的网络结构中，找到具有双网卡的内网主机，往往是渗透的突破口）。&lt;/div&gt;
&lt;div&gt;        我们经常与到的场景是，业务服务器部署在DMZ区，甚至部署在内网区域。通过路由器的端口映射将业务端口映射到外网供用户访问。拿到“口子”之后，中转主机具有内网IP。这个时候，-R参数就起作用了。通过反向连接，将内网的流量中转到外网的肉鸡上，然后再进行下一步的渗透攻击。&lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;0x04  其他参数&lt;/h2&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f72dcde8402397943" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
-f Fork into background after authentication.&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f72dcde8402397943-1"&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f72dcde8402397943-1"&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-i"&gt;f&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;Fork &lt;/span&gt;&lt;span class="crayon-e"&gt;into &lt;/span&gt;&lt;span class="crayon-e"&gt;background &lt;/span&gt;&lt;span class="crayon-e"&gt;after &lt;/span&gt;&lt;span class="crayon-v"&gt;authentication&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;
&lt;p&gt;后台认证用户/密码，通常和-N连用，不用登录到远程主机。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f72dcdef143511938" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
-N Do not execute a shell or command.&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f72dcdef143511938-1"&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f72dcdef143511938-1"&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-i"&gt;N&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;Do&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-st"&gt;not&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-i"&gt;execute&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-i"&gt;a&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;shell &lt;/span&gt;&lt;span class="crayon-st"&gt;or&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-v"&gt;command&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0007 seconds] --&gt;
&lt;p&gt;不执行脚本或命令，通常与-f连用。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f72dcdf5153408731" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
-C Enable compression.&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f72dcdf5153408731-1"&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f72dcdf5153408731-1"&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-i"&gt;C&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;Enable &lt;/span&gt;&lt;span class="crayon-v"&gt;compression&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;压缩数据传输。&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v2.6.9 --&gt;

		&lt;div id="crayon-55c05f72dcdfb760393500" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"&gt;
		
			&lt;div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;span class="crayon-title"&gt;&lt;/span&gt;
			&lt;div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"&gt;&lt;div class="crayon-button crayon-nums-button" title="切换是否显示行编号"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-plain-button" title="纯文本显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-wrap-button" title="切换自动换行"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-expand-button" title="点击展开代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-copy-button" title="复制代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"&gt;&lt;div class="crayon-button-icon"&gt;&lt;/div&gt;&lt;/div&gt;&lt;span class="crayon-language"&gt;Default&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
			&lt;div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"&gt;&lt;/div&gt;
			&lt;div class="crayon-plain-wrap"&gt;&lt;textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;"&gt;
-g Allow remote hosts to connect to forwarded ports.&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class="crayon-main" style=""&gt;
				&lt;table class="crayon-table"&gt;
					&lt;tr class="crayon-row"&gt;
				&lt;td class="crayon-nums " data-settings="show"&gt;
					&lt;div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"&gt;&lt;div class="crayon-num" data-line="crayon-55c05f72dcdfb760393500-1"&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"&gt;&lt;div class="crayon-line" id="crayon-55c05f72dcdfb760393500-1"&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-i"&gt;g&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;Allow &lt;/span&gt;&lt;span class="crayon-e"&gt;remote &lt;/span&gt;&lt;span class="crayon-e"&gt;hosts &lt;/span&gt;&lt;span class="crayon-st"&gt;to&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;connect &lt;/span&gt;&lt;span class="crayon-st"&gt;to&lt;/span&gt;&lt;span class="crayon-h"&gt; &lt;/span&gt;&lt;span class="crayon-e"&gt;forwarded &lt;/span&gt;&lt;span class="crayon-v"&gt;ports&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0007 seconds] --&gt;
&lt;p&gt;在-L/-R/-D参数中，允许远程主机连接到建立的转发的端口，如果不加这个参数，只允许本地主机建立连接。&lt;/p&gt;
&lt;p&gt;注：这个参数我在实践中似乎始终不起作用。哪位高手可以指点指点一下?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;参考文献：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;http://blog.chinaunix.net/uid-7530389-id-2050093.html&lt;/p&gt;
&lt;p&gt;http://staff.washington.edu/corey/fw/ssh-port-forwarding.html&lt;/p&gt;
&lt;p&gt;http://www.server110.com/linux/201311/3451.html&lt;/p&gt;
&lt;p&gt;http://www.cnblogs.com/weafer/archive/2011/06/10/2077852.html&lt;/p&gt;
&lt;p&gt;http://drops.wooyun.org/tips/1951&lt;/p&gt;
&lt;p&gt;【via@&lt;a href="http://www.91ri.org"&gt;91Ri团队&lt;/a&gt;-月巴又鸟】&lt;/p&gt;
							&lt;/section&gt;
							&lt;section class="single-post-share cf"&gt;
							&lt;div class="single-post-share-social"&gt;
								&lt;ul class="single-post-share-social__action"&gt;
									&lt;li&gt;
										&lt;a class="social-btn share-btn" href="javascript:void(0)"&gt;&lt;i class="icon icon-share"&gt;&lt;/i&gt; &lt;span&gt;&lt;/span&gt; &lt;/a&gt;
										&lt;div class="single-post-social__popup"&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13679.html&amp;title=SSH端口中转全攻略_基础篇" target="_blank" class="weibo"&gt;
										    &lt;i class="icon-social-weibo"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13679.html&amp;title=SSH端口中转全攻略_基础篇&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;
										    &lt;i class="icon-social-qq"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=twi&amp;url=https://www.91ri.org/13679.html&amp;title=SSH端口中转全攻略_基础篇&amp;key=" target="_blank" class="twitter"&gt;
										    &lt;i class="icon-social-twitter"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" target="_blank" class="evernote"&gt;
										    &lt;i class="icon-social-evernote"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=douban&amp;url=https://www.91ri.org/13679.html&amp;title=SSH端口中转全攻略_基础篇" target="_blank" class="douban"&gt;
										    &lt;i class="icon-social-douban"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=renren&amp;url=https://www.91ri.org/13679.html&amp;title=SSH端口中转全攻略_基础篇" target="_blank" class="renren"&gt;
										    &lt;i class="icon-social-renren"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										&lt;/div&gt;
									&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;div class="single-post-share-list"&gt;
								&lt;ul class="cf"&gt;
									&lt;li&gt;&lt;a href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13679.html&amp;title=SSH端口中转全攻略_基础篇" target="_blank" class="weibo"&gt;分享到微博&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="#panel-weixin" class="weixin overlay"&gt;分享到微信&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13679.html&amp;title=SSH端口中转全攻略_基础篇&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;分享到QQ&lt;/a&gt;&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;/section&gt;
																		&lt;/article&gt;</description><comments>https://www.91ri.org/13679.html#comments</comments><guid>https://www.91ri.org/13679.html12</guid><pubDate>Tue, 04 Aug 2015 17:41:16 GMT</pubDate></item><item><title>有源代码就可控了吗？——SE Linux疑云</title><link>https://www.91ri.org/13725.html</link><description>&lt;article class="single-post"&gt;
													&lt;section class="single-post-header"&gt;
								&lt;div class="single-post-header__headline"&gt;&lt;img src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/222-1.jpg" alt=""&gt;&lt;/div&gt;
								&lt;header class="single-post-header__meta"&gt;
									&lt;div class="single-post__postmeta"&gt; • 2015/07/21                    &lt;span style="float:right;color:#51aded;"&gt;作者: &lt;b&gt;网安志异&lt;/b&gt;&lt;/span&gt;
                  &lt;/div&gt;
									&lt;h1 class="single-post__title"&gt;有源代码就可控了吗？——SE Linux疑云&lt;/h1&gt;
								&lt;/header&gt;
							&lt;/section&gt;
							&lt;section class="article"&gt;
								&lt;p&gt;斯诺登的爆料使全世界都带着怀疑的目光重新审视NSA，对他们所做的每一件事情充满怀疑。NSA刚刚推出SELinux那几年，人们就不断地追问，NSA的代码是否可信赖？是否有后门？但SELinux是开源的，理论上人人都可以去看源码里面有没有后门，也从没有人发现过后门，所以讨论渐渐偃旗息鼓。可到了2013年，斯诺登横空出世，这个怀疑再度喧嚣尘上。&lt;/p&gt;
&lt;p&gt;SELinux是一个Linux内核模块，2000年底在GPL许可下发布，2003年8月进入2.6.0-test3内核，为Linux提供了一个DOD(Department of Defense，指美国国防部)风格的强制访问控制（MAC/Mandatory Access Control）(0)安全策略。所谓强制访问控制，简单的说，就是禁止用户自己改变程序对文件的读写权限，一切访问控制规则都由系统策略管理者事先确定。&lt;/p&gt;
&lt;p&gt;在不支持强制访问控制（即“自主访问控制”）的系统里，系统管理员的权限不受限制。比如Linux系统中，root用户可以做任何事情，权限不受限制，一个rm–rf /就可以把整个系统毁掉，或者某个有root权限的进程被攻击者插入执行指令，那么整个系统就都在攻击者的控制之下了。这个问题其实早在SELinux出现一年半之前就有人意识到。&lt;/p&gt;
&lt;p&gt;1999年，正在读中科院计算所读研究生的Huagang研究内核的虚拟文件系统VFS源代码时冒出一个想法，很快他动手实现了一个内核补丁，给内核增加了强制访问控制，这就是LIDS项目(1)。那时候的内核版本应该还是2.2。2000年，LIDS被nmap用户评为Top 50 Security tools之一，那时候SELinux还不存在。2006年的DEF CON上Huagang同学用流利的英文讲解了他的LIDS项目(2)。NSA在开发SELinux的过程中是否学习了LIDS？我们不得而知。&lt;/p&gt;
&lt;p&gt;现在SELinux已经是内核的一部分，所有的主流的发行版都内置了这个模块。基于Linux内核的Android在4.3以后也启用了SELinux。如今，全世界运行的基于Linux内核的设备超过10亿台，如果SELinux代码里有NSA隐藏的后门，后果难以想象。&lt;/p&gt;
&lt;p&gt;2013年，斯诺登事件爆发之后的一次Linux大会上，有人问Linus Torvalds(Linux的发明者，也是现在的内核代码维护者)：美国政府有没有接触他，要求在Linux内核中加入后门。Linus当时的回答耐人寻味，他嘴上说“No”，同时却用点头表达了“Yes”的意思。随后他声明说那样的表达是想开个玩笑。两个月后，他的父亲，欧盟议会的芬兰议员Nils Torvalds在一次听证会上在(3)作证说，他的儿子Linus这样的表达是为了避免受到法律追究，每个人都应该明白，NSA确实接触过Linus。&lt;/p&gt;
&lt;p&gt;不要觉得这些人太神经兮兮，因为有前车之鉴。NSA在椭圆曲线算法ECDSA标准中写入了几个神秘的参数，使得SECP256r1曲线被弱化。弱化到何种程度？如何利用？到现在为止除了NSA自己还没有人清楚(4)。此外，NSA还对欧盟很多国家领导人的通话进行了长期的监听，欧洲人对此非常谨慎是有道理的。&lt;/p&gt;
&lt;p&gt;代码开源，但其中的问题但一直没人发现，隐藏多年突然爆出，造成巨大安全影响，这种事情太多了。去年的OpenSSL的Heartbleed和Bash的破壳漏洞就是两个重量级的例子。专门有一个“有猫腻的C代码”的比赛，目的是写出看起来毫无问题的C代码，里面却偷偷地藏着后门。觉得不可能？去这个网站看看吧(5)。2014年获奖者的代码是利用malloc函数不清除释放内存内容的问题，偷偷获取本不应该获得的数据。值得一提的是，Heartbleed就是这个问题造成的。&lt;/p&gt;
&lt;p&gt;如果不进行代码审计，以为有源代码就“可信”了，就可以在上面开发“自主可控”的国产软件了，这种想法颇为天真。曾经以及现在，微软应某国政府的要求，以只能局部翻阅的方式把Windows源代码“开放”出来供审查，来证明自己没有后门。只能说，这些大公司像城里人一样，真会玩。&lt;/p&gt;
&lt;p&gt;SELinux的故事没有结论。因为没有可信的机构对这些至关重要的源代码进行过安全审计。随着开源代码的规模和复杂度急剧增长，代码审计越来越难做到。但无论如何，把宝压在别人的人品上，靠其他人的眼睛找问题，都是不够谨慎的做法。开源软件是财富，但只伸手索取而不做出共享，问题不仅仅是被鄙视，还在于被动，以及，比别人承担了更大的风险。&lt;/p&gt;
&lt;p&gt;(0)MAC这个术语最早是美国国防部在1985年的橘皮书(http://csrc.nist.gov/publications/history/dod85.pdf)里定义的，所以说它带有DOD风格。这个橘皮书一般称为DOD85，定了可信计算机系统评估准则TCSEC(TrustedComputer System Evaluation Criteria)，是后来一系列技术标准的基础，包括ITSEC/通用评估准则CC/ISO15408等等。到了中国，DOD85变成了非技术标准《等级划分准则GB17859》及其后等级保护系列标准，CC及ISO15408变成了GB/T18336。&lt;/p&gt;
&lt;p&gt;(1)https://en.wikipedia.org/wiki/Linux_Intrusion_Detection_System&lt;/p&gt;
&lt;p&gt;(2)https://www.youtube.com/watch?v=YfC_yV3ZGd0&lt;/p&gt;
&lt;p&gt;(3)https://www.youtube.com/watch?v=wwRYyWn7BEo&lt;/p&gt;
&lt;p&gt;(4)http://rump2007.cr.yp.to/15-shumow.pdf&lt;/p&gt;
&lt;p&gt;(5)http://www.underhanded-c.org/&lt;/p&gt;
&lt;p&gt;[via@&lt;strong class="profile_nickname"&gt;&lt;a href="http://mp.weixin.qq.com/s?__biz=MzAxNzYyNzMyNg==&amp;amp;mid=210690975&amp;amp;idx=1&amp;amp;sn=5cf57371ce5e978d68b478f94eae521e#rd"&gt;网安志异&lt;/a&gt;]&lt;/strong&gt;&lt;/p&gt;
							&lt;/section&gt;
							&lt;section class="single-post-share cf"&gt;
							&lt;div class="single-post-share-social"&gt;
								&lt;ul class="single-post-share-social__action"&gt;
									&lt;li&gt;
										&lt;a class="social-btn share-btn" href="javascript:void(0)"&gt;&lt;i class="icon icon-share"&gt;&lt;/i&gt; &lt;span&gt;&lt;/span&gt; &lt;/a&gt;
										&lt;div class="single-post-social__popup"&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13725.html&amp;title=有源代码就可控了吗？——SE Linux疑云" target="_blank" class="weibo"&gt;
										    &lt;i class="icon-social-weibo"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13725.html&amp;title=有源代码就可控了吗？——SE Linux疑云&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;
										    &lt;i class="icon-social-qq"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=twi&amp;url=https://www.91ri.org/13725.html&amp;title=有源代码就可控了吗？——SE Linux疑云&amp;key=" target="_blank" class="twitter"&gt;
										    &lt;i class="icon-social-twitter"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" target="_blank" class="evernote"&gt;
										    &lt;i class="icon-social-evernote"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=douban&amp;url=https://www.91ri.org/13725.html&amp;title=有源代码就可控了吗？——SE Linux疑云" target="_blank" class="douban"&gt;
										    &lt;i class="icon-social-douban"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=renren&amp;url=https://www.91ri.org/13725.html&amp;title=有源代码就可控了吗？——SE Linux疑云" target="_blank" class="renren"&gt;
										    &lt;i class="icon-social-renren"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										&lt;/div&gt;
									&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;div class="single-post-share-list"&gt;
								&lt;ul class="cf"&gt;
									&lt;li&gt;&lt;a href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13725.html&amp;title=有源代码就可控了吗？——SE Linux疑云" target="_blank" class="weibo"&gt;分享到微博&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="#panel-weixin" class="weixin overlay"&gt;分享到微信&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13725.html&amp;title=有源代码就可控了吗？——SE Linux疑云&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;分享到QQ&lt;/a&gt;&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;/section&gt;
																		&lt;/article&gt;</description><comments>https://www.91ri.org/13725.html#comments</comments><guid>https://www.91ri.org/13725.html13</guid><pubDate>Tue, 04 Aug 2015 17:41:11 GMT</pubDate></item><item><title>乌云来袭（下）</title><link>https://www.91ri.org/13701.html</link><description>&lt;article class="single-post"&gt;
													&lt;section class="single-post-header"&gt;
								&lt;div class="single-post-header__headline"&gt;&lt;img src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/13.jpg" alt=""&gt;&lt;/div&gt;
								&lt;header class="single-post-header__meta"&gt;
									&lt;div class="single-post__postmeta"&gt; • 2015/07/19                    &lt;span style="float:right;color:#51aded;"&gt;作者: &lt;b&gt;91Ri团队-小利&lt;/b&gt;&lt;/span&gt;
                  &lt;/div&gt;
									&lt;h1 class="single-post__title"&gt;乌云来袭（下）&lt;/h1&gt;
								&lt;/header&gt;
							&lt;/section&gt;
							&lt;section class="article"&gt;
								&lt;p&gt;今天是白帽子专场，议题内容都是非常接地气的。手机卡，飞行器，邮件系统，物联网+云存在各种各样的问题，如果这些问题被恶意利用，定点攻击普通人真的是太轻松了。小编已然被今天的演示效果征服了。&lt;/p&gt;
&lt;p&gt;主持人是长腿欧巴浩天叔和女神肉肉。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/mmexport1437314463238.jpg"&gt;&lt;img class="alignnone size-full wp-image-13694" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/mmexport1437314463238.jpg" alt="mmexport1437314463238" width="800" height="533" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;第一个议题是由疯狗带来的《struts 2事件两周年启示及乌云颁奖》。他回忆了struts 2漏洞爆发事件，并解释了白帽子节的由来——2013年的7月17日正是Struts 2事件爆发时间，他还表示以后乌云峰会会尽量在这天举办。印象深刻的是在wooyun上的良心厂商很少。相比之下，不那么良心的厂商有点多，比如泛微OA软件厂商，当泛微OA在wooyun上被爆出漏洞时，他的客户请求修复时，泛微OA的态度是”要修复可以，给15万我给你修复”。小编也认为这样是不合理的，和”买一辆车后，坏了去修汽车修理商要收费”这种不一样，软件系统的客户购买的时候软件已经是一个”损坏”的有问题的系统。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/mmexport1437314456523.jpg"&gt;&lt;img class="alignnone size-full wp-image-13695" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/mmexport1437314456523.jpg" alt="mmexport1437314456523" width="800" height="533" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;第二个议题是由乌云白帽子毕月乌带来的第一个议题《手机号背后的灰色地带》。在这个议题中，白帽子现场为我们演示了只利用一个ipad轻松伪造任意号码向其他手机拨号。小编表示虽然以前听过，但是现场看的时候更能感受到真实世界中的不可信因素。原理就是欺骗网络电话运营商。小编印象更深刻的是毕月乌说的一句话，”伪造任意号码已经简单到可以全民普及了”。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/2.jpg"&gt;&lt;img class="alignnone size-full wp-image-13698" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/2.jpg" alt="2" width="1936" height="2592" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;接下来是上海交通大学LoCCS实验室的白帽子同学带来的议题《USIM3G/4G USIM卡的安全性分析》。这个议题以一段视频开始。在这个视频中，一张USIM手机卡被复制后，复制后的卡可以接收原来的卡的短信，冒充原卡向外打电话，而且在外部看来，这两张卡没有什么区别。这个议题中小编印象中能理解的最深刻的部分就是复制卡这个部分了。后面这位白帽子同学还对比下2G SIM卡和3/4G SIM卡的优劣势，并且详细介绍了对3/4G SIM卡的一种旁路攻击。作为一名通信工程学渣，小编听原理的时候确实听不懂，但是觉得旁路攻击真牛逼。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/3.jpg"&gt;&lt;img class="alignnone size-full wp-image-13699" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/3.jpg" alt="3" width="1936" height="2592" /&gt;&lt;/a&gt; &lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/4.jpg"&gt;&lt;img class="alignnone size-full wp-image-13700" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/4.jpg" alt="4" width="1936" height="2592" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/5.jpg"&gt;&lt;img class="alignnone size-full wp-image-13702" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/5.jpg" alt="5" width="2592" height="1936" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;第三个议题是乌云白帽子Rayxcp带来的《无人飞行器安全性分析》。其实听到这个议题名字的时候，小编想到了前几个星期某男子在清华用无人机表白时的新闻，心想那个无人机应该就是这个无人飞行器吧，好像很多人用的样子。后面白帽子介绍时，才知道国内外的某些快递公司已经在用无人机送快递，甚至南京警方组建了”玄飞手”警务无人机分队。然而，由于小编坐了很久的地铁，连着听了三个议题，有点累了，马上要昏昏欲睡了（年纪不大身体却不好使了，唉）。小编影响深刻的是Rayxcp自己买了设备后，研究设备的控制方式，发现在WiFi环境下可以ssh到无人机设备上。但是能连接到无人机设备上，还不知道怎么控制无人机。第一次听到对未知设备的分析，感觉Rayxcp在这分析的一路上一波三折，最后还是实力征服无人机，赞！&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/6.jpg"&gt;&lt;img class="alignnone size-full wp-image-13703" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/6.jpg" alt="6" width="1936" height="2592" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/7.jpg"&gt;&lt;img class="alignnone size-full wp-image-13705" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/7.jpg" alt="7" width="1936" height="2592" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;下午的第一个议题是PKAV团队带来的《由PC端安全问题引发的重重隐患》。这个议题中，PKAV团队的同学没有过多华丽的铺垫，上来直接播放了三个小视频，分别是PC端，浏览器端，手机端邮箱安全问题的演示。无一例外，这三类客户端中打开邮件后，邮件数据全部能被攻击者窃取。不用说太多，看完视频就觉得如果邮件系统开发商没有一个积极的安全态度，真是应该被拖出去打。都是视频，小编又忘了拍照。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/8.jpg"&gt;&lt;img class="alignnone size-full wp-image-13706" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/8.jpg" alt="8" width="1936" height="2592" /&gt;&lt;/a&gt;&lt;br /&gt;
然后是乌云白帽子Only_Guest带来的《云安全现场演示》。Only_Guest用了好几个安全案例现场演示，效果震撼。比如黑客吃饭不花钱，出租车状态全知道，用一个邮箱就可以匹配出所有的已注册网站等等。小编看醉了，都快忘了拍照了。小编印象深刻的是Only_Guest在台上边喝酒边讲，叼叼叼。不得不说，Only_Guest真的是个好段子手啊，PPT很有意思的说。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/9.jpg"&gt;&lt;img class="alignnone size-full wp-image-13707" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/9.jpg" alt="9" width="1936" height="2592" /&gt;&lt;/a&gt;&lt;br /&gt;
接下来是来自台湾HITCON CTF队长Orange带来的《CTF经验分享》。Orange分享了他一路来参加各种CTF时的趣事和心得。Orange说，在他参加的比赛中web题目不多，作为一只web狗要在CTF中存活，是需要多学点逆向方面的知识。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/10.jpg"&gt;&lt;img class="alignnone size-full wp-image-13708" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/10.jpg" alt="10" width="1936" height="2592" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;然后是来自拉勾网CTO侯杰带来的《互联网安全人才发展现状》。侯杰用了很多张图来说明了一些他了解到的一些数据。总结成一句话就是，安全行业是个好行业。其实今天的这场乌云峰会也是为了让大家更近距离了解到安全就在我们身边，让更多有才能的小伙伴加入这个行业，为安全做出更多贡献。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/111.jpg"&gt;&lt;img class="alignnone size-full wp-image-13709" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/111.jpg" alt="11" width="1936" height="2592" /&gt;&lt;/a&gt;&lt;br /&gt;
最后的圆桌讨论中也是见到了很多大神前辈。有1998年感染了六千多万台电脑的CIH病毒的作者陈盈豪，还有HITCON创始人TT以及UCloud创始人季昕华和真格基金合伙人李剑威、乌云创始人剑心、IBM安全架构师李承达，圆桌的支持人则是来自锤子的池建强。一直以为大牛们都是很严肃的，但是这次真心开了眼界，都还是蛮逗蛮亲切的嘛。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/12.jpg"&gt;&lt;img class="alignnone size-full wp-image-13710" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/12.jpg" alt="12" width="2592" height="1936" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/IMG_20150718_165829.jpg"&gt;&lt;img class="alignnone size-full wp-image-13711" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/IMG_20150718_165829.jpg" alt="IMG_20150718_165829" width="1872" height="3328" /&gt;&lt;/a&gt; &lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/IMG_20150718_170034.jpg"&gt;&lt;img class="alignnone size-full wp-image-13712" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/IMG_20150718_170034.jpg" alt="IMG_20150718_170034" width="1872" height="3328" /&gt;&lt;/a&gt; &lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/IMG_20150718_171515.jpg"&gt;&lt;img class="alignnone size-full wp-image-13713" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/IMG_20150718_171515.jpg" alt="IMG_20150718_171515" width="1872" height="3328" /&gt;&lt;/a&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/IMG_20150718_172724.jpg"&gt;&lt;img class="alignnone size-full wp-image-13715" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/IMG_20150718_172724.jpg" alt="IMG_20150718_172724" width="1872" height="3328" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;圆桌讨论的结束也代表了本次乌云峰会的圆满结束，当然，不能漏掉晚上的乌云酒会啦。晚上小编去酒会溜达了一圈，终于见识到了第一家黑客酒吧，喝到了传说中的DDOS和心脏滴血。（DDOS忘记拍照了，给大家留点悬念吧~）&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/IMG_20150718_204106.jpg"&gt;&lt;img class="alignnone size-full wp-image-13716" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/IMG_20150718_204106.jpg" alt="IMG_20150718_204106" width="1872" height="3328" /&gt;&lt;/a&gt; &lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/IMG_20150718_212045.jpg"&gt;&lt;img class="alignnone size-full wp-image-13718" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/IMG_20150718_212045.jpg" alt="IMG_20150718_212045" width="1872" height="3328" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/IMG_20150718_213237.jpg"&gt;&lt;img class="alignnone size-full wp-image-13722" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/IMG_20150718_213237.jpg" alt="IMG_20150718_213237" width="3328" height="1872" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;乌云峰会就这样落下了帷幕，感谢乌云为安全行业带来这样的一个安全盛宴，也期待有更多小伙伴加入这个行业，和我们一起hacking for fun~&lt;/p&gt;
&lt;p&gt;&lt;a href="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/IMG_20150717_183243.jpg"&gt;&lt;img class="alignnone size-full wp-image-13723" src="https://static-js.b0.upaiyun.com/wp-content/uploads/2015/07/IMG_20150717_183243.jpg" alt="IMG_20150717_183243" width="3328" height="1872" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.91ri.org/13701.html"&gt;（via@91Ri团队-小利）&lt;/a&gt;&lt;/p&gt;
							&lt;/section&gt;
							&lt;section class="single-post-share cf"&gt;
							&lt;div class="single-post-share-social"&gt;
								&lt;ul class="single-post-share-social__action"&gt;
									&lt;li&gt;
										&lt;a class="social-btn share-btn" href="javascript:void(0)"&gt;&lt;i class="icon icon-share"&gt;&lt;/i&gt; &lt;span&gt;&lt;/span&gt; &lt;/a&gt;
										&lt;div class="single-post-social__popup"&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13701.html&amp;title=乌云来袭（下）" target="_blank" class="weibo"&gt;
										    &lt;i class="icon-social-weibo"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13701.html&amp;title=乌云来袭（下）&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;
										    &lt;i class="icon-social-qq"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=twi&amp;url=https://www.91ri.org/13701.html&amp;title=乌云来袭（下）&amp;key=" target="_blank" class="twitter"&gt;
										    &lt;i class="icon-social-twitter"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" target="_blank" class="evernote"&gt;
										    &lt;i class="icon-social-evernote"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=douban&amp;url=https://www.91ri.org/13701.html&amp;title=乌云来袭（下）" target="_blank" class="douban"&gt;
										    &lt;i class="icon-social-douban"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										  &lt;a ref="nofollow" href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=renren&amp;url=https://www.91ri.org/13701.html&amp;title=乌云来袭（下）" target="_blank" class="renren"&gt;
										    &lt;i class="icon-social-renren"&gt;&lt;/i&gt;
										  &lt;/a&gt;
										&lt;/div&gt;
									&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;div class="single-post-share-list"&gt;
								&lt;ul class="cf"&gt;
									&lt;li&gt;&lt;a href="http://share.baidu.com/s?type=text&amp;searchPic=0&amp;sign=on&amp;to=tsina&amp;url=https://www.91ri.org/13701.html&amp;title=乌云来袭（下）" target="_blank" class="weibo"&gt;分享到微博&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="#panel-weixin" class="weixin overlay"&gt;分享到微信&lt;/a&gt;&lt;/li&gt;
									&lt;li&gt;&lt;a href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.91ri.org/13701.html&amp;title=乌云来袭（下）&amp;source=shareqq&amp;desc=刚看到这篇文章不错，推荐给你看看～" target="_blank" class="qq"&gt;分享到QQ&lt;/a&gt;&lt;/li&gt;
								&lt;/ul&gt;
							&lt;/div&gt;
							&lt;/section&gt;
																		&lt;/article&gt;</description><comments>https://www.91ri.org/13701.html#comments</comments><guid>https://www.91ri.org/13701.html14</guid><pubDate>Tue, 04 Aug 2015 17:41:08 GMT</pubDate></item></channel></rss>